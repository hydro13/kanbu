function EN(e,r){for(var s=0;s<r.length;s++){const i=r[s];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function pm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xf={exports:{}},sl={};var Zx;function MN(){if(Zx)return sl;Zx=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:e,type:i,key:d,ref:o!==void 0?o:null,props:u}}return sl.Fragment=r,sl.jsx=s,sl.jsxs=s,sl}var Jx;function RN(){return Jx||(Jx=1,Xf.exports=MN()),Xf.exports}var n=RN(),Zf={exports:{}},Ne={};var ey;function TN(){if(ey)return Ne;ey=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function j(_){return _===null||typeof _!="object"?null:(_=b&&_[b]||_["@@iterator"],typeof _=="function"?_:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function C(_,B,X){this.props=_,this.context=B,this.refs=w,this.updater=X||S}C.prototype.isReactComponent={},C.prototype.setState=function(_,B){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,B,"setState")},C.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function A(){}A.prototype=C.prototype;function R(_,B,X){this.props=_,this.context=B,this.refs=w,this.updater=X||S}var O=R.prototype=new A;O.constructor=R,k(O,C.prototype),O.isPureReactComponent=!0;var T=Array.isArray;function L(){}var E={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function P(_,B,X){var ee=X.ref;return{$$typeof:e,type:_,key:B,ref:ee!==void 0?ee:null,props:X}}function K(_,B){return P(_.type,B,_.props)}function Y(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function ae(_){var B={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(X){return B[X]})}var ie=/\/+/g;function le(_,B){return typeof _=="object"&&_!==null&&_.key!=null?ae(""+_.key):B.toString(36)}function ue(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(L,L):(_.status="pending",_.then(function(B){_.status==="pending"&&(_.status="fulfilled",_.value=B)},function(B){_.status==="pending"&&(_.status="rejected",_.reason=B)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function H(_,B,X,ee,se){var fe=typeof _;(fe==="undefined"||fe==="boolean")&&(_=null);var ye=!1;if(_===null)ye=!0;else switch(fe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(_.$$typeof){case e:case r:ye=!0;break;case x:return ye=_._init,H(ye(_._payload),B,X,ee,se)}}if(ye)return se=se(_),ye=ee===""?"."+le(_,0):ee,T(se)?(X="",ye!=null&&(X=ye.replace(ie,"$&/")+"/"),H(se,B,X,"",function(Re){return Re})):se!=null&&(Y(se)&&(se=K(se,X+(se.key==null||_&&_.key===se.key?"":(""+se.key).replace(ie,"$&/")+"/")+ye)),B.push(se)),1;ye=0;var et=ee===""?".":ee+":";if(T(_))for(var Le=0;Le<_.length;Le++)ee=_[Le],fe=et+le(ee,Le),ye+=H(ee,B,X,fe,se);else if(Le=j(_),typeof Le=="function")for(_=Le.call(_),Le=0;!(ee=_.next()).done;)ee=ee.value,fe=et+le(ee,Le++),ye+=H(ee,B,X,fe,se);else if(fe==="object"){if(typeof _.then=="function")return H(ue(_),B,X,ee,se);throw B=String(_),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Q(_,B,X){if(_==null)return _;var ee=[],se=0;return H(_,ee,"","",function(fe){return B.call(X,fe,se++)}),ee}function I(_){if(_._status===-1){var B=_._result;B=B(),B.then(function(X){(_._status===0||_._status===-1)&&(_._status=1,_._result=X)},function(X){(_._status===0||_._status===-1)&&(_._status=2,_._result=X)}),_._status===-1&&(_._status=0,_._result=B)}if(_._status===1)return _._result.default;throw _._result}var ne=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},ce={map:Q,forEach:function(_,B,X){Q(_,function(){B.apply(this,arguments)},X)},count:function(_){var B=0;return Q(_,function(){B++}),B},toArray:function(_){return Q(_,function(B){return B})||[]},only:function(_){if(!Y(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Ne.Activity=y,Ne.Children=ce,Ne.Component=C,Ne.Fragment=s,Ne.Profiler=o,Ne.PureComponent=R,Ne.StrictMode=i,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(_){return E.H.useMemoCache(_)}},Ne.cache=function(_){return function(){return _.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(_,B,X){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var ee=k({},_.props),se=_.key;if(B!=null)for(fe in B.key!==void 0&&(se=""+B.key),B)!D.call(B,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&B.ref===void 0||(ee[fe]=B[fe]);var fe=arguments.length-2;if(fe===1)ee.children=X;else if(1<fe){for(var ye=Array(fe),et=0;et<fe;et++)ye[et]=arguments[et+2];ee.children=ye}return P(_.type,se,ee)},Ne.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},Ne.createElement=function(_,B,X){var ee,se={},fe=null;if(B!=null)for(ee in B.key!==void 0&&(fe=""+B.key),B)D.call(B,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(se[ee]=B[ee]);var ye=arguments.length-2;if(ye===1)se.children=X;else if(1<ye){for(var et=Array(ye),Le=0;Le<ye;Le++)et[Le]=arguments[Le+2];se.children=et}if(_&&_.defaultProps)for(ee in ye=_.defaultProps,ye)se[ee]===void 0&&(se[ee]=ye[ee]);return P(_,fe,se)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(_){return{$$typeof:f,render:_}},Ne.isValidElement=Y,Ne.lazy=function(_){return{$$typeof:x,_payload:{_status:-1,_result:_},_init:I}},Ne.memo=function(_,B){return{$$typeof:m,type:_,compare:B===void 0?null:B}},Ne.startTransition=function(_){var B=E.T,X={};E.T=X;try{var ee=_(),se=E.S;se!==null&&se(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(L,ne)}catch(fe){ne(fe)}finally{B!==null&&X.types!==null&&(B.types=X.types),E.T=B}},Ne.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Ne.use=function(_){return E.H.use(_)},Ne.useActionState=function(_,B,X){return E.H.useActionState(_,B,X)},Ne.useCallback=function(_,B){return E.H.useCallback(_,B)},Ne.useContext=function(_){return E.H.useContext(_)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(_,B){return E.H.useDeferredValue(_,B)},Ne.useEffect=function(_,B){return E.H.useEffect(_,B)},Ne.useEffectEvent=function(_){return E.H.useEffectEvent(_)},Ne.useId=function(){return E.H.useId()},Ne.useImperativeHandle=function(_,B,X){return E.H.useImperativeHandle(_,B,X)},Ne.useInsertionEffect=function(_,B){return E.H.useInsertionEffect(_,B)},Ne.useLayoutEffect=function(_,B){return E.H.useLayoutEffect(_,B)},Ne.useMemo=function(_,B){return E.H.useMemo(_,B)},Ne.useOptimistic=function(_,B){return E.H.useOptimistic(_,B)},Ne.useReducer=function(_,B,X){return E.H.useReducer(_,B,X)},Ne.useRef=function(_){return E.H.useRef(_)},Ne.useState=function(_){return E.H.useState(_)},Ne.useSyncExternalStore=function(_,B,X){return E.H.useSyncExternalStore(_,B,X)},Ne.useTransition=function(){return E.H.useTransition()},Ne.version="19.2.3",Ne}var ty;function uu(){return ty||(ty=1,Zf.exports=TN()),Zf.exports}var v=uu();const ke=pm(v),du=EN({__proto__:null,default:ke},[v]);var Jf={exports:{}},il={},eh={exports:{}},th={};var ny;function AN(){return ny||(ny=1,(function(e){function r(H,Q){var I=H.length;H.push(Q);e:for(;0<I;){var ne=I-1>>>1,ce=H[ne];if(0<o(ce,Q))H[ne]=Q,H[I]=ce,I=ne;else break e}}function s(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Q=H[0],I=H.pop();if(I!==Q){H[0]=I;e:for(var ne=0,ce=H.length,_=ce>>>1;ne<_;){var B=2*(ne+1)-1,X=H[B],ee=B+1,se=H[ee];if(0>o(X,I))ee<ce&&0>o(se,X)?(H[ne]=se,H[ee]=I,ne=ee):(H[ne]=X,H[B]=I,ne=B);else if(ee<ce&&0>o(se,I))H[ne]=se,H[ee]=I,ne=ee;else break e}}return Q}function o(H,Q){var I=H.sortIndex-Q.sortIndex;return I!==0?I:H.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var h=[],m=[],x=1,y=null,b=3,j=!1,S=!1,k=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var Q=s(m);Q!==null;){if(Q.callback===null)i(m);else if(Q.startTime<=H)i(m),Q.sortIndex=Q.expirationTime,r(h,Q);else break;Q=s(m)}}function T(H){if(k=!1,O(H),!S)if(s(h)!==null)S=!0,L||(L=!0,ae());else{var Q=s(m);Q!==null&&ue(T,Q.startTime-H)}}var L=!1,E=-1,D=5,P=-1;function K(){return w?!0:!(e.unstable_now()-P<D)}function Y(){if(w=!1,L){var H=e.unstable_now();P=H;var Q=!0;try{e:{S=!1,k&&(k=!1,A(E),E=-1),j=!0;var I=b;try{t:{for(O(H),y=s(h);y!==null&&!(y.expirationTime>H&&K());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,b=y.priorityLevel;var ce=ne(y.expirationTime<=H);if(H=e.unstable_now(),typeof ce=="function"){y.callback=ce,O(H),Q=!0;break t}y===s(h)&&i(h),O(H)}else i(h);y=s(h)}if(y!==null)Q=!0;else{var _=s(m);_!==null&&ue(T,_.startTime-H),Q=!1}}break e}finally{y=null,b=I,j=!1}Q=void 0}}finally{Q?ae():L=!1}}}var ae;if(typeof R=="function")ae=function(){R(Y)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,le=ie.port2;ie.port1.onmessage=Y,ae=function(){le.postMessage(null)}}else ae=function(){C(Y,0)};function ue(H,Q){E=C(function(){H(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(H){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var I=b;b=Q;try{return H()}finally{b=I}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var I=b;b=H;try{return Q()}finally{b=I}},e.unstable_scheduleCallback=function(H,Q,I){var ne=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ne+I:ne):I=ne,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=I+ce,H={id:x++,callback:Q,priorityLevel:H,startTime:I,expirationTime:ce,sortIndex:-1},I>ne?(H.sortIndex=I,r(m,H),s(h)===null&&H===s(m)&&(k?(A(E),E=-1):k=!0,ue(T,I-ne))):(H.sortIndex=ce,r(h,H),S||j||(S=!0,L||(L=!0,ae()))),H},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(H){var Q=b;return function(){var I=b;b=Q;try{return H.apply(this,arguments)}finally{b=I}}}})(th)),th}var ry;function DN(){return ry||(ry=1,eh.exports=AN()),eh.exports}var nh={exports:{}},Qt={};var ay;function ON(){if(ay)return Qt;ay=1;var e=uu();function r(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(h,m,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:h,containerInfo:m,implementation:x}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qt.createPortal=function(h,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return u(h,m,null,x)},Qt.flushSync=function(h){var m=d.T,x=i.p;try{if(d.T=null,i.p=2,h)return h()}finally{d.T=m,i.p=x,i.d.f()}},Qt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Qt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Qt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var x=m.as,y=f(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:j}):x==="script"&&i.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Qt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Qt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,y=f(x,m.crossOrigin);i.d.L(h,x,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Qt.preloadModule=function(h,m){if(typeof h=="string")if(m){var x=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Qt.requestFormReset=function(h){i.d.r(h)},Qt.unstable_batchedUpdates=function(h,m){return h(m)},Qt.useFormState=function(h,m,x){return d.H.useFormState(h,m,x)},Qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qt.version="19.2.3",Qt}var sy;function jb(){if(sy)return nh.exports;sy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),nh.exports=ON(),nh.exports}var iy;function _N(){if(iy)return il;iy=1;var e=DN(),r=uu(),s=jb();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,l=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(l=a.return),t=a.return;while(t)}return a.tag===3?l:null}function d(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function f(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function h(t){if(u(t)!==t)throw Error(i(188))}function m(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(i(188));return a!==t?null:t}for(var l=t,c=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return h(g),t;if(p===c)return h(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==c.return)l=g,c=p;else{for(var N=!1,M=g.child;M;){if(M===l){N=!0,l=g,c=p;break}if(M===c){N=!0,c=g,l=p;break}M=M.sibling}if(!N){for(M=p.child;M;){if(M===l){N=!0,l=p,c=g;break}if(M===c){N=!0,c=p,l=g;break}M=M.sibling}if(!N)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?t:a}function x(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=x(t),a!==null)return a;t=t.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=Y&&t[Y]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ie?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case L:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case R:return t.displayName||"Context";case A:return(t._context.displayName||"Context")+".Consumer";case O:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E:return a=t.displayName||null,a!==null?a:le(t.type)||"Memo";case D:a=t._payload,t=t._init;try{return le(t(a))}catch{}}return null}var ue=Array.isArray,H=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},ne=[],ce=-1;function _(t){return{current:t}}function B(t){0>ce||(t.current=ne[ce],ne[ce]=null,ce--)}function X(t,a){ce++,ne[ce]=t.current,t.current=a}var ee=_(null),se=_(null),fe=_(null),ye=_(null);function et(t,a){switch(X(fe,a),X(se,t),X(ee,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?jx(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=jx(a),t=wx(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(ee),X(ee,t)}function Le(){B(ee),B(se),B(fe)}function Re(t){t.memoizedState!==null&&X(ye,t);var a=ee.current,l=wx(a,t.type);a!==l&&(X(se,t),X(ee,l))}function Xt(t){se.current===t&&(B(ee),B(se)),ye.current===t&&(B(ye),tl._currentValue=I)}var jt,fr;function At(t){if(jt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);jt=a&&a[1]||"",fr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jt+t+fr}var tr=!1;function nr(t,a){if(!t||tr)return"";tr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(W){var G=W}Reflect.construct(t,[],te)}else{try{te.call()}catch(W){G=W}t.call(te.prototype)}}else{try{throw Error()}catch(W){G=W}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(W){if(W&&G&&typeof W.stack=="string")return[W.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),N=p[0],M=p[1];if(N&&M){var z=N.split(`
`),V=M.split(`
`);for(g=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;if(c===z.length||g===V.length)for(c=z.length-1,g=V.length-1;1<=c&&0<=g&&z[c]!==V[g];)g--;for(;1<=c&&0<=g;c--,g--)if(z[c]!==V[g]){if(c!==1||g!==1)do if(c--,g--,0>g||z[c]!==V[g]){var Z=`
`+z[c].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=c&&0<=g);break}}}finally{tr=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?At(l):""}function Vl(t,a){switch(t.tag){case 26:case 27:case 5:return At(t.type);case 16:return At("Lazy");case 13:return t.child!==a&&a!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return nr(t.type,!1);case 11:return nr(t.type.render,!1);case 1:return nr(t.type,!0);case 31:return At("Activity");default:return""}}function mi(t){try{var a="",l=null;do a+=Vl(t,l),l=t,t=t.return;while(t);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ja=Object.prototype.hasOwnProperty,jn=e.unstable_scheduleCallback,Hr=e.unstable_cancelCallback,ns=e.unstable_shouldYield,Gl=e.unstable_requestPaint,Bt=e.unstable_now,Iu=e.unstable_getCurrentPriorityLevel,Yl=e.unstable_ImmediatePriority,hr=e.unstable_UserBlockingPriority,Bn=e.unstable_NormalPriority,wa=e.unstable_LowPriority,gi=e.unstable_IdlePriority,rr=e.log,Kl=e.unstable_setDisableYieldValue,ka=null,Ft=null;function wn(t){if(typeof rr=="function"&&Kl(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(ka,t)}catch{}}var Ht=Math.clz32?Math.clz32:Bu,Uu=Math.log,Wl=Math.LN2;function Bu(t){return t>>>=0,t===0?32:31-(Uu(t)/Wl|0)|0}var rs=256,as=262144,ft=4194304;function ht(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Et(t,a,l){var c=t.pendingLanes;if(c===0)return 0;var g=0,p=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var M=c&134217727;return M!==0?(c=M&~p,c!==0?g=ht(c):(N&=M,N!==0?g=ht(N):l||(l=M&~t,l!==0&&(g=ht(l))))):(M=c&~p,M!==0?g=ht(M):N!==0?g=ht(N):l||(l=c&~t,l!==0&&(g=ht(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function Zt(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Jt(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var t=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),t}function en(t){for(var a=[],l=0;31>l;l++)a.push(t);return a}function kn(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wt(t,a,l,c,g,p){var N=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var M=t.entanglements,z=t.expirationTimes,V=t.hiddenUpdates;for(l=N&~l;0<l;){var Z=31-Ht(l),te=1<<Z;M[Z]=0,z[Z]=-1;var G=V[Z];if(G!==null)for(V[Z]=null,Z=0;Z<G.length;Z++){var W=G[Z];W!==null&&(W.lane&=-536870913)}l&=~te}c!==0&&Hn(t,c,0),p!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=p&~(N&~a))}function Hn(t,a,l){t.pendingLanes|=a,t.suspendedLanes&=~a;var c=31-Ht(a);t.entangledLanes|=a,t.entanglements[c]=t.entanglements[c]|1073741824|l&261930}function cn(t,a){var l=t.entangledLanes|=a;for(t=t.entanglements;l;){var c=31-Ht(l),g=1<<c;g&a|t[c]&a&&(t[c]|=a),l&=~g}}function Nn(t,a){var l=a&-a;return l=(l&42)!==0?1:mr(l),(l&(t.suspendedLanes|a))!==0?0:l}function mr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $n(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Fx(t.type))}function $r(t,a){var l=Q.p;try{return Q.p=t,a()}finally{Q.p=l}}var Sn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Sn,tn="__reactProps$"+Sn,ss="__reactContainer$"+Sn,Hu="__reactEvents$"+Sn,pw="__reactListeners$"+Sn,xw="__reactHandles$"+Sn,o0="__reactResources$"+Sn,pi="__reactMarker$"+Sn;function $u(t){delete t[Dt],delete t[tn],delete t[Hu],delete t[pw],delete t[xw]}function is(t){var a=t[Dt];if(a)return a;for(var l=t.parentNode;l;){if(a=l[ss]||l[Dt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(t=Rx(t);t!==null;){if(l=t[Dt])return l;t=Rx(t)}return a}t=l,l=t.parentNode}return null}function ls(t){if(t=t[Dt]||t[ss]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function xi(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function os(t){var a=t[o0];return a||(a=t[o0]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Mt(t){t[pi]=!0}var c0=new Set,u0={};function Na(t,a){cs(t,a),cs(t+"Capture",a)}function cs(t,a){for(u0[t]=a,t=0;t<a.length;t++)c0.add(a[t])}var yw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),d0={},f0={};function vw(t){return ja.call(f0,t)?!0:ja.call(d0,t)?!1:yw.test(t)?f0[t]=!0:(d0[t]=!0,!1)}function Xl(t,a,l){if(vw(a))if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+l)}}function Zl(t,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+l)}}function pr(t,a,l,c){if(c===null)t.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(a,l,""+c)}}function Cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h0(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function bw(t,a,l){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,p=c.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return g.call(this)},set:function(N){l=""+N,p.call(this,N)}}),Object.defineProperty(t,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Qu(t){if(!t._valueTracker){var a=h0(t)?"checked":"value";t._valueTracker=bw(t,a,""+t[a])}}function m0(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return t&&(c=h0(t)?t.checked?"true":"false":t.value),t=c,t!==l?(a.setValue(t),!0):!1}function Jl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jw=/[\n"\\]/g;function En(t){return t.replace(jw,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function qu(t,a,l,c,g,p,N,M){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),a!=null?N==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Cn(a)):t.value!==""+Cn(a)&&(t.value=""+Cn(a)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),a!=null?Fu(t,N,Cn(a)):l!=null?Fu(t,N,Cn(l)):c!=null&&t.removeAttribute("value"),g==null&&p!=null&&(t.defaultChecked=!!p),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Cn(M):t.removeAttribute("name")}function g0(t,a,l,c,g,p,N,M){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Qu(t);return}l=l!=null?""+Cn(l):"",a=a!=null?""+Cn(a):l,M||a===t.value||(t.value=a),t.defaultValue=a}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=M?t.checked:!!c,t.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N),Qu(t)}function Fu(t,a,l){a==="number"&&Jl(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function us(t,a,l,c){if(t=t.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<t.length;l++)g=a.hasOwnProperty("$"+t[l].value),t[l].selected!==g&&(t[l].selected=g),g&&c&&(t[l].defaultSelected=!0)}else{for(l=""+Cn(l),a=null,g=0;g<t.length;g++){if(t[g].value===l){t[g].selected=!0,c&&(t[g].defaultSelected=!0);return}a!==null||t[g].disabled||(a=t[g])}a!==null&&(a.selected=!0)}}function p0(t,a,l){if(a!=null&&(a=""+Cn(a),a!==t.value&&(t.value=a),l==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=l!=null?""+Cn(l):""}function x0(t,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(ue(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Cn(a),t.defaultValue=l,c=t.textContent,c===l&&c!==""&&c!==null&&(t.value=c),Qu(t)}function ds(t,a){if(a){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=a;return}}t.textContent=a}var ww=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function y0(t,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":c?t.setProperty(a,l):typeof l!="number"||l===0||ww.has(a)?a==="float"?t.cssFloat=l:t[a]=(""+l).trim():t[a]=l+"px"}function v0(t,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var g in a)c=a[g],a.hasOwnProperty(g)&&l[g]!==c&&y0(t,g,c)}else for(var p in a)a.hasOwnProperty(p)&&y0(t,p,a[p])}function Vu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(t){return Nw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xr(){}var Gu=null;function Yu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,hs=null;function b0(t){var a=ls(t);if(a&&(t=a.stateNode)){var l=t[tn]||null;e:switch(t=a.stateNode,a.type){case"input":if(qu(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+En(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==t&&c.form===t.form){var g=c[tn]||null;if(!g)throw Error(i(90));qu(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===t.form&&m0(c)}break e;case"textarea":p0(t,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&us(t,!!l.multiple,a,!1)}}}var Ku=!1;function j0(t,a,l){if(Ku)return t(a,l);Ku=!0;try{var c=t(a);return c}finally{if(Ku=!1,(fs!==null||hs!==null)&&($o(),fs&&(a=fs,t=hs,hs=fs=null,b0(a),t)))for(a=0;a<t.length;a++)b0(t[a])}}function yi(t,a){var l=t.stateNode;if(l===null)return null;var c=l[tn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=!1;if(yr)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){Wu=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{Wu=!1}var Qr=null,Xu=null,to=null;function w0(){if(to)return to;var t,a=Xu,l=a.length,c,g="value"in Qr?Qr.value:Qr.textContent,p=g.length;for(t=0;t<l&&a[t]===g[t];t++);var N=l-t;for(c=1;c<=N&&a[l-c]===g[p-c];c++);return to=g.slice(t,1<c?1-c:void 0)}function no(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function ro(){return!0}function k0(){return!1}function nn(t){function a(l,c,g,p,N){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=p,this.target=N,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(l=t[M],this[M]=l?l(p):p[M]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ro:k0,this.isPropagationStopped=k0,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),a}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=nn(Sa),bi=y({},Sa,{view:0,detail:0}),Sw=nn(bi),Zu,Ju,ji,so=y({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:td,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ji&&(ji&&t.type==="mousemove"?(Zu=t.screenX-ji.screenX,Ju=t.screenY-ji.screenY):Ju=Zu=0,ji=t),Zu)},movementY:function(t){return"movementY"in t?t.movementY:Ju}}),N0=nn(so),Cw=y({},so,{dataTransfer:0}),Ew=nn(Cw),Mw=y({},bi,{relatedTarget:0}),ed=nn(Mw),Rw=y({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Tw=nn(Rw),Aw=y({},Sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dw=nn(Aw),Ow=y({},Sa,{data:0}),S0=nn(Ow),_w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pw(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=zw[t])?!!a[t]:!1}function td(){return Pw}var Iw=y({},bi,{key:function(t){if(t.key){var a=_w[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=no(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:td,charCode:function(t){return t.type==="keypress"?no(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?no(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uw=nn(Iw),Bw=y({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C0=nn(Bw),Hw=y({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:td}),$w=nn(Hw),Qw=y({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),qw=nn(Qw),Fw=y({},so,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vw=nn(Fw),Gw=y({},Sa,{newState:0,oldState:0}),Yw=nn(Gw),Kw=[9,13,27,32],nd=yr&&"CompositionEvent"in window,wi=null;yr&&"documentMode"in document&&(wi=document.documentMode);var Ww=yr&&"TextEvent"in window&&!wi,E0=yr&&(!nd||wi&&8<wi&&11>=wi),M0=" ",R0=!1;function T0(t,a){switch(t){case"keyup":return Kw.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ms=!1;function Xw(t,a){switch(t){case"compositionend":return A0(a);case"keypress":return a.which!==32?null:(R0=!0,M0);case"textInput":return t=a.data,t===M0&&R0?null:t;default:return null}}function Zw(t,a){if(ms)return t==="compositionend"||!nd&&T0(t,a)?(t=w0(),to=Xu=Qr=null,ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E0&&a.locale!=="ko"?null:a.data;default:return null}}var Jw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Jw[t.type]:a==="textarea"}function O0(t,a,l,c){fs?hs?hs.push(c):hs=[c]:fs=c,a=Ko(a,"onChange"),0<a.length&&(l=new ao("onChange","change",null,l,c),t.push({event:l,listeners:a}))}var ki=null,Ni=null;function ek(t){gx(t,0)}function io(t){var a=xi(t);if(m0(a))return t}function _0(t,a){if(t==="change")return a}var L0=!1;if(yr){var rd;if(yr){var ad="oninput"in document;if(!ad){var z0=document.createElement("div");z0.setAttribute("oninput","return;"),ad=typeof z0.oninput=="function"}rd=ad}else rd=!1;L0=rd&&(!document.documentMode||9<document.documentMode)}function P0(){ki&&(ki.detachEvent("onpropertychange",I0),Ni=ki=null)}function I0(t){if(t.propertyName==="value"&&io(Ni)){var a=[];O0(a,Ni,t,Yu(t)),j0(ek,a)}}function tk(t,a,l){t==="focusin"?(P0(),ki=a,Ni=l,ki.attachEvent("onpropertychange",I0)):t==="focusout"&&P0()}function nk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return io(Ni)}function rk(t,a){if(t==="click")return io(a)}function ak(t,a){if(t==="input"||t==="change")return io(a)}function sk(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var un=typeof Object.is=="function"?Object.is:sk;function Si(t,a){if(un(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var l=Object.keys(t),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!ja.call(a,g)||!un(t[g],a[g]))return!1}return!0}function U0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function B0(t,a){var l=U0(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=a&&c>=a)return{node:l,offset:a-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=U0(l)}}function H0(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?H0(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function $0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Jl(t.document);a instanceof t.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)t=a.contentWindow;else break;a=Jl(t.document)}return a}function sd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var ik=yr&&"documentMode"in document&&11>=document.documentMode,gs=null,id=null,Ci=null,ld=!1;function Q0(t,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ld||gs==null||gs!==Jl(c)||(c=gs,"selectionStart"in c&&sd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ci&&Si(Ci,c)||(Ci=c,c=Ko(id,"onSelect"),0<c.length&&(a=new ao("onSelect","select",null,a,l),t.push({event:a,listeners:c}),a.target=gs)))}function Ca(t,a){var l={};return l[t.toLowerCase()]=a.toLowerCase(),l["Webkit"+t]="webkit"+a,l["Moz"+t]="moz"+a,l}var ps={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},od={},q0={};yr&&(q0=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Ea(t){if(od[t])return od[t];if(!ps[t])return t;var a=ps[t],l;for(l in a)if(a.hasOwnProperty(l)&&l in q0)return od[t]=a[l];return t}var F0=Ea("animationend"),V0=Ea("animationiteration"),G0=Ea("animationstart"),lk=Ea("transitionrun"),ok=Ea("transitionstart"),ck=Ea("transitioncancel"),Y0=Ea("transitionend"),K0=new Map,cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cd.push("scrollEnd");function Qn(t,a){K0.set(t,a),Na(a,[t])}var lo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],xs=0,ud=0;function oo(){for(var t=xs,a=ud=xs=0;a<t;){var l=Mn[a];Mn[a++]=null;var c=Mn[a];Mn[a++]=null;var g=Mn[a];Mn[a++]=null;var p=Mn[a];if(Mn[a++]=null,c!==null&&g!==null){var N=c.pending;N===null?g.next=g:(g.next=N.next,N.next=g),c.pending=g}p!==0&&W0(l,g,p)}}function co(t,a,l,c){Mn[xs++]=t,Mn[xs++]=a,Mn[xs++]=l,Mn[xs++]=c,ud|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function dd(t,a,l,c){return co(t,a,l,c),uo(t)}function Ma(t,a){return co(t,null,null,a),uo(t)}function W0(t,a,l){t.lanes|=l;var c=t.alternate;c!==null&&(c.lanes|=l);for(var g=!1,p=t.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(g=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,g&&a!==null&&(g=31-Ht(l),t=p.hiddenUpdates,c=t[g],c===null?t[g]=[a]:c.push(a),a.lane=l|536870912),p):null}function uo(t){if(50<Yi)throw Yi=0,jf=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var ys={};function uk(t,a,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,a,l,c){return new uk(t,a,l,c)}function fd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vr(t,a){var l=t.alternate;return l===null?(l=dn(t.tag,a,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=a,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,a=t.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function X0(t,a){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,a=l.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function fo(t,a,l,c,g,p){var N=0;if(c=t,typeof t=="function")fd(t)&&(N=1);else if(typeof t=="string")N=gN(t,l,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=dn(31,l,a,g),t.elementType=P,t.lanes=p,t;case k:return Ra(l.children,g,p,a);case w:N=8,g|=24;break;case C:return t=dn(12,l,a,g|2),t.elementType=C,t.lanes=p,t;case T:return t=dn(13,l,a,g),t.elementType=T,t.lanes=p,t;case L:return t=dn(19,l,a,g),t.elementType=L,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:N=10;break e;case A:N=9;break e;case O:N=11;break e;case E:N=14;break e;case D:N=16,c=null;break e}N=29,l=Error(i(130,t===null?"null":typeof t,"")),c=null}return a=dn(N,l,a,g),a.elementType=t,a.type=c,a.lanes=p,a}function Ra(t,a,l,c){return t=dn(7,t,c,a),t.lanes=l,t}function hd(t,a,l){return t=dn(6,t,null,a),t.lanes=l,t}function Z0(t){var a=dn(18,null,null,0);return a.stateNode=t,a}function md(t,a,l){return a=dn(4,t.children!==null?t.children:[],t.key,a),a.lanes=l,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var J0=new WeakMap;function Rn(t,a){if(typeof t=="object"&&t!==null){var l=J0.get(t);return l!==void 0?l:(a={value:t,source:a,stack:mi(a)},J0.set(t,a),a)}return{value:t,source:a,stack:mi(a)}}var vs=[],bs=0,ho=null,Ei=0,Tn=[],An=0,qr=null,ar=1,sr="";function br(t,a){vs[bs++]=Ei,vs[bs++]=ho,ho=t,Ei=a}function eg(t,a,l){Tn[An++]=ar,Tn[An++]=sr,Tn[An++]=qr,qr=t;var c=ar;t=sr;var g=32-Ht(c)-1;c&=~(1<<g),l+=1;var p=32-Ht(a)+g;if(30<p){var N=g-g%5;p=(c&(1<<N)-1).toString(32),c>>=N,g-=N,ar=1<<32-Ht(a)+g|l<<g|c,sr=p+t}else ar=1<<p|l<<g|c,sr=t}function gd(t){t.return!==null&&(br(t,1),eg(t,1,0))}function pd(t){for(;t===ho;)ho=vs[--bs],vs[bs]=null,Ei=vs[--bs],vs[bs]=null;for(;t===qr;)qr=Tn[--An],Tn[An]=null,sr=Tn[--An],Tn[An]=null,ar=Tn[--An],Tn[An]=null}function tg(t,a){Tn[An++]=ar,Tn[An++]=sr,Tn[An++]=qr,ar=a.id,sr=a.overflow,qr=t}var Ot=null,nt=null,Be=!1,Fr=null,Dn=!1,xd=Error(i(519));function Vr(t){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mi(Rn(a,t)),xd}function ng(t){var a=t.stateNode,l=t.type,c=t.memoizedProps;switch(a[Dt]=t,a[tn]=c,l){case"dialog":Oe("cancel",a),Oe("close",a);break;case"iframe":case"object":case"embed":Oe("load",a);break;case"video":case"audio":for(l=0;l<Wi.length;l++)Oe(Wi[l],a);break;case"source":Oe("error",a);break;case"img":case"image":case"link":Oe("error",a),Oe("load",a);break;case"details":Oe("toggle",a);break;case"input":Oe("invalid",a),g0(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Oe("invalid",a);break;case"textarea":Oe("invalid",a),x0(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||vx(a.textContent,l)?(c.popover!=null&&(Oe("beforetoggle",a),Oe("toggle",a)),c.onScroll!=null&&Oe("scroll",a),c.onScrollEnd!=null&&Oe("scrollend",a),c.onClick!=null&&(a.onclick=xr),a=!0):a=!1,a||Vr(t,!0)}function rg(t){for(Ot=t.return;Ot;)switch(Ot.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Ot=Ot.return}}function js(t){if(t!==Ot)return!1;if(!Be)return rg(t),Be=!0,!1;var a=t.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||zf(t.type,t.memoizedProps)),l=!l),l&&nt&&Vr(t),rg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));nt=Mx(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));nt=Mx(t)}else a===27?(a=nt,ia(t.type)?(t=Hf,Hf=null,nt=t):nt=a):nt=Ot?_n(t.stateNode.nextSibling):null;return!0}function Ta(){nt=Ot=null,Be=!1}function yd(){var t=Fr;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Fr=null),t}function Mi(t){Fr===null?Fr=[t]:Fr.push(t)}var vd=_(null),Aa=null,jr=null;function Gr(t,a,l){X(vd,a._currentValue),a._currentValue=l}function wr(t){t._currentValue=vd.current,B(vd)}function bd(t,a,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),t===l)break;t=t.return}}function jd(t,a,l,c){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var p=g.dependencies;if(p!==null){var N=g.child;p=p.firstContext;e:for(;p!==null;){var M=p;p=g;for(var z=0;z<a.length;z++)if(M.context===a[z]){p.lanes|=l,M=p.alternate,M!==null&&(M.lanes|=l),bd(p.return,l,t),c||(N=null);break e}p=M.next}}else if(g.tag===18){if(N=g.return,N===null)throw Error(i(341));N.lanes|=l,p=N.alternate,p!==null&&(p.lanes|=l),bd(N,l,t),N=null}else N=g.child;if(N!==null)N.return=g;else for(N=g;N!==null;){if(N===t){N=null;break}if(g=N.sibling,g!==null){g.return=N.return,N=g;break}N=N.return}g=N}}function ws(t,a,l,c){t=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var N=g.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var M=g.type;un(g.pendingProps.value,N.value)||(t!==null?t.push(M):t=[M])}}else if(g===ye.current){if(N=g.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(tl):t=[tl])}g=g.return}t!==null&&jd(a,t,l,c),a.flags|=262144}function mo(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Da(t){Aa=t,jr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _t(t){return ag(Aa,t)}function go(t,a){return Aa===null&&Da(t),ag(t,a)}function ag(t,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},jr===null){if(t===null)throw Error(i(308));jr=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else jr=jr.next=a;return l}var dk=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(l,c){t.push(c)}};this.abort=function(){a.aborted=!0,t.forEach(function(l){return l()})}},fk=e.unstable_scheduleCallback,hk=e.unstable_NormalPriority,xt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new dk,data:new Map,refCount:0}}function Ri(t){t.refCount--,t.refCount===0&&fk(hk,function(){t.controller.abort()})}var Ti=null,kd=0,ks=0,Ns=null;function mk(t,a){if(Ti===null){var l=Ti=[];kd=0,ks=Ef(),Ns={status:"pending",value:void 0,then:function(c){l.push(c)}}}return kd++,a.then(sg,sg),a}function sg(){if(--kd===0&&Ti!==null){Ns!==null&&(Ns.status="fulfilled");var t=Ti;Ti=null,ks=0,Ns=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function gk(t,a){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return t.then(function(){c.status="fulfilled",c.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var ig=H.S;H.S=function(t,a){Qp=Bt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&mk(t,a),ig!==null&&ig(t,a)};var Oa=_(null);function Nd(){var t=Oa.current;return t!==null?t:tt.pooledCache}function po(t,a){a===null?X(Oa,Oa.current):X(Oa,a.pool)}function lg(){var t=Nd();return t===null?null:{parent:xt._currentValue,pool:t}}var Ss=Error(i(460)),Sd=Error(i(474)),xo=Error(i(542)),yo={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cg(t,a,l){switch(l=t[l],l===void 0?t.push(a):l!==a&&(a.then(xr,xr),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,dg(t),t;default:if(typeof a.status=="string")a.then(xr,xr);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(c){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=c}},function(c){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,dg(t),t}throw La=a,Ss}}function _a(t){try{var a=t._init;return a(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(La=l,Ss):l}}var La=null;function ug(){if(La===null)throw Error(i(459));var t=La;return La=null,t}function dg(t){if(t===Ss||t===xo)throw Error(i(483))}var Cs=null,Ai=0;function vo(t){var a=Ai;return Ai+=1,Cs===null&&(Cs=[]),cg(Cs,t,a)}function Di(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function bo(t,a){throw a.$$typeof===b?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function fg(t){function a($,U){if(t){var F=$.deletions;F===null?($.deletions=[U],$.flags|=16):F.push(U)}}function l($,U){if(!t)return null;for(;U!==null;)a($,U),U=U.sibling;return null}function c($){for(var U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function g($,U){return $=vr($,U),$.index=0,$.sibling=null,$}function p($,U,F){return $.index=F,t?(F=$.alternate,F!==null?(F=F.index,F<U?($.flags|=67108866,U):F):($.flags|=67108866,U)):($.flags|=1048576,U)}function N($){return t&&$.alternate===null&&($.flags|=67108866),$}function M($,U,F,J){return U===null||U.tag!==6?(U=hd(F,$.mode,J),U.return=$,U):(U=g(U,F),U.return=$,U)}function z($,U,F,J){var je=F.type;return je===k?Z($,U,F.props.children,J,F.key):U!==null&&(U.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===D&&_a(je)===U.type)?(U=g(U,F.props),Di(U,F),U.return=$,U):(U=fo(F.type,F.key,F.props,null,$.mode,J),Di(U,F),U.return=$,U)}function V($,U,F,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=md(F,$.mode,J),U.return=$,U):(U=g(U,F.children||[]),U.return=$,U)}function Z($,U,F,J,je){return U===null||U.tag!==7?(U=Ra(F,$.mode,J,je),U.return=$,U):(U=g(U,F),U.return=$,U)}function te($,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=hd(""+U,$.mode,F),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return F=fo(U.type,U.key,U.props,null,$.mode,F),Di(F,U),F.return=$,F;case S:return U=md(U,$.mode,F),U.return=$,U;case D:return U=_a(U),te($,U,F)}if(ue(U)||ae(U))return U=Ra(U,$.mode,F,null),U.return=$,U;if(typeof U.then=="function")return te($,vo(U),F);if(U.$$typeof===R)return te($,go($,U),F);bo($,U)}return null}function G($,U,F,J){var je=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return je!==null?null:M($,U,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return F.key===je?z($,U,F,J):null;case S:return F.key===je?V($,U,F,J):null;case D:return F=_a(F),G($,U,F,J)}if(ue(F)||ae(F))return je!==null?null:Z($,U,F,J,null);if(typeof F.then=="function")return G($,U,vo(F),J);if(F.$$typeof===R)return G($,U,go($,F),J);bo($,F)}return null}function W($,U,F,J,je){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return $=$.get(F)||null,M(U,$,""+J,je);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return $=$.get(J.key===null?F:J.key)||null,z(U,$,J,je);case S:return $=$.get(J.key===null?F:J.key)||null,V(U,$,J,je);case D:return J=_a(J),W($,U,F,J,je)}if(ue(J)||ae(J))return $=$.get(F)||null,Z(U,$,J,je,null);if(typeof J.then=="function")return W($,U,F,vo(J),je);if(J.$$typeof===R)return W($,U,F,go(U,J),je);bo(U,J)}return null}function he($,U,F,J){for(var je=null,qe=null,xe=U,Me=U=0,Pe=null;xe!==null&&Me<F.length;Me++){xe.index>Me?(Pe=xe,xe=null):Pe=xe.sibling;var Fe=G($,xe,F[Me],J);if(Fe===null){xe===null&&(xe=Pe);break}t&&xe&&Fe.alternate===null&&a($,xe),U=p(Fe,U,Me),qe===null?je=Fe:qe.sibling=Fe,qe=Fe,xe=Pe}if(Me===F.length)return l($,xe),Be&&br($,Me),je;if(xe===null){for(;Me<F.length;Me++)xe=te($,F[Me],J),xe!==null&&(U=p(xe,U,Me),qe===null?je=xe:qe.sibling=xe,qe=xe);return Be&&br($,Me),je}for(xe=c(xe);Me<F.length;Me++)Pe=W(xe,$,Me,F[Me],J),Pe!==null&&(t&&Pe.alternate!==null&&xe.delete(Pe.key===null?Me:Pe.key),U=p(Pe,U,Me),qe===null?je=Pe:qe.sibling=Pe,qe=Pe);return t&&xe.forEach(function(da){return a($,da)}),Be&&br($,Me),je}function we($,U,F,J){if(F==null)throw Error(i(151));for(var je=null,qe=null,xe=U,Me=U=0,Pe=null,Fe=F.next();xe!==null&&!Fe.done;Me++,Fe=F.next()){xe.index>Me?(Pe=xe,xe=null):Pe=xe.sibling;var da=G($,xe,Fe.value,J);if(da===null){xe===null&&(xe=Pe);break}t&&xe&&da.alternate===null&&a($,xe),U=p(da,U,Me),qe===null?je=da:qe.sibling=da,qe=da,xe=Pe}if(Fe.done)return l($,xe),Be&&br($,Me),je;if(xe===null){for(;!Fe.done;Me++,Fe=F.next())Fe=te($,Fe.value,J),Fe!==null&&(U=p(Fe,U,Me),qe===null?je=Fe:qe.sibling=Fe,qe=Fe);return Be&&br($,Me),je}for(xe=c(xe);!Fe.done;Me++,Fe=F.next())Fe=W(xe,$,Me,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&xe.delete(Fe.key===null?Me:Fe.key),U=p(Fe,U,Me),qe===null?je=Fe:qe.sibling=Fe,qe=Fe);return t&&xe.forEach(function(CN){return a($,CN)}),Be&&br($,Me),je}function Je($,U,F,J){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case j:e:{for(var je=F.key;U!==null;){if(U.key===je){if(je=F.type,je===k){if(U.tag===7){l($,U.sibling),J=g(U,F.props.children),J.return=$,$=J;break e}}else if(U.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===D&&_a(je)===U.type){l($,U.sibling),J=g(U,F.props),Di(J,F),J.return=$,$=J;break e}l($,U);break}else a($,U);U=U.sibling}F.type===k?(J=Ra(F.props.children,$.mode,J,F.key),J.return=$,$=J):(J=fo(F.type,F.key,F.props,null,$.mode,J),Di(J,F),J.return=$,$=J)}return N($);case S:e:{for(je=F.key;U!==null;){if(U.key===je)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){l($,U.sibling),J=g(U,F.children||[]),J.return=$,$=J;break e}else{l($,U);break}else a($,U);U=U.sibling}J=md(F,$.mode,J),J.return=$,$=J}return N($);case D:return F=_a(F),Je($,U,F,J)}if(ue(F))return he($,U,F,J);if(ae(F)){if(je=ae(F),typeof je!="function")throw Error(i(150));return F=je.call(F),we($,U,F,J)}if(typeof F.then=="function")return Je($,U,vo(F),J);if(F.$$typeof===R)return Je($,U,go($,F),J);bo($,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(l($,U.sibling),J=g(U,F),J.return=$,$=J):(l($,U),J=hd(F,$.mode,J),J.return=$,$=J),N($)):l($,U)}return function($,U,F,J){try{Ai=0;var je=Je($,U,F,J);return Cs=null,je}catch(xe){if(xe===Ss||xe===xo)throw xe;var qe=dn(29,xe,null,$.mode);return qe.lanes=J,qe.return=$,qe}}}var za=fg(!0),hg=fg(!1),Yr=!1;function Cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(t,a,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ge&2)!==0){var g=c.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),c.pending=a,a=uo(t),W0(t,null,l),a}return co(t,c,a,l),uo(t)}function Oi(t,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=t.pendingLanes,l|=c,a.lanes=l,cn(t,l)}}function Md(t,a){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=N:p=p.next=N,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=a:t.next=a,l.lastBaseUpdate=a}var Rd=!1;function _i(){if(Rd){var t=Ns;if(t!==null)throw t}}function Li(t,a,l,c){Rd=!1;var g=t.updateQueue;Yr=!1;var p=g.firstBaseUpdate,N=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var z=M,V=z.next;z.next=null,N===null?p=V:N.next=V,N=z;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,M=Z.lastBaseUpdate,M!==N&&(M===null?Z.firstBaseUpdate=V:M.next=V,Z.lastBaseUpdate=z))}if(p!==null){var te=g.baseState;N=0,Z=V=z=null,M=p;do{var G=M.lane&-536870913,W=G!==M.lane;if(W?(ze&G)===G:(c&G)===G){G!==0&&G===ks&&(Rd=!0),Z!==null&&(Z=Z.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var he=t,we=M;G=a;var Je=l;switch(we.tag){case 1:if(he=we.payload,typeof he=="function"){te=he.call(Je,te,G);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=we.payload,G=typeof he=="function"?he.call(Je,te,G):he,G==null)break e;te=y({},te,G);break e;case 2:Yr=!0}}G=M.callback,G!==null&&(t.flags|=64,W&&(t.flags|=8192),W=g.callbacks,W===null?g.callbacks=[G]:W.push(G))}else W={lane:G,tag:M.tag,payload:M.payload,callback:M.callback,next:null},Z===null?(V=Z=W,z=te):Z=Z.next=W,N|=G;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;W=M,M=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);Z===null&&(z=te),g.baseState=z,g.firstBaseUpdate=V,g.lastBaseUpdate=Z,p===null&&(g.shared.lanes=0),ta|=N,t.lanes=N,t.memoizedState=te}}function mg(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function gg(t,a){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)mg(l[t],a)}var Es=_(null),jo=_(0);function pg(t,a){t=Ar,X(jo,t),X(Es,a),Ar=t|a.baseLanes}function Td(){X(jo,Ar),X(Es,Es.current)}function Ad(){Ar=jo.current,B(Es),B(jo)}var fn=_(null),On=null;function Xr(t){var a=t.alternate;X(mt,mt.current&1),X(fn,t),On===null&&(a===null||Es.current!==null||a.memoizedState!==null)&&(On=t)}function Dd(t){X(mt,mt.current),X(fn,t),On===null&&(On=t)}function xg(t){t.tag===22?(X(mt,mt.current),X(fn,t),On===null&&(On=t)):Zr()}function Zr(){X(mt,mt.current),X(fn,fn.current)}function hn(t){B(fn),On===t&&(On=null),B(mt)}var mt=_(0);function wo(t){for(var a=t;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Uf(l)||Bf(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var kr=0,Ee=null,Xe=null,yt=null,ko=!1,Ms=!1,Pa=!1,No=0,zi=0,Rs=null,pk=0;function lt(){throw Error(i(321))}function Od(t,a){if(a===null)return!1;for(var l=0;l<a.length&&l<t.length;l++)if(!un(t[l],a[l]))return!1;return!0}function _d(t,a,l,c,g,p){return kr=p,Ee=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=t===null||t.memoizedState===null?ep:Kd,Pa=!1,p=l(c,g),Pa=!1,Ms&&(p=vg(a,l,c,g)),yg(t),p}function yg(t){H.H=Ui;var a=Xe!==null&&Xe.next!==null;if(kr=0,yt=Xe=Ee=null,ko=!1,zi=0,Rs=null,a)throw Error(i(300));t===null||vt||(t=t.dependencies,t!==null&&mo(t)&&(vt=!0))}function vg(t,a,l,c){Ee=t;var g=0;do{if(Ms&&(Rs=null),zi=0,Ms=!1,25<=g)throw Error(i(301));if(g+=1,yt=Xe=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=tp,p=a(l,c)}while(Ms);return p}function xk(){var t=H.H,a=t.useState()[0];return a=typeof a.then=="function"?Pi(a):a,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ee.flags|=1024),a}function Ld(){var t=No!==0;return No=0,t}function zd(t,a,l){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~l}function Pd(t){if(ko){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}ko=!1}kr=0,yt=Xe=Ee=null,Ms=!1,zi=No=0,Rs=null}function Vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ee.memoizedState=yt=t:yt=yt.next=t,yt}function gt(){if(Xe===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var a=yt===null?Ee.memoizedState:yt.next;if(a!==null)yt=a,Xe=t;else{if(t===null)throw Ee.alternate===null?Error(i(467)):Error(i(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?Ee.memoizedState=yt=t:yt=yt.next=t}return yt}function So(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pi(t){var a=zi;return zi+=1,Rs===null&&(Rs=[]),t=cg(Rs,t,a),a=Ee,(yt===null?a.memoizedState:yt.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?ep:Kd),t}function Co(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Pi(t);if(t.$$typeof===R)return _t(t)}throw Error(i(438,String(t)))}function Id(t){var a=null,l=Ee.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ee.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=So(),Ee.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(t),c=0;c<t;c++)l[c]=K;return a.index++,l}function Nr(t,a){return typeof a=="function"?a(t):a}function Eo(t){var a=gt();return Ud(a,Xe,t)}function Ud(t,a,l){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var g=t.baseQueue,p=c.pending;if(p!==null){if(g!==null){var N=g.next;g.next=p.next,p.next=N}a.baseQueue=g=p,c.pending=null}if(p=t.baseState,g===null)t.memoizedState=p;else{a=g.next;var M=N=null,z=null,V=a,Z=!1;do{var te=V.lane&-536870913;if(te!==V.lane?(ze&te)===te:(kr&te)===te){var G=V.revertLane;if(G===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),te===ks&&(Z=!0);else if((kr&G)===G){V=V.next,G===ks&&(Z=!0);continue}else te={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},z===null?(M=z=te,N=p):z=z.next=te,Ee.lanes|=G,ta|=G;te=V.action,Pa&&l(p,te),p=V.hasEagerState?V.eagerState:l(p,te)}else G={lane:te,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},z===null?(M=z=G,N=p):z=z.next=G,Ee.lanes|=te,ta|=te;V=V.next}while(V!==null&&V!==a);if(z===null?N=p:z.next=M,!un(p,t.memoizedState)&&(vt=!0,Z&&(l=Ns,l!==null)))throw l;t.memoizedState=p,t.baseState=N,t.baseQueue=z,c.lastRenderedState=p}return g===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Bd(t){var a=gt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=t;var c=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var N=g=g.next;do p=t(p,N.action),N=N.next;while(N!==g);un(p,a.memoizedState)||(vt=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,c]}function bg(t,a,l){var c=Ee,g=gt(),p=Be;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var N=!un((Xe||g).memoizedState,l);if(N&&(g.memoizedState=l,vt=!0),g=g.queue,Qd(kg.bind(null,c,g,t),[t]),g.getSnapshot!==a||N||yt!==null&&yt.memoizedState.tag&1){if(c.flags|=2048,Ts(9,{destroy:void 0},wg.bind(null,c,g,l,a),null),tt===null)throw Error(i(349));p||(kr&127)!==0||jg(c,a,l)}return l}function jg(t,a,l){t.flags|=16384,t={getSnapshot:a,value:l},a=Ee.updateQueue,a===null?(a=So(),Ee.updateQueue=a,a.stores=[t]):(l=a.stores,l===null?a.stores=[t]:l.push(t))}function wg(t,a,l,c){a.value=l,a.getSnapshot=c,Ng(a)&&Sg(t)}function kg(t,a,l){return l(function(){Ng(a)&&Sg(t)})}function Ng(t){var a=t.getSnapshot;t=t.value;try{var l=a();return!un(t,l)}catch{return!0}}function Sg(t){var a=Ma(t,2);a!==null&&on(a,t,2)}function Hd(t){var a=Vt();if(typeof t=="function"){var l=t;if(t=l(),Pa){wn(!0);try{l()}finally{wn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:t},a}function Cg(t,a,l,c){return t.baseState=l,Ud(t,Xe,typeof c=="function"?c:Nr)}function yk(t,a,l,c,g){if(To(t))throw Error(i(485));if(t=a.action,t!==null){var p={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){p.listeners.push(N)}};H.T!==null?l(!0):p.isTransition=!1,c(p),l=a.pending,l===null?(p.next=a.pending=p,Eg(a,p)):(p.next=l.next,a.pending=l.next=p)}}function Eg(t,a){var l=a.action,c=a.payload,g=t.state;if(a.isTransition){var p=H.T,N={};H.T=N;try{var M=l(g,c),z=H.S;z!==null&&z(N,M),Mg(t,a,M)}catch(V){$d(t,a,V)}finally{p!==null&&N.types!==null&&(p.types=N.types),H.T=p}}else try{p=l(g,c),Mg(t,a,p)}catch(V){$d(t,a,V)}}function Mg(t,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Rg(t,a,c)},function(c){return $d(t,a,c)}):Rg(t,a,l)}function Rg(t,a,l){a.status="fulfilled",a.value=l,Tg(a),t.state=l,a=t.pending,a!==null&&(l=a.next,l===a?t.pending=null:(l=l.next,a.next=l,Eg(t,l)))}function $d(t,a,l){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,Tg(a),a=a.next;while(a!==c)}t.action=null}function Tg(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Ag(t,a){return a}function Dg(t,a){if(Be){var l=tt.formState;if(l!==null){e:{var c=Ee;if(Be){if(nt){t:{for(var g=nt,p=Dn;g.nodeType!==8;){if(!p){g=null;break t}if(g=_n(g.nextSibling),g===null){g=null;break t}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){nt=_n(g.nextSibling),c=g.data==="F!";break e}}Vr(c)}c=!1}c&&(a=l[0])}}return l=Vt(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:a},l.queue=c,l=Xg.bind(null,Ee,c),c.dispatch=l,c=Hd(!1),p=Yd.bind(null,Ee,!1,c.queue),c=Vt(),g={state:a,dispatch:null,action:t,pending:null},c.queue=g,l=yk.bind(null,Ee,g,p,l),g.dispatch=l,c.memoizedState=t,[a,l,!1]}function Og(t){var a=gt();return _g(a,Xe,t)}function _g(t,a,l){if(a=Ud(t,a,Ag)[0],t=Eo(Nr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Pi(a)}catch(N){throw N===Ss?xo:N}else c=a;a=gt();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(Ee.flags|=2048,Ts(9,{destroy:void 0},vk.bind(null,g,l),null)),[c,p,t]}function vk(t,a){t.action=a}function Lg(t){var a=gt(),l=Xe;if(l!==null)return _g(a,l,t);gt(),a=a.memoizedState,l=gt();var c=l.queue.dispatch;return l.memoizedState=t,[a,c,!1]}function Ts(t,a,l,c){return t={tag:t,create:l,deps:c,inst:a,next:null},a=Ee.updateQueue,a===null&&(a=So(),Ee.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,a.lastEffect=t),t}function zg(){return gt().memoizedState}function Mo(t,a,l,c){var g=Vt();Ee.flags|=t,g.memoizedState=Ts(1|a,{destroy:void 0},l,c===void 0?null:c)}function Ro(t,a,l,c){var g=gt();c=c===void 0?null:c;var p=g.memoizedState.inst;Xe!==null&&c!==null&&Od(c,Xe.memoizedState.deps)?g.memoizedState=Ts(a,p,l,c):(Ee.flags|=t,g.memoizedState=Ts(1|a,p,l,c))}function Pg(t,a){Mo(8390656,8,t,a)}function Qd(t,a){Ro(2048,8,t,a)}function bk(t){Ee.flags|=4;var a=Ee.updateQueue;if(a===null)a=So(),Ee.updateQueue=a,a.events=[t];else{var l=a.events;l===null?a.events=[t]:l.push(t)}}function Ig(t){var a=gt().memoizedState;return bk({ref:a,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Ug(t,a){return Ro(4,2,t,a)}function Bg(t,a){return Ro(4,4,t,a)}function Hg(t,a){if(typeof a=="function"){t=t();var l=a(t);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function $g(t,a,l){l=l!=null?l.concat([t]):null,Ro(4,4,Hg.bind(null,a,t),l)}function qd(){}function Qg(t,a){var l=gt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Od(a,c[1])?c[0]:(l.memoizedState=[t,a],t)}function qg(t,a){var l=gt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Od(a,c[1]))return c[0];if(c=t(),Pa){wn(!0);try{t()}finally{wn(!1)}}return l.memoizedState=[c,a],c}function Fd(t,a,l){return l===void 0||(kr&1073741824)!==0&&(ze&261930)===0?t.memoizedState=a:(t.memoizedState=l,t=Fp(),Ee.lanes|=t,ta|=t,l)}function Fg(t,a,l,c){return un(l,a)?l:Es.current!==null?(t=Fd(t,l,c),un(t,a)||(vt=!0),t):(kr&42)===0||(kr&1073741824)!==0&&(ze&261930)===0?(vt=!0,t.memoizedState=l):(t=Fp(),Ee.lanes|=t,ta|=t,a)}function Vg(t,a,l,c,g){var p=Q.p;Q.p=p!==0&&8>p?p:8;var N=H.T,M={};H.T=M,Yd(t,!1,a,l);try{var z=g(),V=H.S;if(V!==null&&V(M,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=gk(z,c);Ii(t,a,Z,pn(t))}else Ii(t,a,c,pn(t))}catch(te){Ii(t,a,{then:function(){},status:"rejected",reason:te},pn())}finally{Q.p=p,N!==null&&M.types!==null&&(N.types=M.types),H.T=N}}function jk(){}function Vd(t,a,l,c){if(t.tag!==5)throw Error(i(476));var g=Gg(t).queue;Vg(t,g,a,I,l===null?jk:function(){return Yg(t),l(c)})}function Gg(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:I},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:l},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Yg(t){var a=Gg(t);a.next===null&&(a=t.alternate.memoizedState),Ii(t,a.next.queue,{},pn())}function Gd(){return _t(tl)}function Kg(){return gt().memoizedState}function Wg(){return gt().memoizedState}function wk(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var l=pn();t=Kr(l);var c=Wr(a,t,l);c!==null&&(on(c,a,l),Oi(c,a,l)),a={cache:wd()},t.payload=a;return}a=a.return}}function kk(t,a,l){var c=pn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},To(t)?Zg(a,l):(l=dd(t,a,l,c),l!==null&&(on(l,t,c),Jg(l,a,c)))}function Xg(t,a,l){var c=pn();Ii(t,a,l,c)}function Ii(t,a,l,c){var g={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(To(t))Zg(a,g);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var N=a.lastRenderedState,M=p(N,l);if(g.hasEagerState=!0,g.eagerState=M,un(M,N))return co(t,a,g,0),tt===null&&oo(),!1}catch{}if(l=dd(t,a,g,c),l!==null)return on(l,t,c),Jg(l,a,c),!0}return!1}function Yd(t,a,l,c){if(c={lane:2,revertLane:Ef(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},To(t)){if(a)throw Error(i(479))}else a=dd(t,l,c,2),a!==null&&on(a,t,2)}function To(t){var a=t.alternate;return t===Ee||a!==null&&a===Ee}function Zg(t,a){Ms=ko=!0;var l=t.pending;l===null?a.next=a:(a.next=l.next,l.next=a),t.pending=a}function Jg(t,a,l){if((l&4194048)!==0){var c=a.lanes;c&=t.pendingLanes,l|=c,a.lanes=l,cn(t,l)}}var Ui={readContext:_t,use:Co,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};Ui.useEffectEvent=lt;var ep={readContext:_t,use:Co,useCallback:function(t,a){return Vt().memoizedState=[t,a===void 0?null:a],t},useContext:_t,useEffect:Pg,useImperativeHandle:function(t,a,l){l=l!=null?l.concat([t]):null,Mo(4194308,4,Hg.bind(null,a,t),l)},useLayoutEffect:function(t,a){return Mo(4194308,4,t,a)},useInsertionEffect:function(t,a){Mo(4,2,t,a)},useMemo:function(t,a){var l=Vt();a=a===void 0?null:a;var c=t();if(Pa){wn(!0);try{t()}finally{wn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(t,a,l){var c=Vt();if(l!==void 0){var g=l(a);if(Pa){wn(!0);try{l(a)}finally{wn(!1)}}}else g=a;return c.memoizedState=c.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},c.queue=t,t=t.dispatch=kk.bind(null,Ee,t),[c.memoizedState,t]},useRef:function(t){var a=Vt();return t={current:t},a.memoizedState=t},useState:function(t){t=Hd(t);var a=t.queue,l=Xg.bind(null,Ee,a);return a.dispatch=l,[t.memoizedState,l]},useDebugValue:qd,useDeferredValue:function(t,a){var l=Vt();return Fd(l,t,a)},useTransition:function(){var t=Hd(!1);return t=Vg.bind(null,Ee,t.queue,!0,!1),Vt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,l){var c=Ee,g=Vt();if(Be){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),tt===null)throw Error(i(349));(ze&127)!==0||jg(c,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,Pg(kg.bind(null,c,p,t),[t]),c.flags|=2048,Ts(9,{destroy:void 0},wg.bind(null,c,p,l,a),null),l},useId:function(){var t=Vt(),a=tt.identifierPrefix;if(Be){var l=sr,c=ar;l=(c&~(1<<32-Ht(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=No++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=pk++,a="_"+a+"r_"+l.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Gd,useFormState:Dg,useActionState:Dg,useOptimistic:function(t){var a=Vt();a.memoizedState=a.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Yd.bind(null,Ee,!0,l),l.dispatch=a,[t,a]},useMemoCache:Id,useCacheRefresh:function(){return Vt().memoizedState=wk.bind(null,Ee)},useEffectEvent:function(t){var a=Vt(),l={impl:t};return a.memoizedState=l,function(){if((Ge&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Kd={readContext:_t,use:Co,useCallback:Qg,useContext:_t,useEffect:Qd,useImperativeHandle:$g,useInsertionEffect:Ug,useLayoutEffect:Bg,useMemo:qg,useReducer:Eo,useRef:zg,useState:function(){return Eo(Nr)},useDebugValue:qd,useDeferredValue:function(t,a){var l=gt();return Fg(l,Xe.memoizedState,t,a)},useTransition:function(){var t=Eo(Nr)[0],a=gt().memoizedState;return[typeof t=="boolean"?t:Pi(t),a]},useSyncExternalStore:bg,useId:Kg,useHostTransitionStatus:Gd,useFormState:Og,useActionState:Og,useOptimistic:function(t,a){var l=gt();return Cg(l,Xe,t,a)},useMemoCache:Id,useCacheRefresh:Wg};Kd.useEffectEvent=Ig;var tp={readContext:_t,use:Co,useCallback:Qg,useContext:_t,useEffect:Qd,useImperativeHandle:$g,useInsertionEffect:Ug,useLayoutEffect:Bg,useMemo:qg,useReducer:Bd,useRef:zg,useState:function(){return Bd(Nr)},useDebugValue:qd,useDeferredValue:function(t,a){var l=gt();return Xe===null?Fd(l,t,a):Fg(l,Xe.memoizedState,t,a)},useTransition:function(){var t=Bd(Nr)[0],a=gt().memoizedState;return[typeof t=="boolean"?t:Pi(t),a]},useSyncExternalStore:bg,useId:Kg,useHostTransitionStatus:Gd,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,a){var l=gt();return Xe!==null?Cg(l,Xe,t,a):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Id,useCacheRefresh:Wg};tp.useEffectEvent=Ig;function Wd(t,a,l,c){a=t.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Xd={enqueueSetState:function(t,a,l){t=t._reactInternals;var c=pn(),g=Kr(c);g.payload=a,l!=null&&(g.callback=l),a=Wr(t,g,c),a!==null&&(on(a,t,c),Oi(a,t,c))},enqueueReplaceState:function(t,a,l){t=t._reactInternals;var c=pn(),g=Kr(c);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Wr(t,g,c),a!==null&&(on(a,t,c),Oi(a,t,c))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var l=pn(),c=Kr(l);c.tag=2,a!=null&&(c.callback=a),a=Wr(t,c,l),a!==null&&(on(a,t,l),Oi(a,t,l))}};function np(t,a,l,c,g,p,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,N):a.prototype&&a.prototype.isPureReactComponent?!Si(l,c)||!Si(g,p):!0}function rp(t,a,l,c){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==t&&Xd.enqueueReplaceState(a,a.state,null)}function Ia(t,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(t=t.defaultProps){l===a&&(l=y({},l));for(var g in t)l[g]===void 0&&(l[g]=t[g])}return l}function ap(t){lo(t)}function sp(t){console.error(t)}function ip(t){lo(t)}function Ao(t,a){try{var l=t.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function lp(t,a,l){try{var c=t.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Zd(t,a,l){return l=Kr(l),l.tag=3,l.payload={element:null},l.callback=function(){Ao(t,a)},l}function op(t){return t=Kr(t),t.tag=3,t}function cp(t,a,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=c.value;t.payload=function(){return g(p)},t.callback=function(){lp(a,l,c)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){lp(a,l,c),typeof g!="function"&&(na===null?na=new Set([this]):na.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function Nk(t,a,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&ws(a,l,g,!0),l=fn.current,l!==null){switch(l.tag){case 31:case 13:return On===null?Qo():l.alternate===null&&ot===0&&(ot=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===yo?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Nf(t,c,g)),!1;case 22:return l.flags|=65536,c===yo?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Nf(t,c,g)),!1}throw Error(i(435,l.tag))}return Nf(t,c,g),Qo(),!1}if(Be)return a=fn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,c!==xd&&(t=Error(i(422),{cause:c}),Mi(Rn(t,l)))):(c!==xd&&(a=Error(i(423),{cause:c}),Mi(Rn(a,l))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,c=Rn(c,l),g=Zd(t.stateNode,c,g),Md(t,g),ot!==4&&(ot=2)),!1;var p=Error(i(520),{cause:c});if(p=Rn(p,l),Gi===null?Gi=[p]:Gi.push(p),ot!==4&&(ot=2),a===null)return!0;c=Rn(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,t=g&-g,l.lanes|=t,t=Zd(l.stateNode,c,t),Md(l,t),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(na===null||!na.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=op(g),cp(g,t,l,c),Md(l,g),!1}l=l.return}while(l!==null);return!1}var Jd=Error(i(461)),vt=!1;function Lt(t,a,l,c){a.child=t===null?hg(a,null,l,c):za(a,t.child,l,c)}function up(t,a,l,c,g){l=l.render;var p=a.ref;if("ref"in c){var N={};for(var M in c)M!=="ref"&&(N[M]=c[M])}else N=c;return Da(a),c=_d(t,a,l,N,p,g),M=Ld(),t!==null&&!vt?(zd(t,a,g),Sr(t,a,g)):(Be&&M&&gd(a),a.flags|=1,Lt(t,a,c,g),a.child)}function dp(t,a,l,c,g){if(t===null){var p=l.type;return typeof p=="function"&&!fd(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,fp(t,a,p,c,g)):(t=fo(l.type,null,c,a,a.mode,g),t.ref=a.ref,t.return=a,a.child=t)}if(p=t.child,!of(t,g)){var N=p.memoizedProps;if(l=l.compare,l=l!==null?l:Si,l(N,c)&&t.ref===a.ref)return Sr(t,a,g)}return a.flags|=1,t=vr(p,c),t.ref=a.ref,t.return=a,a.child=t}function fp(t,a,l,c,g){if(t!==null){var p=t.memoizedProps;if(Si(p,c)&&t.ref===a.ref)if(vt=!1,a.pendingProps=c=p,of(t,g))(t.flags&131072)!==0&&(vt=!0);else return a.lanes=t.lanes,Sr(t,a,g)}return ef(t,a,l,c,g)}function hp(t,a,l,c){var g=c.children,p=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,t!==null){for(c=a.child=t.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~p}else c=0,a.child=null;return mp(t,a,p,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&po(a,p!==null?p.cachePool:null),p!==null?pg(a,p):Td(),xg(a);else return c=a.lanes=536870912,mp(t,a,p!==null?p.baseLanes|l:l,l,c)}else p!==null?(po(a,p.cachePool),pg(a,p),Zr(),a.memoizedState=null):(t!==null&&po(a,null),Td(),Zr());return Lt(t,a,g,l),a.child}function Bi(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function mp(t,a,l,c,g){var p=Nd();return p=p===null?null:{parent:xt._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},t!==null&&po(a,null),Td(),xg(a),t!==null&&ws(t,a,c,!0),a.childLanes=g,null}function Do(t,a){return a=_o({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function gp(t,a,l){return za(a,t.child,null,l),t=Do(a,a.pendingProps),t.flags|=2,hn(a),a.memoizedState=null,t}function Sk(t,a,l){var c=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Be){if(c.mode==="hidden")return t=Do(a,c),a.lanes=536870912,Bi(null,t);if(Dd(a),(t=nt)?(t=Ex(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:qr!==null?{id:ar,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},l=Z0(t),l.return=a,a.child=l,Ot=a,nt=null)):t=null,t===null)throw Vr(a);return a.lanes=536870912,null}return Do(a,c)}var p=t.memoizedState;if(p!==null){var N=p.dehydrated;if(Dd(a),g)if(a.flags&256)a.flags&=-257,a=gp(t,a,l);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(i(558));else if(vt||ws(t,a,l,!1),g=(l&t.childLanes)!==0,vt||g){if(c=tt,c!==null&&(N=Nn(c,l),N!==0&&N!==p.retryLane))throw p.retryLane=N,Ma(t,N),on(c,t,N),Jd;Qo(),a=gp(t,a,l)}else t=p.treeContext,nt=_n(N.nextSibling),Ot=a,Be=!0,Fr=null,Dn=!1,t!==null&&tg(a,t),a=Do(a,c),a.flags|=4096;return a}return t=vr(t.child,{mode:c.mode,children:c.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Oo(t,a){var l=a.ref;if(l===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(t===null||t.ref!==l)&&(a.flags|=4194816)}}function ef(t,a,l,c,g){return Da(a),l=_d(t,a,l,c,void 0,g),c=Ld(),t!==null&&!vt?(zd(t,a,g),Sr(t,a,g)):(Be&&c&&gd(a),a.flags|=1,Lt(t,a,l,g),a.child)}function pp(t,a,l,c,g,p){return Da(a),a.updateQueue=null,l=vg(a,c,l,g),yg(t),c=Ld(),t!==null&&!vt?(zd(t,a,p),Sr(t,a,p)):(Be&&c&&gd(a),a.flags|=1,Lt(t,a,l,p),a.child)}function xp(t,a,l,c,g){if(Da(a),a.stateNode===null){var p=ys,N=l.contextType;typeof N=="object"&&N!==null&&(p=_t(N)),p=new l(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Xd,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},Cd(a),N=l.contextType,p.context=typeof N=="object"&&N!==null?_t(N):ys,p.state=a.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(Wd(a,l,N,c),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(N=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),N!==p.state&&Xd.enqueueReplaceState(p,p.state,null),Li(a,c,p,g),_i(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(t===null){p=a.stateNode;var M=a.memoizedProps,z=Ia(l,M);p.props=z;var V=p.context,Z=l.contextType;N=ys,typeof Z=="object"&&Z!==null&&(N=_t(Z));var te=l.getDerivedStateFromProps;Z=typeof te=="function"||typeof p.getSnapshotBeforeUpdate=="function",M=a.pendingProps!==M,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(M||V!==N)&&rp(a,p,c,N),Yr=!1;var G=a.memoizedState;p.state=G,Li(a,c,p,g),_i(),V=a.memoizedState,M||G!==V||Yr?(typeof te=="function"&&(Wd(a,l,te,c),V=a.memoizedState),(z=Yr||np(a,l,z,c,G,V,N))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=V),p.props=c,p.state=V,p.context=N,c=z):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,Ed(t,a),N=a.memoizedProps,Z=Ia(l,N),p.props=Z,te=a.pendingProps,G=p.context,V=l.contextType,z=ys,typeof V=="object"&&V!==null&&(z=_t(V)),M=l.getDerivedStateFromProps,(V=typeof M=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(N!==te||G!==z)&&rp(a,p,c,z),Yr=!1,G=a.memoizedState,p.state=G,Li(a,c,p,g),_i();var W=a.memoizedState;N!==te||G!==W||Yr||t!==null&&t.dependencies!==null&&mo(t.dependencies)?(typeof M=="function"&&(Wd(a,l,M,c),W=a.memoizedState),(Z=Yr||np(a,l,Z,c,G,W,z)||t!==null&&t.dependencies!==null&&mo(t.dependencies))?(V||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,W,z),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,W,z)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||N===t.memoizedProps&&G===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&G===t.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=W),p.props=c,p.state=W,p.context=z,c=Z):(typeof p.componentDidUpdate!="function"||N===t.memoizedProps&&G===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&G===t.memoizedState||(a.flags|=1024),c=!1)}return p=c,Oo(t,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,t!==null&&c?(a.child=za(a,t.child,null,g),a.child=za(a,null,l,g)):Lt(t,a,l,g),a.memoizedState=p.state,t=a.child):t=Sr(t,a,g),t}function yp(t,a,l,c){return Ta(),a.flags|=256,Lt(t,a,l,c),a.child}var tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nf(t){return{baseLanes:t,cachePool:lg()}}function rf(t,a,l){return t=t!==null?t.childLanes&~l:0,a&&(t|=gn),t}function vp(t,a,l){var c=a.pendingProps,g=!1,p=(a.flags&128)!==0,N;if((N=p)||(N=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),N&&(g=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,t===null){if(Be){if(g?Xr(a):Zr(),(t=nt)?(t=Ex(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:qr!==null?{id:ar,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},l=Z0(t),l.return=a,a.child=l,Ot=a,nt=null)):t=null,t===null)throw Vr(a);return Bf(t)?a.lanes=32:a.lanes=536870912,null}var M=c.children;return c=c.fallback,g?(Zr(),g=a.mode,M=_o({mode:"hidden",children:M},g),c=Ra(c,g,l,null),M.return=a,c.return=a,M.sibling=c,a.child=M,c=a.child,c.memoizedState=nf(l),c.childLanes=rf(t,N,l),a.memoizedState=tf,Bi(null,c)):(Xr(a),af(a,M))}var z=t.memoizedState;if(z!==null&&(M=z.dehydrated,M!==null)){if(p)a.flags&256?(Xr(a),a.flags&=-257,a=sf(t,a,l)):a.memoizedState!==null?(Zr(),a.child=t.child,a.flags|=128,a=null):(Zr(),M=c.fallback,g=a.mode,c=_o({mode:"visible",children:c.children},g),M=Ra(M,g,l,null),M.flags|=2,c.return=a,M.return=a,c.sibling=M,a.child=c,za(a,t.child,null,l),c=a.child,c.memoizedState=nf(l),c.childLanes=rf(t,N,l),a.memoizedState=tf,a=Bi(null,c));else if(Xr(a),Bf(M)){if(N=M.nextSibling&&M.nextSibling.dataset,N)var V=N.dgst;N=V,c=Error(i(419)),c.stack="",c.digest=N,Mi({value:c,source:null,stack:null}),a=sf(t,a,l)}else if(vt||ws(t,a,l,!1),N=(l&t.childLanes)!==0,vt||N){if(N=tt,N!==null&&(c=Nn(N,l),c!==0&&c!==z.retryLane))throw z.retryLane=c,Ma(t,c),on(N,t,c),Jd;Uf(M)||Qo(),a=sf(t,a,l)}else Uf(M)?(a.flags|=192,a.child=t.child,a=null):(t=z.treeContext,nt=_n(M.nextSibling),Ot=a,Be=!0,Fr=null,Dn=!1,t!==null&&tg(a,t),a=af(a,c.children),a.flags|=4096);return a}return g?(Zr(),M=c.fallback,g=a.mode,z=t.child,V=z.sibling,c=vr(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,V!==null?M=vr(V,M):(M=Ra(M,g,l,null),M.flags|=2),M.return=a,c.return=a,c.sibling=M,a.child=c,Bi(null,c),c=a.child,M=t.child.memoizedState,M===null?M=nf(l):(g=M.cachePool,g!==null?(z=xt._currentValue,g=g.parent!==z?{parent:z,pool:z}:g):g=lg(),M={baseLanes:M.baseLanes|l,cachePool:g}),c.memoizedState=M,c.childLanes=rf(t,N,l),a.memoizedState=tf,Bi(t.child,c)):(Xr(a),l=t.child,t=l.sibling,l=vr(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,t!==null&&(N=a.deletions,N===null?(a.deletions=[t],a.flags|=16):N.push(t)),a.child=l,a.memoizedState=null,l)}function af(t,a){return a=_o({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function _o(t,a){return t=dn(22,t,null,a),t.lanes=0,t}function sf(t,a,l){return za(a,t.child,null,l),t=af(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function bp(t,a,l){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a),bd(t.return,a,l)}function lf(t,a,l,c,g,p){var N=t.memoizedState;N===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g,treeForkCount:p}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=l,N.tailMode=g,N.treeForkCount=p)}function jp(t,a,l){var c=a.pendingProps,g=c.revealOrder,p=c.tail;c=c.children;var N=mt.current,M=(N&2)!==0;if(M?(N=N&1|2,a.flags|=128):N&=1,X(mt,N),Lt(t,a,c,l),c=Be?Ei:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bp(t,l,a);else if(t.tag===19)bp(t,l,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)t=l.alternate,t!==null&&wo(t)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),lf(a,!1,g,l,p,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(t=g.alternate,t!==null&&wo(t)===null){a.child=g;break}t=g.sibling,g.sibling=l,l=g,g=t}lf(a,!0,l,null,p,c);break;case"together":lf(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Sr(t,a,l){if(t!==null&&(a.dependencies=t.dependencies),ta|=a.lanes,(l&a.childLanes)===0)if(t!==null){if(ws(t,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,l=vr(t,t.pendingProps),a.child=l,l.return=a;t.sibling!==null;)t=t.sibling,l=l.sibling=vr(t,t.pendingProps),l.return=a;l.sibling=null}return a.child}function of(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&mo(t)))}function Ck(t,a,l){switch(a.tag){case 3:et(a,a.stateNode.containerInfo),Gr(a,xt,t.memoizedState.cache),Ta();break;case 27:case 5:Re(a);break;case 4:et(a,a.stateNode.containerInfo);break;case 10:Gr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Dd(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Xr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?vp(t,a,l):(Xr(a),t=Sr(t,a,l),t!==null?t.sibling:null);Xr(a);break;case 19:var g=(t.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(ws(t,a,l,!1),c=(l&a.childLanes)!==0),g){if(c)return jp(t,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),X(mt,mt.current),c)break;return null;case 22:return a.lanes=0,hp(t,a,l,a.pendingProps);case 24:Gr(a,xt,t.memoizedState.cache)}return Sr(t,a,l)}function wp(t,a,l){if(t!==null)if(t.memoizedProps!==a.pendingProps)vt=!0;else{if(!of(t,l)&&(a.flags&128)===0)return vt=!1,Ck(t,a,l);vt=(t.flags&131072)!==0}else vt=!1,Be&&(a.flags&1048576)!==0&&eg(a,Ei,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(t=_a(a.elementType),a.type=t,typeof t=="function")fd(t)?(c=Ia(t,c),a.tag=1,a=xp(null,a,t,c,l)):(a.tag=0,a=ef(null,a,t,c,l));else{if(t!=null){var g=t.$$typeof;if(g===O){a.tag=11,a=up(null,a,t,c,l);break e}else if(g===E){a.tag=14,a=dp(null,a,t,c,l);break e}}throw a=le(t)||t,Error(i(306,a,""))}}return a;case 0:return ef(t,a,a.type,a.pendingProps,l);case 1:return c=a.type,g=Ia(c,a.pendingProps),xp(t,a,c,g,l);case 3:e:{if(et(a,a.stateNode.containerInfo),t===null)throw Error(i(387));c=a.pendingProps;var p=a.memoizedState;g=p.element,Ed(t,a),Li(a,c,null,l);var N=a.memoizedState;if(c=N.cache,Gr(a,xt,c),c!==p.cache&&jd(a,[xt],l,!0),_i(),c=N.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=yp(t,a,c,l);break e}else if(c!==g){g=Rn(Error(i(424)),a),Mi(g),a=yp(t,a,c,l);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=_n(t.firstChild),Ot=a,Be=!0,Fr=null,Dn=!0,l=hg(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ta(),c===g){a=Sr(t,a,l);break e}Lt(t,a,c,l)}a=a.child}return a;case 26:return Oo(t,a),t===null?(l=Ox(a.type,null,a.pendingProps,null))?a.memoizedState=l:Be||(l=a.type,t=a.pendingProps,c=Wo(fe.current).createElement(l),c[Dt]=a,c[tn]=t,zt(c,l,t),Mt(c),a.stateNode=c):a.memoizedState=Ox(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Re(a),t===null&&Be&&(c=a.stateNode=Tx(a.type,a.pendingProps,fe.current),Ot=a,Dn=!0,g=nt,ia(a.type)?(Hf=g,nt=_n(c.firstChild)):nt=g),Lt(t,a,a.pendingProps.children,l),Oo(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Be&&((g=c=nt)&&(c=nN(c,a.type,a.pendingProps,Dn),c!==null?(a.stateNode=c,Ot=a,nt=_n(c.firstChild),Dn=!1,g=!0):g=!1),g||Vr(a)),Re(a),g=a.type,p=a.pendingProps,N=t!==null?t.memoizedProps:null,c=p.children,zf(g,p)?c=null:N!==null&&zf(g,N)&&(a.flags|=32),a.memoizedState!==null&&(g=_d(t,a,xk,null,null,l),tl._currentValue=g),Oo(t,a),Lt(t,a,c,l),a.child;case 6:return t===null&&Be&&((t=l=nt)&&(l=rN(l,a.pendingProps,Dn),l!==null?(a.stateNode=l,Ot=a,nt=null,t=!0):t=!1),t||Vr(a)),null;case 13:return vp(t,a,l);case 4:return et(a,a.stateNode.containerInfo),c=a.pendingProps,t===null?a.child=za(a,null,c,l):Lt(t,a,c,l),a.child;case 11:return up(t,a,a.type,a.pendingProps,l);case 7:return Lt(t,a,a.pendingProps,l),a.child;case 8:return Lt(t,a,a.pendingProps.children,l),a.child;case 12:return Lt(t,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Gr(a,a.type,c.value),Lt(t,a,c.children,l),a.child;case 9:return g=a.type._context,c=a.pendingProps.children,Da(a),g=_t(g),c=c(g),a.flags|=1,Lt(t,a,c,l),a.child;case 14:return dp(t,a,a.type,a.pendingProps,l);case 15:return fp(t,a,a.type,a.pendingProps,l);case 19:return jp(t,a,l);case 31:return Sk(t,a,l);case 22:return hp(t,a,l,a.pendingProps);case 24:return Da(a),c=_t(xt),t===null?(g=Nd(),g===null&&(g=tt,p=wd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:c,cache:g},Cd(a),Gr(a,xt,g)):((t.lanes&l)!==0&&(Ed(t,a),Li(a,null,null,l),_i()),g=t.memoizedState,p=a.memoizedState,g.parent!==c?(g={parent:c,cache:c},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Gr(a,xt,c)):(c=p.cache,Gr(a,xt,c),c!==g.cache&&jd(a,[xt],l,!0))),Lt(t,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Cr(t){t.flags|=4}function cf(t,a,l,c,g){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(g&335544128)===g)if(t.stateNode.complete)t.flags|=8192;else if(Kp())t.flags|=8192;else throw La=yo,Sd}else t.flags&=-16777217}function kp(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ix(a))if(Kp())t.flags|=8192;else throw La=yo,Sd}function Lo(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?$t():536870912,t.lanes|=a,_s|=a)}function Hi(t,a){if(!Be)switch(t.tailMode){case"hidden":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function rt(t){var a=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(a)for(var g=t.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=c,t.childLanes=l,a}function Ek(t,a,l){var c=a.pendingProps;switch(pd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(a),null;case 1:return rt(a),null;case 3:return l=a.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),wr(xt),Le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(js(a)?Cr(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,yd())),rt(a),null;case 26:var g=a.type,p=a.memoizedState;return t===null?(Cr(a),p!==null?(rt(a),kp(a,p)):(rt(a),cf(a,g,null,c,l))):p?p!==t.memoizedState?(Cr(a),rt(a),kp(a,p)):(rt(a),a.flags&=-16777217):(t=t.memoizedProps,t!==c&&Cr(a),rt(a),cf(a,g,t,c,l)),null;case 27:if(Xt(a),l=fe.current,g=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&Cr(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return rt(a),null}t=ee.current,js(a)?ng(a):(t=Tx(g,c,l),a.stateNode=t,Cr(a))}return rt(a),null;case 5:if(Xt(a),g=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&Cr(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return rt(a),null}if(p=ee.current,js(a))ng(a);else{var N=Wo(fe.current);switch(p){case 1:p=N.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=N.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=N.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?N.createElement(g,{is:c.is}):N.createElement(g)}}p[Dt]=a,p[tn]=c;e:for(N=a.child;N!==null;){if(N.tag===5||N.tag===6)p.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===a)break e;for(;N.sibling===null;){if(N.return===null||N.return===a)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}a.stateNode=p;e:switch(zt(p,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Cr(a)}}return rt(a),cf(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,l),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==c&&Cr(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(t=fe.current,js(a)){if(t=a.stateNode,l=a.memoizedProps,c=null,g=Ot,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}t[Dt]=a,t=!!(t.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||vx(t.nodeValue,l)),t||Vr(a,!0)}else t=Wo(t).createTextNode(c),t[Dt]=a,a.stateNode=t}return rt(a),null;case 31:if(l=a.memoizedState,t===null||t.memoizedState!==null){if(c=js(a),l!==null){if(t===null){if(!c)throw Error(i(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Dt]=a}else Ta(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rt(a),t=!1}else l=yd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return a.flags&256?(hn(a),a):(hn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return rt(a),null;case 13:if(c=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=js(a),c!==null&&c.dehydrated!==null){if(t===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Dt]=a}else Ta(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rt(a),g=!1}else g=yd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(hn(a),a):(hn(a),null)}return hn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,t=t!==null&&t.memoizedState!==null,l&&(c=a.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==g&&(c.flags|=2048)),l!==t&&l&&(a.child.flags|=8192),Lo(a,a.updateQueue),rt(a),null);case 4:return Le(),t===null&&Af(a.stateNode.containerInfo),rt(a),null;case 10:return wr(a.type),rt(a),null;case 19:if(B(mt),c=a.memoizedState,c===null)return rt(a),null;if(g=(a.flags&128)!==0,p=c.rendering,p===null)if(g)Hi(c,!1);else{if(ot!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(p=wo(t),p!==null){for(a.flags|=128,Hi(c,!1),t=p.updateQueue,a.updateQueue=t,Lo(a,t),a.subtreeFlags=0,t=l,l=a.child;l!==null;)X0(l,t),l=l.sibling;return X(mt,mt.current&1|2),Be&&br(a,c.treeForkCount),a.child}t=t.sibling}c.tail!==null&&Bt()>Bo&&(a.flags|=128,g=!0,Hi(c,!1),a.lanes=4194304)}else{if(!g)if(t=wo(p),t!==null){if(a.flags|=128,g=!0,t=t.updateQueue,a.updateQueue=t,Lo(a,t),Hi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Be)return rt(a),null}else 2*Bt()-c.renderingStartTime>Bo&&l!==536870912&&(a.flags|=128,g=!0,Hi(c,!1),a.lanes=4194304);c.isBackwards?(p.sibling=a.child,a.child=p):(t=c.last,t!==null?t.sibling=p:a.child=p,c.last=p)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Bt(),t.sibling=null,l=mt.current,X(mt,g?l&1|2:l&1),Be&&br(a,c.treeForkCount),t):(rt(a),null);case 22:case 23:return hn(a),Ad(),c=a.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(rt(a),a.subtreeFlags&6&&(a.flags|=8192)):rt(a),l=a.updateQueue,l!==null&&Lo(a,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),t!==null&&B(Oa),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),wr(xt),rt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Mk(t,a){switch(pd(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return wr(xt),Le(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Xt(a),null;case 31:if(a.memoizedState!==null){if(hn(a),a.alternate===null)throw Error(i(340));Ta()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(hn(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ta()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return B(mt),null;case 4:return Le(),null;case 10:return wr(a.type),null;case 22:case 23:return hn(a),Ad(),t!==null&&B(Oa),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return wr(xt),null;case 25:return null;default:return null}}function Np(t,a){switch(pd(a),a.tag){case 3:wr(xt),Le();break;case 26:case 27:case 5:Xt(a);break;case 4:Le();break;case 31:a.memoizedState!==null&&hn(a);break;case 13:hn(a);break;case 19:B(mt);break;case 10:wr(a.type);break;case 22:case 23:hn(a),Ad(),t!==null&&B(Oa);break;case 24:wr(xt)}}function $i(t,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&t)===t){c=void 0;var p=l.create,N=l.inst;c=p(),N.destroy=c}l=l.next}while(l!==g)}}catch(M){Ke(a,a.return,M)}}function Jr(t,a,l){try{var c=a.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var p=g.next;c=p;do{if((c.tag&t)===t){var N=c.inst,M=N.destroy;if(M!==void 0){N.destroy=void 0,g=a;var z=l,V=M;try{V()}catch(Z){Ke(g,z,Z)}}}c=c.next}while(c!==p)}}catch(Z){Ke(a,a.return,Z)}}function Sp(t){var a=t.updateQueue;if(a!==null){var l=t.stateNode;try{gg(a,l)}catch(c){Ke(t,t.return,c)}}}function Cp(t,a,l){l.props=Ia(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(c){Ke(t,a,c)}}function Qi(t,a){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof l=="function"?t.refCleanup=l(c):l.current=c}}catch(g){Ke(t,a,g)}}function ir(t,a){var l=t.ref,c=t.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Ke(t,a,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ke(t,a,g)}else l.current=null}function Ep(t){var a=t.type,l=t.memoizedProps,c=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Ke(t,t.return,g)}}function uf(t,a,l){try{var c=t.stateNode;Wk(c,t.type,l,a),c[tn]=a}catch(g){Ke(t,t.return,g)}}function Mp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ia(t.type)||t.tag===4}function df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ia(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ff(t,a,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(t),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=xr));else if(c!==4&&(c===27&&ia(t.type)&&(l=t.stateNode,a=null),t=t.child,t!==null))for(ff(t,a,l),t=t.sibling;t!==null;)ff(t,a,l),t=t.sibling}function zo(t,a,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?l.insertBefore(t,a):l.appendChild(t);else if(c!==4&&(c===27&&ia(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(zo(t,a,l),t=t.sibling;t!==null;)zo(t,a,l),t=t.sibling}function Rp(t){var a=t.stateNode,l=t.memoizedProps;try{for(var c=t.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);zt(a,c,l),a[Dt]=t,a[tn]=l}catch(p){Ke(t,t.return,p)}}var Er=!1,bt=!1,hf=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Rk(t,a){if(t=t.containerInfo,_f=rc,t=$0(t),sd(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var N=0,M=-1,z=-1,V=0,Z=0,te=t,G=null;t:for(;;){for(var W;te!==l||g!==0&&te.nodeType!==3||(M=N+g),te!==p||c!==0&&te.nodeType!==3||(z=N+c),te.nodeType===3&&(N+=te.nodeValue.length),(W=te.firstChild)!==null;)G=te,te=W;for(;;){if(te===t)break t;if(G===l&&++V===g&&(M=N),G===p&&++Z===c&&(z=N),(W=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=W}l=M===-1||z===-1?null:{start:M,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lf={focusedElem:t,selectionRange:l},rc=!1,Rt=a;Rt!==null;)if(a=Rt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Rt=t;else for(;Rt!==null;){switch(a=Rt,p=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)g=t[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var he=Ia(l.type,g);t=c.getSnapshotBeforeUpdate(he,p),c.__reactInternalSnapshotBeforeUpdate=t}catch(we){Ke(l,l.return,we)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,l=t.nodeType,l===9)If(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":If(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,Rt=t;break}Rt=a.return}}function Ap(t,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Rr(t,l),c&4&&$i(5,l);break;case 1:if(Rr(t,l),c&4)if(t=l.stateNode,a===null)try{t.componentDidMount()}catch(N){Ke(l,l.return,N)}else{var g=Ia(l.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(g,a,t.__reactInternalSnapshotBeforeUpdate)}catch(N){Ke(l,l.return,N)}}c&64&&Sp(l),c&512&&Qi(l,l.return);break;case 3:if(Rr(t,l),c&64&&(t=l.updateQueue,t!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{gg(t,a)}catch(N){Ke(l,l.return,N)}}break;case 27:a===null&&c&4&&Rp(l);case 26:case 5:Rr(t,l),a===null&&c&4&&Ep(l),c&512&&Qi(l,l.return);break;case 12:Rr(t,l);break;case 31:Rr(t,l),c&4&&_p(t,l);break;case 13:Rr(t,l),c&4&&Lp(t,l),c&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=Ik.bind(null,l),aN(t,l))));break;case 22:if(c=l.memoizedState!==null||Er,!c){a=a!==null&&a.memoizedState!==null||bt,g=Er;var p=bt;Er=c,(bt=a)&&!p?Tr(t,l,(l.subtreeFlags&8772)!==0):Rr(t,l),Er=g,bt=p}break;case 30:break;default:Rr(t,l)}}function Dp(t){var a=t.alternate;a!==null&&(t.alternate=null,Dp(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&$u(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,rn=!1;function Mr(t,a,l){for(l=l.child;l!==null;)Op(t,a,l),l=l.sibling}function Op(t,a,l){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ka,l)}catch{}switch(l.tag){case 26:bt||ir(l,a),Mr(t,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:bt||ir(l,a);var c=at,g=rn;ia(l.type)&&(at=l.stateNode,rn=!1),Mr(t,a,l),Zi(l.stateNode),at=c,rn=g;break;case 5:bt||ir(l,a);case 6:if(c=at,g=rn,at=null,Mr(t,a,l),at=c,rn=g,at!==null)if(rn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(l.stateNode)}catch(p){Ke(l,a,p)}else try{at.removeChild(l.stateNode)}catch(p){Ke(l,a,p)}break;case 18:at!==null&&(rn?(t=at,Sx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),$s(t)):Sx(at,l.stateNode));break;case 4:c=at,g=rn,at=l.stateNode.containerInfo,rn=!0,Mr(t,a,l),at=c,rn=g;break;case 0:case 11:case 14:case 15:Jr(2,l,a),bt||Jr(4,l,a),Mr(t,a,l);break;case 1:bt||(ir(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Cp(l,a,c)),Mr(t,a,l);break;case 21:Mr(t,a,l);break;case 22:bt=(c=bt)||l.memoizedState!==null,Mr(t,a,l),bt=c;break;default:Mr(t,a,l)}}function _p(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$s(t)}catch(l){Ke(a,a.return,l)}}}function Lp(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$s(t)}catch(l){Ke(a,a.return,l)}}function Tk(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Tp),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Tp),a;default:throw Error(i(435,t.tag))}}function Po(t,a){var l=Tk(t);a.forEach(function(c){if(!l.has(c)){l.add(c);var g=Uk.bind(null,t,c);c.then(g,g)}})}function an(t,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],p=t,N=a,M=N;e:for(;M!==null;){switch(M.tag){case 27:if(ia(M.type)){at=M.stateNode,rn=!1;break e}break;case 5:at=M.stateNode,rn=!1;break e;case 3:case 4:at=M.stateNode.containerInfo,rn=!0;break e}M=M.return}if(at===null)throw Error(i(160));Op(p,N,g),at=null,rn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)zp(a,t),a=a.sibling}var qn=null;function zp(t,a){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(a,t),sn(t),c&4&&(Jr(3,t,t.return),$i(3,t),Jr(5,t,t.return));break;case 1:an(a,t),sn(t),c&512&&(bt||l===null||ir(l,l.return)),c&64&&Er&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=qn;if(an(a,t),sn(t),c&512&&(bt||l===null||ir(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=t.memoizedState,l===null)if(c===null)if(t.stateNode===null){e:{c=t.type,l=t.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":p=g.getElementsByTagName("title")[0],(!p||p[pi]||p[Dt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(c),g.head.insertBefore(p,g.querySelector("head > title"))),zt(p,c,l),p[Dt]=t,Mt(p),c=p;break e;case"link":var N=zx("link","href",g).get(c+(l.href||""));if(N){for(var M=0;M<N.length;M++)if(p=N[M],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(M,1);break t}}p=g.createElement(c),zt(p,c,l),g.head.appendChild(p);break;case"meta":if(N=zx("meta","content",g).get(c+(l.content||""))){for(M=0;M<N.length;M++)if(p=N[M],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(M,1);break t}}p=g.createElement(c),zt(p,c,l),g.head.appendChild(p);break;default:throw Error(i(468,c))}p[Dt]=t,Mt(p),c=p}t.stateNode=c}else Px(g,t.type,t.stateNode);else t.stateNode=Lx(g,c,t.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?Px(g,t.type,t.stateNode):Lx(g,c,t.memoizedProps)):c===null&&t.stateNode!==null&&uf(t,t.memoizedProps,l.memoizedProps)}break;case 27:an(a,t),sn(t),c&512&&(bt||l===null||ir(l,l.return)),l!==null&&c&4&&uf(t,t.memoizedProps,l.memoizedProps);break;case 5:if(an(a,t),sn(t),c&512&&(bt||l===null||ir(l,l.return)),t.flags&32){g=t.stateNode;try{ds(g,"")}catch(he){Ke(t,t.return,he)}}c&4&&t.stateNode!=null&&(g=t.memoizedProps,uf(t,g,l!==null?l.memoizedProps:g)),c&1024&&(hf=!0);break;case 6:if(an(a,t),sn(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,l=t.stateNode;try{l.nodeValue=c}catch(he){Ke(t,t.return,he)}}break;case 3:if(Jo=null,g=qn,qn=Xo(a.containerInfo),an(a,t),qn=g,sn(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{$s(a.containerInfo)}catch(he){Ke(t,t.return,he)}hf&&(hf=!1,Pp(t));break;case 4:c=qn,qn=Xo(t.stateNode.containerInfo),an(a,t),sn(t),qn=c;break;case 12:an(a,t),sn(t);break;case 31:an(a,t),sn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Po(t,c)));break;case 13:an(a,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Uo=Bt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Po(t,c)));break;case 22:g=t.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,V=Er,Z=bt;if(Er=V||g,bt=Z||z,an(a,t),bt=Z,Er=V,sn(t),c&8192)e:for(a=t.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||z||Er||bt||Ua(t)),l=null,a=t;;){if(a.tag===5||a.tag===26){if(l===null){z=l=a;try{if(p=z.stateNode,g)N=p.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{M=z.stateNode;var te=z.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;M.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){Ke(z,z.return,he)}}}else if(a.tag===6){if(l===null){z=a;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(he){Ke(z,z.return,he)}}}else if(a.tag===18){if(l===null){z=a;try{var W=z.stateNode;g?Cx(W,!0):Cx(z.stateNode,!1)}catch(he){Ke(z,z.return,he)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=t.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Po(t,l))));break;case 19:an(a,t),sn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Po(t,c)));break;case 30:break;case 21:break;default:an(a,t),sn(t)}}function sn(t){var a=t.flags;if(a&2){try{for(var l,c=t.return;c!==null;){if(Mp(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=df(t);zo(t,p,g);break;case 5:var N=l.stateNode;l.flags&32&&(ds(N,""),l.flags&=-33);var M=df(t);zo(t,M,N);break;case 3:case 4:var z=l.stateNode.containerInfo,V=df(t);ff(t,V,z);break;default:throw Error(i(161))}}catch(Z){Ke(t,t.return,Z)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Pp(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Rr(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ap(t,a.alternate,a),a=a.sibling}function Ua(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Jr(4,a,a.return),Ua(a);break;case 1:ir(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Cp(a,a.return,l),Ua(a);break;case 27:Zi(a.stateNode);case 26:case 5:ir(a,a.return),Ua(a);break;case 22:a.memoizedState===null&&Ua(a);break;case 30:Ua(a);break;default:Ua(a)}t=t.sibling}}function Tr(t,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,g=t,p=a,N=p.flags;switch(p.tag){case 0:case 11:case 15:Tr(g,p,l),$i(4,p);break;case 1:if(Tr(g,p,l),c=p,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(V){Ke(c,c.return,V)}if(c=p,g=c.updateQueue,g!==null){var M=c.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)mg(z[g],M)}catch(V){Ke(c,c.return,V)}}l&&N&64&&Sp(p),Qi(p,p.return);break;case 27:Rp(p);case 26:case 5:Tr(g,p,l),l&&c===null&&N&4&&Ep(p),Qi(p,p.return);break;case 12:Tr(g,p,l);break;case 31:Tr(g,p,l),l&&N&4&&_p(g,p);break;case 13:Tr(g,p,l),l&&N&4&&Lp(g,p);break;case 22:p.memoizedState===null&&Tr(g,p,l),Qi(p,p.return);break;case 30:break;default:Tr(g,p,l)}a=a.sibling}}function mf(t,a){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Ri(l))}function gf(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ri(t))}function Fn(t,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ip(t,a,l,c),a=a.sibling}function Ip(t,a,l,c){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Fn(t,a,l,c),g&2048&&$i(9,a);break;case 1:Fn(t,a,l,c);break;case 3:Fn(t,a,l,c),g&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ri(t)));break;case 12:if(g&2048){Fn(t,a,l,c),t=a.stateNode;try{var p=a.memoizedProps,N=p.id,M=p.onPostCommit;typeof M=="function"&&M(N,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){Ke(a,a.return,z)}}else Fn(t,a,l,c);break;case 31:Fn(t,a,l,c);break;case 13:Fn(t,a,l,c);break;case 23:break;case 22:p=a.stateNode,N=a.alternate,a.memoizedState!==null?p._visibility&2?Fn(t,a,l,c):qi(t,a):p._visibility&2?Fn(t,a,l,c):(p._visibility|=2,As(t,a,l,c,(a.subtreeFlags&10256)!==0||!1)),g&2048&&mf(N,a);break;case 24:Fn(t,a,l,c),g&2048&&gf(a.alternate,a);break;default:Fn(t,a,l,c)}}function As(t,a,l,c,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=t,N=a,M=l,z=c,V=N.flags;switch(N.tag){case 0:case 11:case 15:As(p,N,M,z,g),$i(8,N);break;case 23:break;case 22:var Z=N.stateNode;N.memoizedState!==null?Z._visibility&2?As(p,N,M,z,g):qi(p,N):(Z._visibility|=2,As(p,N,M,z,g)),g&&V&2048&&mf(N.alternate,N);break;case 24:As(p,N,M,z,g),g&&V&2048&&gf(N.alternate,N);break;default:As(p,N,M,z,g)}a=a.sibling}}function qi(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=t,c=a,g=c.flags;switch(c.tag){case 22:qi(l,c),g&2048&&mf(c.alternate,c);break;case 24:qi(l,c),g&2048&&gf(c.alternate,c);break;default:qi(l,c)}a=a.sibling}}var Fi=8192;function Ds(t,a,l){if(t.subtreeFlags&Fi)for(t=t.child;t!==null;)Up(t,a,l),t=t.sibling}function Up(t,a,l){switch(t.tag){case 26:Ds(t,a,l),t.flags&Fi&&t.memoizedState!==null&&pN(l,qn,t.memoizedState,t.memoizedProps);break;case 5:Ds(t,a,l);break;case 3:case 4:var c=qn;qn=Xo(t.stateNode.containerInfo),Ds(t,a,l),qn=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Fi,Fi=16777216,Ds(t,a,l),Fi=c):Ds(t,a,l));break;default:Ds(t,a,l)}}function Bp(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Vi(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Rt=c,$p(c,t)}Bp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hp(t),t=t.sibling}function Hp(t){switch(t.tag){case 0:case 11:case 15:Vi(t),t.flags&2048&&Jr(9,t,t.return);break;case 3:Vi(t);break;case 12:Vi(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Io(t)):Vi(t);break;default:Vi(t)}}function Io(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Rt=c,$p(c,t)}Bp(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Jr(8,a,a.return),Io(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Io(a));break;default:Io(a)}t=t.sibling}}function $p(t,a){for(;Rt!==null;){var l=Rt;switch(l.tag){case 0:case 11:case 15:Jr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ri(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Rt=c;else e:for(l=t;Rt!==null;){c=Rt;var g=c.sibling,p=c.return;if(Dp(c),c===l){Rt=null;break e}if(g!==null){g.return=p,Rt=g;break e}Rt=p}}}var Ak={getCacheForType:function(t){var a=_t(xt),l=a.data.get(t);return l===void 0&&(l=t(),a.data.set(t,l)),l},cacheSignal:function(){return _t(xt).controller.signal}},Dk=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,De=null,ze=0,Ye=0,mn=null,ea=!1,Os=!1,pf=!1,Ar=0,ot=0,ta=0,Ba=0,xf=0,gn=0,_s=0,Gi=null,ln=null,yf=!1,Uo=0,Qp=0,Bo=1/0,Ho=null,na=null,kt=0,ra=null,Ls=null,Dr=0,vf=0,bf=null,qp=null,Yi=0,jf=null;function pn(){return(Ge&2)!==0&&ze!==0?ze&-ze:H.T!==null?Ef():$n()}function Fp(){if(gn===0)if((ze&536870912)===0||Be){var t=as;as<<=1,(as&3932160)===0&&(as=262144),gn=t}else gn=536870912;return t=fn.current,t!==null&&(t.flags|=32),gn}function on(t,a,l){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(zs(t,0),aa(t,ze,gn,!1)),kn(t,l),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Ba|=l),ot===4&&aa(t,ze,gn,!1)),lr(t))}function Vp(t,a,l){if((Ge&6)!==0)throw Error(i(327));var c=!l&&(a&127)===0&&(a&t.expiredLanes)===0||Zt(t,a),g=c?Lk(t,a):kf(t,a,!0),p=c;do{if(g===0){Os&&!c&&aa(t,a,0,!1);break}else{if(l=t.current.alternate,p&&!Ok(l)){g=kf(t,a,!1),p=!1;continue}if(g===2){if(p=a,t.errorRecoveryDisabledLanes&p)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var M=t;g=Gi;var z=M.current.memoizedState.isDehydrated;if(z&&(zs(M,N).flags|=256),N=kf(M,N,!1),N!==2){if(pf&&!z){M.errorRecoveryDisabledLanes|=p,Ba|=p,g=4;break e}p=ln,ln=g,p!==null&&(ln===null?ln=p:ln.push.apply(ln,p))}g=N}if(p=!1,g!==2)continue}}if(g===1){zs(t,0),aa(t,a,0,!0);break}e:{switch(c=t,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:aa(c,a,gn,!ea);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Uo+300-Bt(),10<g)){if(aa(c,a,gn,!ea),Et(c,0,!0)!==0)break e;Dr=a,c.timeoutHandle=kx(Gp.bind(null,c,l,ln,Ho,yf,a,gn,Ba,_s,ea,p,"Throttled",-0,0),g);break e}Gp(c,l,ln,Ho,yf,a,gn,Ba,_s,ea,p,null,-0,0)}}break}while(!0);lr(t)}function Gp(t,a,l,c,g,p,N,M,z,V,Z,te,G,W){if(t.timeoutHandle=-1,te=a.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xr},Up(a,p,te);var he=(p&62914560)===p?Uo-Bt():(p&4194048)===p?Qp-Bt():0;if(he=xN(te,he),he!==null){Dr=p,t.cancelPendingCommit=he(tx.bind(null,t,a,p,l,c,g,N,M,z,Z,te,null,G,W)),aa(t,p,N,!V);return}}tx(t,a,p,l,c,g,N,M,z)}function Ok(t){for(var a=t;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],p=g.getSnapshot;g=g.value;try{if(!un(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function aa(t,a,l,c){a&=~xf,a&=~Ba,t.suspendedLanes|=a,t.pingedLanes&=~a,c&&(t.warmLanes|=a),c=t.expirationTimes;for(var g=a;0<g;){var p=31-Ht(g),N=1<<p;c[p]=-1,g&=~N}l!==0&&Hn(t,l,a)}function $o(){return(Ge&6)===0?(Ki(0),!1):!0}function wf(){if(De!==null){if(Ye===0)var t=De.return;else t=De,jr=Aa=null,Pd(t),Cs=null,Ai=0,t=De;for(;t!==null;)Np(t.alternate,t),t=t.return;De=null}}function zs(t,a){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Jk(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Dr=0,wf(),tt=t,De=l=vr(t.current,null),ze=a,Ye=0,mn=null,ea=!1,Os=Zt(t,a),pf=!1,_s=gn=xf=Ba=ta=ot=0,ln=Gi=null,yf=!1,(a&8)!==0&&(a|=a&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=a;0<c;){var g=31-Ht(c),p=1<<g;a|=t[g],c&=~p}return Ar=a,oo(),l}function Yp(t,a){Ee=null,H.H=Ui,a===Ss||a===xo?(a=ug(),Ye=3):a===Sd?(a=ug(),Ye=4):Ye=a===Jd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,mn=a,De===null&&(ot=1,Ao(t,Rn(a,t.current)))}function Kp(){var t=fn.current;return t===null?!0:(ze&4194048)===ze?On===null:(ze&62914560)===ze||(ze&536870912)!==0?t===On:!1}function Wp(){var t=H.H;return H.H=Ui,t===null?Ui:t}function Xp(){var t=H.A;return H.A=Ak,t}function Qo(){ot=4,ea||(ze&4194048)!==ze&&fn.current!==null||(Os=!0),(ta&134217727)===0&&(Ba&134217727)===0||tt===null||aa(tt,ze,gn,!1)}function kf(t,a,l){var c=Ge;Ge|=2;var g=Wp(),p=Xp();(tt!==t||ze!==a)&&(Ho=null,zs(t,a)),a=!1;var N=ot;e:do try{if(Ye!==0&&De!==null){var M=De,z=mn;switch(Ye){case 8:wf(),N=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(a=!0);var V=Ye;if(Ye=0,mn=null,Ps(t,M,z,V),l&&Os){N=0;break e}break;default:V=Ye,Ye=0,mn=null,Ps(t,M,z,V)}}_k(),N=ot;break}catch(Z){Yp(t,Z)}while(!0);return a&&t.shellSuspendCounter++,jr=Aa=null,Ge=c,H.H=g,H.A=p,De===null&&(tt=null,ze=0,oo()),N}function _k(){for(;De!==null;)Zp(De)}function Lk(t,a){var l=Ge;Ge|=2;var c=Wp(),g=Xp();tt!==t||ze!==a?(Ho=null,Bo=Bt()+500,zs(t,a)):Os=Zt(t,a);e:do try{if(Ye!==0&&De!==null){a=De;var p=mn;t:switch(Ye){case 1:Ye=0,mn=null,Ps(t,a,p,1);break;case 2:case 9:if(og(p)){Ye=0,mn=null,Jp(a);break}a=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),lr(t)},p.then(a,a);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:og(p)?(Ye=0,mn=null,Jp(a)):(Ye=0,mn=null,Ps(t,a,p,7));break;case 5:var N=null;switch(De.tag){case 26:N=De.memoizedState;case 5:case 27:var M=De;if(N?Ix(N):M.stateNode.complete){Ye=0,mn=null;var z=M.sibling;if(z!==null)De=z;else{var V=M.return;V!==null?(De=V,qo(V)):De=null}break t}}Ye=0,mn=null,Ps(t,a,p,5);break;case 6:Ye=0,mn=null,Ps(t,a,p,6);break;case 8:wf(),ot=6;break e;default:throw Error(i(462))}}zk();break}catch(Z){Yp(t,Z)}while(!0);return jr=Aa=null,H.H=c,H.A=g,Ge=l,De!==null?0:(tt=null,ze=0,oo(),ot)}function zk(){for(;De!==null&&!ns();)Zp(De)}function Zp(t){var a=wp(t.alternate,t,Ar);t.memoizedProps=t.pendingProps,a===null?qo(t):De=a}function Jp(t){var a=t,l=a.alternate;switch(a.tag){case 15:case 0:a=pp(l,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=pp(l,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:Pd(a);default:Np(l,a),a=De=X0(a,Ar),a=wp(l,a,Ar)}t.memoizedProps=t.pendingProps,a===null?qo(t):De=a}function Ps(t,a,l,c){jr=Aa=null,Pd(a),Cs=null,Ai=0;var g=a.return;try{if(Nk(t,g,a,l,ze)){ot=1,Ao(t,Rn(l,t.current)),De=null;return}}catch(p){if(g!==null)throw De=g,p;ot=1,Ao(t,Rn(l,t.current)),De=null;return}a.flags&32768?(Be||c===1?t=!0:Os||(ze&536870912)!==0?t=!1:(ea=t=!0,(c===2||c===9||c===3||c===6)&&(c=fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),ex(a,t)):qo(a)}function qo(t){var a=t;do{if((a.flags&32768)!==0){ex(a,ea);return}t=a.return;var l=Ek(a.alternate,a,Ar);if(l!==null){De=l;return}if(a=a.sibling,a!==null){De=a;return}De=a=t}while(a!==null);ot===0&&(ot=5)}function ex(t,a){do{var l=Mk(t.alternate,t);if(l!==null){l.flags&=32767,De=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(t=t.sibling,t!==null)){De=t;return}De=t=l}while(t!==null);ot=6,De=null}function tx(t,a,l,c,g,p,N,M,z){t.cancelPendingCommit=null;do Fo();while(kt!==0);if((Ge&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=ud,wt(t,l,p,N,M,z),t===tt&&(De=tt=null,ze=0),Ls=a,ra=t,Dr=l,vf=p,bf=g,qp=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Bk(Bn,function(){return ix(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,g=Q.p,Q.p=2,N=Ge,Ge|=4;try{Rk(t,a,l)}finally{Ge=N,Q.p=g,H.T=c}}kt=1,nx(),rx(),ax()}}function nx(){if(kt===1){kt=0;var t=ra,a=Ls,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var c=Q.p;Q.p=2;var g=Ge;Ge|=4;try{zp(a,t);var p=Lf,N=$0(t.containerInfo),M=p.focusedElem,z=p.selectionRange;if(N!==M&&M&&M.ownerDocument&&H0(M.ownerDocument.documentElement,M)){if(z!==null&&sd(M)){var V=z.start,Z=z.end;if(Z===void 0&&(Z=V),"selectionStart"in M)M.selectionStart=V,M.selectionEnd=Math.min(Z,M.value.length);else{var te=M.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var W=G.getSelection(),he=M.textContent.length,we=Math.min(z.start,he),Je=z.end===void 0?we:Math.min(z.end,he);!W.extend&&we>Je&&(N=Je,Je=we,we=N);var $=B0(M,we),U=B0(M,Je);if($&&U&&(W.rangeCount!==1||W.anchorNode!==$.node||W.anchorOffset!==$.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var F=te.createRange();F.setStart($.node,$.offset),W.removeAllRanges(),we>Je?(W.addRange(F),W.extend(U.node,U.offset)):(F.setEnd(U.node,U.offset),W.addRange(F))}}}}for(te=[],W=M;W=W.parentNode;)W.nodeType===1&&te.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<te.length;M++){var J=te[M];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}rc=!!_f,Lf=_f=null}finally{Ge=g,Q.p=c,H.T=l}}t.current=a,kt=2}}function rx(){if(kt===2){kt=0;var t=ra,a=Ls,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var c=Q.p;Q.p=2;var g=Ge;Ge|=4;try{Ap(t,a.alternate,a)}finally{Ge=g,Q.p=c,H.T=l}}kt=3}}function ax(){if(kt===4||kt===3){kt=0,Gl();var t=ra,a=Ls,l=Dr,c=qp;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?kt=5:(kt=0,Ls=ra=null,sx(t,t.pendingLanes));var g=t.pendingLanes;if(g===0&&(na=null),gr(l),a=a.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ka,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=H.T,g=Q.p,Q.p=2,H.T=null;try{for(var p=t.onRecoverableError,N=0;N<c.length;N++){var M=c[N];p(M.value,{componentStack:M.stack})}}finally{H.T=a,Q.p=g}}(Dr&3)!==0&&Fo(),lr(t),g=t.pendingLanes,(l&261930)!==0&&(g&42)!==0?t===jf?Yi++:(Yi=0,jf=t):Yi=0,Ki(0)}}function sx(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Ri(a)))}function Fo(){return nx(),rx(),ax(),ix()}function ix(){if(kt!==5)return!1;var t=ra,a=vf;vf=0;var l=gr(Dr),c=H.T,g=Q.p;try{Q.p=32>l?32:l,H.T=null,l=bf,bf=null;var p=ra,N=Dr;if(kt=0,Ls=ra=null,Dr=0,(Ge&6)!==0)throw Error(i(331));var M=Ge;if(Ge|=4,Hp(p.current),Ip(p,p.current,N,l),Ge=M,Ki(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ka,p)}catch{}return!0}finally{Q.p=g,H.T=c,sx(t,a)}}function lx(t,a,l){a=Rn(l,a),a=Zd(t.stateNode,a,2),t=Wr(t,a,2),t!==null&&(kn(t,2),lr(t))}function Ke(t,a,l){if(t.tag===3)lx(t,t,l);else for(;a!==null;){if(a.tag===3){lx(a,t,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(na===null||!na.has(c))){t=Rn(l,t),l=op(2),c=Wr(a,l,2),c!==null&&(cp(l,c,a,t),kn(c,2),lr(c));break}}a=a.return}}function Nf(t,a,l){var c=t.pingCache;if(c===null){c=t.pingCache=new Dk;var g=new Set;c.set(a,g)}else g=c.get(a),g===void 0&&(g=new Set,c.set(a,g));g.has(l)||(pf=!0,g.add(l),t=Pk.bind(null,t,a,l),a.then(t,t))}function Pk(t,a,l){var c=t.pingCache;c!==null&&c.delete(a),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,tt===t&&(ze&l)===l&&(ot===4||ot===3&&(ze&62914560)===ze&&300>Bt()-Uo?(Ge&2)===0&&zs(t,0):xf|=l,_s===ze&&(_s=0)),lr(t)}function ox(t,a){a===0&&(a=$t()),t=Ma(t,a),t!==null&&(kn(t,a),lr(t))}function Ik(t){var a=t.memoizedState,l=0;a!==null&&(l=a.retryLane),ox(t,l)}function Uk(t,a){var l=0;switch(t.tag){case 31:case 13:var c=t.stateNode,g=t.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),ox(t,l)}function Bk(t,a){return jn(t,a)}var Vo=null,Is=null,Sf=!1,Go=!1,Cf=!1,sa=0;function lr(t){t!==Is&&t.next===null&&(Is===null?Vo=Is=t:Is=Is.next=t),Go=!0,Sf||(Sf=!0,$k())}function Ki(t,a){if(!Cf&&Go){Cf=!0;do for(var l=!1,c=Vo;c!==null;){if(t!==0){var g=c.pendingLanes;if(g===0)var p=0;else{var N=c.suspendedLanes,M=c.pingedLanes;p=(1<<31-Ht(42|t)+1)-1,p&=g&~(N&~M),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,fx(c,p))}else p=ze,p=Et(c,c===tt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Zt(c,p)||(l=!0,fx(c,p));c=c.next}while(l);Cf=!1}}function Hk(){cx()}function cx(){Go=Sf=!1;var t=0;sa!==0&&Zk()&&(t=sa);for(var a=Bt(),l=null,c=Vo;c!==null;){var g=c.next,p=ux(c,a);p===0?(c.next=null,l===null?Vo=g:l.next=g,g===null&&(Is=l)):(l=c,(t!==0||(p&3)!==0)&&(Go=!0)),c=g}kt!==0&&kt!==5||Ki(t),sa!==0&&(sa=0)}function ux(t,a){for(var l=t.suspendedLanes,c=t.pingedLanes,g=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var N=31-Ht(p),M=1<<N,z=g[N];z===-1?((M&l)===0||(M&c)!==0)&&(g[N]=Jt(M,a)):z<=a&&(t.expiredLanes|=M),p&=~M}if(a=tt,l=ze,l=Et(t,t===a?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,l===0||t===a&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Hr(c),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Zt(t,l)){if(a=l&-l,a===t.callbackPriority)return a;switch(c!==null&&Hr(c),gr(l)){case 2:case 8:l=hr;break;case 32:l=Bn;break;case 268435456:l=gi;break;default:l=Bn}return c=dx.bind(null,t),l=jn(l,c),t.callbackPriority=a,t.callbackNode=l,a}return c!==null&&c!==null&&Hr(c),t.callbackPriority=2,t.callbackNode=null,2}function dx(t,a){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Fo()&&t.callbackNode!==l)return null;var c=ze;return c=Et(t,t===tt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Vp(t,c,a),ux(t,Bt()),t.callbackNode!=null&&t.callbackNode===l?dx.bind(null,t):null)}function fx(t,a){if(Fo())return null;Vp(t,a,!0)}function $k(){eN(function(){(Ge&6)!==0?jn(Yl,Hk):cx()})}function Ef(){if(sa===0){var t=ks;t===0&&(t=rs,rs<<=1,(rs&261888)===0&&(rs=256)),sa=t}return sa}function hx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:eo(""+t)}function mx(t,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,t.id&&l.setAttribute("form",t.id),a.parentNode.insertBefore(l,a),t=new FormData(t),l.parentNode.removeChild(l),t}function Qk(t,a,l,c,g){if(a==="submit"&&l&&l.stateNode===g){var p=hx((g[tn]||null).action),N=c.submitter;N&&(a=(a=N[tn]||null)?hx(a.formAction):N.getAttribute("formAction"),a!==null&&(p=a,N=null));var M=new ao("action","action",null,c,g);t.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(sa!==0){var z=N?mx(g,N):new FormData(g);Vd(l,{pending:!0,data:z,method:g.method,action:p},null,z)}}else typeof p=="function"&&(M.preventDefault(),z=N?mx(g,N):new FormData(g),Vd(l,{pending:!0,data:z,method:g.method,action:p},p,z))},currentTarget:g}]})}}for(var Mf=0;Mf<cd.length;Mf++){var Rf=cd[Mf],qk=Rf.toLowerCase(),Fk=Rf[0].toUpperCase()+Rf.slice(1);Qn(qk,"on"+Fk)}Qn(F0,"onAnimationEnd"),Qn(V0,"onAnimationIteration"),Qn(G0,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(lk,"onTransitionRun"),Qn(ok,"onTransitionStart"),Qn(ck,"onTransitionCancel"),Qn(Y0,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Na("onBeforeInput",["compositionend","keypress","textInput","paste"]),Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wi));function gx(t,a){a=(a&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],g=c.event;c=c.listeners;e:{var p=void 0;if(a)for(var N=c.length-1;0<=N;N--){var M=c[N],z=M.instance,V=M.currentTarget;if(M=M.listener,z!==p&&g.isPropagationStopped())break e;p=M,g.currentTarget=V;try{p(g)}catch(Z){lo(Z)}g.currentTarget=null,p=z}else for(N=0;N<c.length;N++){if(M=c[N],z=M.instance,V=M.currentTarget,M=M.listener,z!==p&&g.isPropagationStopped())break e;p=M,g.currentTarget=V;try{p(g)}catch(Z){lo(Z)}g.currentTarget=null,p=z}}}}function Oe(t,a){var l=a[Hu];l===void 0&&(l=a[Hu]=new Set);var c=t+"__bubble";l.has(c)||(px(a,t,2,!1),l.add(c))}function Tf(t,a,l){var c=0;a&&(c|=4),px(l,t,c,a)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function Af(t){if(!t[Yo]){t[Yo]=!0,c0.forEach(function(l){l!=="selectionchange"&&(Vk.has(l)||Tf(l,!1,t),Tf(l,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Yo]||(a[Yo]=!0,Tf("selectionchange",!1,a))}}function px(t,a,l,c){switch(Fx(a)){case 2:var g=bN;break;case 8:g=jN;break;default:g=Vf}l=g.bind(null,a,l,t),g=void 0,!Wu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),c?g!==void 0?t.addEventListener(a,l,{capture:!0,passive:g}):t.addEventListener(a,l,!0):g!==void 0?t.addEventListener(a,l,{passive:g}):t.addEventListener(a,l,!1)}function Df(t,a,l,c,g){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var M=c.stateNode.containerInfo;if(M===g)break;if(N===4)for(N=c.return;N!==null;){var z=N.tag;if((z===3||z===4)&&N.stateNode.containerInfo===g)return;N=N.return}for(;M!==null;){if(N=is(M),N===null)return;if(z=N.tag,z===5||z===6||z===26||z===27){c=p=N;continue e}M=M.parentNode}}c=c.return}j0(function(){var V=p,Z=Yu(l),te=[];e:{var G=K0.get(t);if(G!==void 0){var W=ao,he=t;switch(t){case"keypress":if(no(l)===0)break e;case"keydown":case"keyup":W=Uw;break;case"focusin":he="focus",W=ed;break;case"focusout":he="blur",W=ed;break;case"beforeblur":case"afterblur":W=ed;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=N0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ew;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=$w;break;case F0:case V0:case G0:W=Tw;break;case Y0:W=qw;break;case"scroll":case"scrollend":W=Sw;break;case"wheel":W=Vw;break;case"copy":case"cut":case"paste":W=Dw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=C0;break;case"toggle":case"beforetoggle":W=Yw}var we=(a&4)!==0,Je=!we&&(t==="scroll"||t==="scrollend"),$=we?G!==null?G+"Capture":null:G;we=[];for(var U=V,F;U!==null;){var J=U;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||$===null||(J=yi(U,$),J!=null&&we.push(Xi(U,J,F))),Je)break;U=U.return}0<we.length&&(G=new W(G,he,null,l,Z),te.push({event:G,listeners:we}))}}if((a&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",G&&l!==Gu&&(he=l.relatedTarget||l.fromElement)&&(is(he)||he[ss]))break e;if((W||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,W?(he=l.relatedTarget||l.toElement,W=V,he=he?is(he):null,he!==null&&(Je=u(he),we=he.tag,he!==Je||we!==5&&we!==27&&we!==6)&&(he=null)):(W=null,he=V),W!==he)){if(we=N0,J="onMouseLeave",$="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(we=C0,J="onPointerLeave",$="onPointerEnter",U="pointer"),Je=W==null?G:xi(W),F=he==null?G:xi(he),G=new we(J,U+"leave",W,l,Z),G.target=Je,G.relatedTarget=F,J=null,is(Z)===V&&(we=new we($,U+"enter",he,l,Z),we.target=F,we.relatedTarget=Je,J=we),Je=J,W&&he)t:{for(we=Gk,$=W,U=he,F=0,J=$;J;J=we(J))F++;J=0;for(var je=U;je;je=we(je))J++;for(;0<F-J;)$=we($),F--;for(;0<J-F;)U=we(U),J--;for(;F--;){if($===U||U!==null&&$===U.alternate){we=$;break t}$=we($),U=we(U)}we=null}else we=null;W!==null&&xx(te,G,W,we,!1),he!==null&&Je!==null&&xx(te,Je,he,we,!0)}}e:{if(G=V?xi(V):window,W=G.nodeName&&G.nodeName.toLowerCase(),W==="select"||W==="input"&&G.type==="file")var qe=_0;else if(D0(G))if(L0)qe=ak;else{qe=nk;var xe=tk}else W=G.nodeName,!W||W.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?V&&Vu(V.elementType)&&(qe=_0):qe=rk;if(qe&&(qe=qe(t,V))){O0(te,qe,l,Z);break e}xe&&xe(t,G,V),t==="focusout"&&V&&G.type==="number"&&V.memoizedProps.value!=null&&Fu(G,"number",G.value)}switch(xe=V?xi(V):window,t){case"focusin":(D0(xe)||xe.contentEditable==="true")&&(gs=xe,id=V,Ci=null);break;case"focusout":Ci=id=gs=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,Q0(te,l,Z);break;case"selectionchange":if(ik)break;case"keydown":case"keyup":Q0(te,l,Z)}var Me;if(nd)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ms?T0(t,l)&&(Pe="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(E0&&l.locale!=="ko"&&(ms||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ms&&(Me=w0()):(Qr=Z,Xu="value"in Qr?Qr.value:Qr.textContent,ms=!0)),xe=Ko(V,Pe),0<xe.length&&(Pe=new S0(Pe,t,null,l,Z),te.push({event:Pe,listeners:xe}),Me?Pe.data=Me:(Me=A0(l),Me!==null&&(Pe.data=Me)))),(Me=Ww?Xw(t,l):Zw(t,l))&&(Pe=Ko(V,"onBeforeInput"),0<Pe.length&&(xe=new S0("onBeforeInput","beforeinput",null,l,Z),te.push({event:xe,listeners:Pe}),xe.data=Me)),Qk(te,t,V,l,Z)}gx(te,a)})}function Xi(t,a,l){return{instance:t,listener:a,currentTarget:l}}function Ko(t,a){for(var l=a+"Capture",c=[];t!==null;){var g=t,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=yi(t,l),g!=null&&c.unshift(Xi(t,g,p)),g=yi(t,a),g!=null&&c.push(Xi(t,g,p))),t.tag===3)return c;t=t.return}return[]}function Gk(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xx(t,a,l,c,g){for(var p=a._reactName,N=[];l!==null&&l!==c;){var M=l,z=M.alternate,V=M.stateNode;if(M=M.tag,z!==null&&z===c)break;M!==5&&M!==26&&M!==27||V===null||(z=V,g?(V=yi(l,p),V!=null&&N.unshift(Xi(l,V,z))):g||(V=yi(l,p),V!=null&&N.push(Xi(l,V,z)))),l=l.return}N.length!==0&&t.push({event:a,listeners:N})}var Yk=/\r\n?/g,Kk=/\u0000|\uFFFD/g;function yx(t){return(typeof t=="string"?t:""+t).replace(Yk,`
`).replace(Kk,"")}function vx(t,a){return a=yx(a),yx(t)===a}function Ze(t,a,l,c,g,p){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||ds(t,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&ds(t,""+c);break;case"className":Zl(t,"class",c);break;case"tabIndex":Zl(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Zl(t,l,c);break;case"style":v0(t,c,p);break;case"data":if(a!=="object"){Zl(t,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){t.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=eo(""+c),t.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&Ze(t,a,"name",g.name,g,null),Ze(t,a,"formEncType",g.formEncType,g,null),Ze(t,a,"formMethod",g.formMethod,g,null),Ze(t,a,"formTarget",g.formTarget,g,null)):(Ze(t,a,"encType",g.encType,g,null),Ze(t,a,"method",g.method,g,null),Ze(t,a,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=eo(""+c),t.setAttribute(l,c);break;case"onClick":c!=null&&(t.onclick=xr);break;case"onScroll":c!=null&&Oe("scroll",t);break;case"onScrollEnd":c!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}l=eo(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""+c):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":c===!0?t.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,c):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(l,c):t.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(l):t.setAttribute(l,c);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Xl(t,"popover",c);break;case"xlinkActuate":pr(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":pr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":pr(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":pr(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":pr(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":pr(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":pr(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":pr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":pr(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Xl(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kw.get(l)||l,Xl(t,l,c))}}function Of(t,a,l,c,g,p){switch(l){case"style":v0(t,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"children":typeof c=="string"?ds(t,c):(typeof c=="number"||typeof c=="bigint")&&ds(t,""+c);break;case"onScroll":c!=null&&Oe("scroll",t);break;case"onScrollEnd":c!=null&&Oe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!u0.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=t[tn]||null,p=p!=null?p[l]:null,typeof p=="function"&&t.removeEventListener(a,p,g),typeof c=="function")){typeof p!="function"&&p!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(a,c,g);break e}l in t?t[l]=c:c===!0?t.setAttribute(l,""):Xl(t,l,c)}}}function zt(t,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var c=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var N=l[p];if(N!=null)switch(p){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ze(t,a,p,N,l,null)}}g&&Ze(t,a,"srcSet",l.srcSet,l,null),c&&Ze(t,a,"src",l.src,l,null);return;case"input":Oe("invalid",t);var M=p=N=g=null,z=null,V=null;for(c in l)if(l.hasOwnProperty(c)){var Z=l[c];if(Z!=null)switch(c){case"name":g=Z;break;case"type":N=Z;break;case"checked":z=Z;break;case"defaultChecked":V=Z;break;case"value":p=Z;break;case"defaultValue":M=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Ze(t,a,c,Z,l,null)}}g0(t,p,M,z,V,N,g,!1);return;case"select":Oe("invalid",t),c=N=p=null;for(g in l)if(l.hasOwnProperty(g)&&(M=l[g],M!=null))switch(g){case"value":p=M;break;case"defaultValue":N=M;break;case"multiple":c=M;default:Ze(t,a,g,M,l,null)}a=p,l=N,t.multiple=!!c,a!=null?us(t,!!c,a,!1):l!=null&&us(t,!!c,l,!0);return;case"textarea":Oe("invalid",t),p=g=c=null;for(N in l)if(l.hasOwnProperty(N)&&(M=l[N],M!=null))switch(N){case"value":c=M;break;case"defaultValue":g=M;break;case"children":p=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:Ze(t,a,N,M,l,null)}x0(t,c,g,p);return;case"option":for(z in l)l.hasOwnProperty(z)&&(c=l[z],c!=null)&&(z==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":Ze(t,a,z,c,l,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(c=0;c<Wi.length;c++)Oe(Wi[c],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in l)if(l.hasOwnProperty(V)&&(c=l[V],c!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ze(t,a,V,c,l,null)}return;default:if(Vu(a)){for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!==void 0&&Of(t,a,Z,c,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(c=l[M],c!=null&&Ze(t,a,M,c,l,null))}function Wk(t,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,N=null,M=null,z=null,V=null,Z=null;for(W in l){var te=l[W];if(l.hasOwnProperty(W)&&te!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":z=te;default:c.hasOwnProperty(W)||Ze(t,a,W,null,c,te)}}for(var G in c){var W=c[G];if(te=l[G],c.hasOwnProperty(G)&&(W!=null||te!=null))switch(G){case"type":p=W;break;case"name":g=W;break;case"checked":V=W;break;case"defaultChecked":Z=W;break;case"value":N=W;break;case"defaultValue":M=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:W!==te&&Ze(t,a,G,W,c,te)}}qu(t,N,M,z,V,Z,p,g);return;case"select":W=N=M=G=null;for(p in l)if(z=l[p],l.hasOwnProperty(p)&&z!=null)switch(p){case"value":break;case"multiple":W=z;default:c.hasOwnProperty(p)||Ze(t,a,p,null,c,z)}for(g in c)if(p=c[g],z=l[g],c.hasOwnProperty(g)&&(p!=null||z!=null))switch(g){case"value":G=p;break;case"defaultValue":M=p;break;case"multiple":N=p;default:p!==z&&Ze(t,a,g,p,c,z)}a=M,l=N,c=W,G!=null?us(t,!!l,G,!1):!!c!=!!l&&(a!=null?us(t,!!l,a,!0):us(t,!!l,l?[]:"",!1));return;case"textarea":W=G=null;for(M in l)if(g=l[M],l.hasOwnProperty(M)&&g!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Ze(t,a,M,null,c,g)}for(N in c)if(g=c[N],p=l[N],c.hasOwnProperty(N)&&(g!=null||p!=null))switch(N){case"value":G=g;break;case"defaultValue":W=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&Ze(t,a,N,g,c,p)}p0(t,G,W);return;case"option":for(var he in l)G=l[he],l.hasOwnProperty(he)&&G!=null&&!c.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:Ze(t,a,he,null,c,G));for(z in c)G=c[z],W=l[z],c.hasOwnProperty(z)&&G!==W&&(G!=null||W!=null)&&(z==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":Ze(t,a,z,G,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in l)G=l[we],l.hasOwnProperty(we)&&G!=null&&!c.hasOwnProperty(we)&&Ze(t,a,we,null,c,G);for(V in c)if(G=c[V],W=l[V],c.hasOwnProperty(V)&&G!==W&&(G!=null||W!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:Ze(t,a,V,G,c,W)}return;default:if(Vu(a)){for(var Je in l)G=l[Je],l.hasOwnProperty(Je)&&G!==void 0&&!c.hasOwnProperty(Je)&&Of(t,a,Je,void 0,c,G);for(Z in c)G=c[Z],W=l[Z],!c.hasOwnProperty(Z)||G===W||G===void 0&&W===void 0||Of(t,a,Z,G,c,W);return}}for(var $ in l)G=l[$],l.hasOwnProperty($)&&G!=null&&!c.hasOwnProperty($)&&Ze(t,a,$,null,c,G);for(te in c)G=c[te],W=l[te],!c.hasOwnProperty(te)||G===W||G==null&&W==null||Ze(t,a,te,G,c,W)}function bx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xk(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var g=l[c],p=g.transferSize,N=g.initiatorType,M=g.duration;if(p&&M&&bx(N)){for(N=0,M=g.responseEnd,c+=1;c<l.length;c++){var z=l[c],V=z.startTime;if(V>M)break;var Z=z.transferSize,te=z.initiatorType;Z&&bx(te)&&(z=z.responseEnd,N+=Z*(z<M?1:(M-V)/(z-V)))}if(--c,a+=8*(p+N)/(g.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _f=null,Lf=null;function Wo(t){return t.nodeType===9?t:t.ownerDocument}function jx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wx(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function zf(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Pf=null;function Zk(){var t=window.event;return t&&t.type==="popstate"?t===Pf?!1:(Pf=t,!0):(Pf=null,!1)}var kx=typeof setTimeout=="function"?setTimeout:void 0,Jk=typeof clearTimeout=="function"?clearTimeout:void 0,Nx=typeof Promise=="function"?Promise:void 0,eN=typeof queueMicrotask=="function"?queueMicrotask:typeof Nx<"u"?function(t){return Nx.resolve(null).then(t).catch(tN)}:kx;function tN(t){setTimeout(function(){throw t})}function ia(t){return t==="head"}function Sx(t,a){var l=a,c=0;do{var g=l.nextSibling;if(t.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(c===0){t.removeChild(g),$s(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Zi(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,Zi(l);for(var p=l.firstChild;p;){var N=p.nextSibling,M=p.nodeName;p[pi]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=N}}else l==="body"&&Zi(t.ownerDocument.body);l=g}while(l);$s(a)}function Cx(t,a){var l=t;t=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=c}while(l)}function If(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":If(l),$u(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function nN(t,a,l,c){for(;t.nodeType===1;){var g=l;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[pi])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==g.rel||t.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=_n(t.nextSibling),t===null)break}return null}function rN(t,a,l){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=_n(t.nextSibling),t===null))return null;return t}function Ex(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=_n(t.nextSibling),t===null))return null;return t}function Uf(t){return t.data==="$?"||t.data==="$~"}function Bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function aN(t,a){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function _n(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var Hf=null;function Mx(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(a===0)return _n(t.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}t=t.nextSibling}return null}function Rx(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return t;a--}else l!=="/$"&&l!=="/&"||a++}t=t.previousSibling}return null}function Tx(t,a,l){switch(a=Wo(l),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Zi(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);$u(t)}var Ln=new Map,Ax=new Set;function Xo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Or=Q.d;Q.d={f:sN,r:iN,D:lN,C:oN,L:cN,m:uN,X:fN,S:dN,M:hN};function sN(){var t=Or.f(),a=$o();return t||a}function iN(t){var a=ls(t);a!==null&&a.tag===5&&a.type==="form"?Yg(a):Or.r(t)}var Us=typeof document>"u"?null:document;function Dx(t,a,l){var c=Us;if(c&&typeof a=="string"&&a){var g=En(a);g='link[rel="'+t+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Ax.has(g)||(Ax.add(g),t={rel:t,crossOrigin:l,href:a},c.querySelector(g)===null&&(a=c.createElement("link"),zt(a,"link",t),Mt(a),c.head.appendChild(a)))}}function lN(t){Or.D(t),Dx("dns-prefetch",t,null)}function oN(t,a){Or.C(t,a),Dx("preconnect",t,a)}function cN(t,a,l){Or.L(t,a,l);var c=Us;if(c&&t&&a){var g='link[rel="preload"][as="'+En(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+En(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+En(l.imageSizes)+'"]')):g+='[href="'+En(t)+'"]';var p=g;switch(a){case"style":p=Bs(t);break;case"script":p=Hs(t)}Ln.has(p)||(t=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:t,as:a},l),Ln.set(p,t),c.querySelector(g)!==null||a==="style"&&c.querySelector(Ji(p))||a==="script"&&c.querySelector(el(p))||(a=c.createElement("link"),zt(a,"link",t),Mt(a),c.head.appendChild(a)))}}function uN(t,a){Or.m(t,a);var l=Us;if(l&&t){var c=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+En(c)+'"][href="'+En(t)+'"]',p=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Hs(t)}if(!Ln.has(p)&&(t=y({rel:"modulepreload",href:t},a),Ln.set(p,t),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(el(p)))return}c=l.createElement("link"),zt(c,"link",t),Mt(c),l.head.appendChild(c)}}}function dN(t,a,l){Or.S(t,a,l);var c=Us;if(c&&t){var g=os(c).hoistableStyles,p=Bs(t);a=a||"default";var N=g.get(p);if(!N){var M={loading:0,preload:null};if(N=c.querySelector(Ji(p)))M.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":a},l),(l=Ln.get(p))&&$f(t,l);var z=N=c.createElement("link");Mt(z),zt(z,"link",t),z._p=new Promise(function(V,Z){z.onload=V,z.onerror=Z}),z.addEventListener("load",function(){M.loading|=1}),z.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Zo(N,a,c)}N={type:"stylesheet",instance:N,count:1,state:M},g.set(p,N)}}}function fN(t,a){Or.X(t,a);var l=Us;if(l&&t){var c=os(l).hoistableScripts,g=Hs(t),p=c.get(g);p||(p=l.querySelector(el(g)),p||(t=y({src:t,async:!0},a),(a=Ln.get(g))&&Qf(t,a),p=l.createElement("script"),Mt(p),zt(p,"link",t),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(g,p))}}function hN(t,a){Or.M(t,a);var l=Us;if(l&&t){var c=os(l).hoistableScripts,g=Hs(t),p=c.get(g);p||(p=l.querySelector(el(g)),p||(t=y({src:t,async:!0,type:"module"},a),(a=Ln.get(g))&&Qf(t,a),p=l.createElement("script"),Mt(p),zt(p,"link",t),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(g,p))}}function Ox(t,a,l,c){var g=(g=fe.current)?Xo(g):null;if(!g)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Bs(l.href),l=os(g).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Bs(l.href);var p=os(g).hoistableStyles,N=p.get(t);if(N||(g=g.ownerDocument||g,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,N),(p=g.querySelector(Ji(t)))&&!p._p&&(N.instance=p,N.state.loading=5),Ln.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ln.set(t,l),p||mN(g,t,l,N.state))),a&&c===null)throw Error(i(528,""));return N}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Hs(l),l=os(g).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Bs(t){return'href="'+En(t)+'"'}function Ji(t){return'link[rel="stylesheet"]['+t+"]"}function _x(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function mN(t,a,l,c){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=t.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),zt(a,"link",l),Mt(a),t.head.appendChild(a))}function Hs(t){return'[src="'+En(t)+'"]'}function el(t){return"script[async]"+t}function Lx(t,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=t.querySelector('style[data-href~="'+En(l.href)+'"]');if(c)return a.instance=c,Mt(c),c;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Mt(c),zt(c,"style",g),Zo(c,l.precedence,t),a.instance=c;case"stylesheet":g=Bs(l.href);var p=t.querySelector(Ji(g));if(p)return a.state.loading|=4,a.instance=p,Mt(p),p;c=_x(l),(g=Ln.get(g))&&$f(c,g),p=(t.ownerDocument||t).createElement("link"),Mt(p);var N=p;return N._p=new Promise(function(M,z){N.onload=M,N.onerror=z}),zt(p,"link",c),a.state.loading|=4,Zo(p,l.precedence,t),a.instance=p;case"script":return p=Hs(l.src),(g=t.querySelector(el(p)))?(a.instance=g,Mt(g),g):(c=l,(g=Ln.get(p))&&(c=y({},l),Qf(c,g)),t=t.ownerDocument||t,g=t.createElement("script"),Mt(g),zt(g,"link",c),t.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Zo(c,l.precedence,t));return a.instance}function Zo(t,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,p=g,N=0;N<c.length;N++){var M=c[N];if(M.dataset.precedence===a)p=M;else if(p!==g)break}p?p.parentNode.insertBefore(t,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(t,a.firstChild))}function $f(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Qf(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Jo=null;function zx(t,a,l){if(Jo===null){var c=new Map,g=Jo=new Map;g.set(l,c)}else g=Jo,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(t))return c;for(c.set(t,null),l=l.getElementsByTagName(t),g=0;g<l.length;g++){var p=l[g];if(!(p[pi]||p[Dt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var N=p.getAttribute(a)||"";N=t+N;var M=c.get(N);M?M.push(p):c.set(N,[p])}}return c}function Px(t,a,l){t=t.ownerDocument||t,t.head.insertBefore(l,a==="title"?t.querySelector("head > title"):null)}function gN(t,a,l){if(l===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ix(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function pN(t,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Bs(c.href),p=a.querySelector(Ji(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=ec.bind(t),a.then(t,t)),l.state.loading|=4,l.instance=p,Mt(p);return}p=a.ownerDocument||a,c=_x(c),(g=Ln.get(g))&&$f(c,g),p=p.createElement("link"),Mt(p);var N=p;N._p=new Promise(function(M,z){N.onload=M,N.onerror=z}),zt(p,"link",c),l.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=ec.bind(t),a.addEventListener("load",l),a.addEventListener("error",l))}}var qf=0;function xN(t,a){return t.stylesheets&&t.count===0&&nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var c=setTimeout(function(){if(t.stylesheets&&nc(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+a);0<t.imgBytes&&qf===0&&(qf=62500*Xk());var g=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nc(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>qf?50:800)+a);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var tc=null;function nc(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,tc=new Map,a.forEach(yN,t),tc=null,ec.call(t))}function yN(t,a){if(!(a.state.loading&4)){var l=tc.get(t);if(l)var c=l.get(null);else{l=new Map,tc.set(t,l);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var N=g[p];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),c=N)}c&&l.set(null,c)}g=a.instance,N=g.getAttribute("data-precedence"),p=l.get(N)||c,p===c&&l.set(null,g),l.set(N,g),this.count++,c=ec.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),p?p.parentNode.insertBefore(g,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),a.state.loading|=4}}var tl={$$typeof:R,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function vN(t,a,l,c,g,p,N,M,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Ux(t,a,l,c,g,p,N,M,z,V,Z,te){return t=new vN(t,a,l,N,z,V,Z,te,M),a=1,p===!0&&(a|=24),p=dn(3,null,null,a),t.current=p,p.stateNode=t,a=wd(),a.refCount++,t.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:a},Cd(p),t}function Bx(t){return t?(t=ys,t):ys}function Hx(t,a,l,c,g,p){g=Bx(g),c.context===null?c.context=g:c.pendingContext=g,c=Kr(a),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=Wr(t,c,a),l!==null&&(on(l,t,a),Oi(l,t,a))}function $x(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<a?l:a}}function Ff(t,a){$x(t,a),(t=t.alternate)&&$x(t,a)}function Qx(t){if(t.tag===13||t.tag===31){var a=Ma(t,67108864);a!==null&&on(a,t,67108864),Ff(t,67108864)}}function qx(t){if(t.tag===13||t.tag===31){var a=pn();a=mr(a);var l=Ma(t,a);l!==null&&on(l,t,a),Ff(t,a)}}var rc=!0;function bN(t,a,l,c){var g=H.T;H.T=null;var p=Q.p;try{Q.p=2,Vf(t,a,l,c)}finally{Q.p=p,H.T=g}}function jN(t,a,l,c){var g=H.T;H.T=null;var p=Q.p;try{Q.p=8,Vf(t,a,l,c)}finally{Q.p=p,H.T=g}}function Vf(t,a,l,c){if(rc){var g=Gf(c);if(g===null)Df(t,a,c,ac,l),Vx(t,c);else if(kN(g,t,a,l,c))c.stopPropagation();else if(Vx(t,c),a&4&&-1<wN.indexOf(t)){for(;g!==null;){var p=ls(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var N=ht(p.pendingLanes);if(N!==0){var M=p;for(M.pendingLanes|=2,M.entangledLanes|=2;N;){var z=1<<31-Ht(N);M.entanglements[1]|=z,N&=~z}lr(p),(Ge&6)===0&&(Bo=Bt()+500,Ki(0))}}break;case 31:case 13:M=Ma(p,2),M!==null&&on(M,p,2),$o(),Ff(p,2)}if(p=Gf(c),p===null&&Df(t,a,c,ac,l),p===g)break;g=p}g!==null&&c.stopPropagation()}else Df(t,a,c,null,l)}}function Gf(t){return t=Yu(t),Yf(t)}var ac=null;function Yf(t){if(ac=null,t=is(t),t!==null){var a=u(t);if(a===null)t=null;else{var l=a.tag;if(l===13){if(t=d(a),t!==null)return t;t=null}else if(l===31){if(t=f(a),t!==null)return t;t=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return ac=t,null}function Fx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Iu()){case Yl:return 2;case hr:return 8;case Bn:case wa:return 32;case gi:return 268435456;default:return 32}default:return 32}}var Kf=!1,la=null,oa=null,ca=null,nl=new Map,rl=new Map,ua=[],wN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vx(t,a){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":nl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(a.pointerId)}}function al(t,a,l,c,g,p){return t===null||t.nativeEvent!==p?(t={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[g]},a!==null&&(a=ls(a),a!==null&&Qx(a)),t):(t.eventSystemFlags|=c,a=t.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),t)}function kN(t,a,l,c,g){switch(a){case"focusin":return la=al(la,t,a,l,c,g),!0;case"dragenter":return oa=al(oa,t,a,l,c,g),!0;case"mouseover":return ca=al(ca,t,a,l,c,g),!0;case"pointerover":var p=g.pointerId;return nl.set(p,al(nl.get(p)||null,t,a,l,c,g)),!0;case"gotpointercapture":return p=g.pointerId,rl.set(p,al(rl.get(p)||null,t,a,l,c,g)),!0}return!1}function Gx(t){var a=is(t.target);if(a!==null){var l=u(a);if(l!==null){if(a=l.tag,a===13){if(a=d(l),a!==null){t.blockedOn=a,$r(t.priority,function(){qx(l)});return}}else if(a===31){if(a=f(l),a!==null){t.blockedOn=a,$r(t.priority,function(){qx(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var l=Gf(t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);Gu=c,l.target.dispatchEvent(c),Gu=null}else return a=ls(l),a!==null&&Qx(a),t.blockedOn=l,!1;a.shift()}return!0}function Yx(t,a,l){sc(t)&&l.delete(a)}function NN(){Kf=!1,la!==null&&sc(la)&&(la=null),oa!==null&&sc(oa)&&(oa=null),ca!==null&&sc(ca)&&(ca=null),nl.forEach(Yx),rl.forEach(Yx)}function ic(t,a){t.blockedOn===a&&(t.blockedOn=null,Kf||(Kf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,NN)))}var lc=null;function Kx(t){lc!==t&&(lc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lc===t&&(lc=null);for(var a=0;a<t.length;a+=3){var l=t[a],c=t[a+1],g=t[a+2];if(typeof c!="function"){if(Yf(c||l)===null)continue;break}var p=ls(l);p!==null&&(t.splice(a,3),a-=3,Vd(p,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function $s(t){function a(z){return ic(z,t)}la!==null&&ic(la,t),oa!==null&&ic(oa,t),ca!==null&&ic(ca,t),nl.forEach(a),rl.forEach(a);for(var l=0;l<ua.length;l++){var c=ua[l];c.blockedOn===t&&(c.blockedOn=null)}for(;0<ua.length&&(l=ua[0],l.blockedOn===null);)Gx(l),l.blockedOn===null&&ua.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],p=l[c+1],N=g[tn]||null;if(typeof p=="function")N||Kx(l);else if(N){var M=null;if(p&&p.hasAttribute("formAction")){if(g=p,N=p[tn]||null)M=N.formAction;else if(Yf(g)!==null)continue}else M=N.action;typeof M=="function"?l[c+1]=M:(l.splice(c,3),c-=3),Kx(l)}}}function Wx(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(N){return g=N})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Wf(t){this._internalRoot=t}oc.prototype.render=Wf.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=pn();Hx(l,c,t,a,null,null)},oc.prototype.unmount=Wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Hx(t.current,2,null,t,null,null),$o(),a[ss]=null}};function oc(t){this._internalRoot=t}oc.prototype.unstable_scheduleHydration=function(t){if(t){var a=$n();t={blockedOn:null,target:t,priority:a};for(var l=0;l<ua.length&&a!==0&&a<ua[l].priority;l++);ua.splice(l,0,t),l===0&&Gx(t)}};var Xx=r.version;if(Xx!=="19.2.3")throw Error(i(527,Xx,"19.2.3"));Q.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=m(a),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var SN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{ka=cc.inject(SN),Ft=cc}catch{}}return il.createRoot=function(t,a){if(!o(t))throw Error(i(299));var l=!1,c="",g=ap,p=sp,N=ip;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=Ux(t,1,!1,null,null,l,c,null,g,p,N,Wx),t[ss]=a.current,Af(t),new Wf(a)},il.hydrateRoot=function(t,a,l){if(!o(t))throw Error(i(299));var c=!1,g="",p=ap,N=sp,M=ip,z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(z=l.formState)),a=Ux(t,1,!0,a,l??null,c,g,z,p,N,M,Wx),a.context=Bx(null),l=a.current,c=pn(),c=mr(c),g=Kr(c),g.callback=null,Wr(l,g,c),l=c,a.current.lanes=l,kn(a,l),lr(a),t[ss]=a.current,Af(t),new oc(a)},il.version="19.2.3",il}var ly;function LN(){if(ly)return Jf.exports;ly=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Jf.exports=_N(),Jf.exports}var zN=LN();const PN=pm(zN);var rh={exports:{}},ah={};var oy;function IN(){if(oy)return ah;oy=1;var e=uu();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var s=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,o=e.useRef,u=e.useEffect,d=e.useMemo,f=e.useDebugValue;return ah.useSyncExternalStoreWithSelector=function(h,m,x,y,b){var j=o(null);if(j.current===null){var S={hasValue:!1,value:null};j.current=S}else S=j.current;j=d(function(){function w(T){if(!C){if(C=!0,A=T,T=y(T),b!==void 0&&S.hasValue){var L=S.value;if(b(L,T))return R=L}return R=T}if(L=R,s(A,T))return L;var E=y(T);return b!==void 0&&b(L,E)?(A=T,L):(A=T,R=E)}var C=!1,A,R,O=x===void 0?null:x;return[function(){return w(m())},O===null?void 0:function(){return w(O())}]},[m,x,y,b]);var k=i(h,j[0],j[1]);return u(function(){S.hasValue=!0,S.value=k},[k]),f(k),k},ah}var cy;function UN(){return cy||(cy=1,rh.exports=IN()),rh.exports}var BN=UN();function HN(e){e()}function $N(){let e=null,r=null;return{clear(){e=null,r=null},notify(){HN(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let i=e;for(;i;)s.push(i),i=i.next;return s},subscribe(s){let i=!0;const o=r={callback:s,next:null,prev:r};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var uy={notify(){},get:()=>[]};function QN(e,r){let s,i=uy,o=0,u=!1;function d(k){x();const w=i.subscribe(k);let C=!1;return()=>{C||(C=!0,w(),y())}}function f(){i.notify()}function h(){S.onStateChange&&S.onStateChange()}function m(){return u}function x(){o++,s||(s=e.subscribe(h),i=$N())}function y(){o--,s&&o===0&&(s(),s=void 0,i.clear(),i=uy)}function b(){u||(u=!0,x())}function j(){u&&(u=!1,y())}const S={addNestedSub:d,notifyNestedSubs:f,handleChangeWrapper:h,isSubscribed:m,trySubscribe:b,tryUnsubscribe:j,getListeners:()=>i};return S}var qN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FN=qN(),VN=()=>typeof navigator<"u"&&navigator.product==="ReactNative",GN=VN(),YN=()=>FN||GN?v.useLayoutEffect:v.useEffect,KN=YN(),WN=Symbol.for("react-redux-context"),XN=typeof globalThis<"u"?globalThis:{};function ZN(){if(!v.createContext)return{};const e=XN[WN]??=new Map;let r=e.get(v.createContext);return r||(r=v.createContext(null),e.set(v.createContext,r)),r}var xa=ZN();function JN(e){const{children:r,context:s,serverState:i,store:o}=e,u=v.useMemo(()=>{const h=QN(o);return{store:o,subscription:h,getServerState:i?()=>i:void 0}},[o,i]),d=v.useMemo(()=>o.getState(),[o]);KN(()=>{const{subscription:h}=u;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),d!==o.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[u,d]);const f=s||xa;return v.createElement(f.Provider,{value:u},r)}var eS=JN;function xm(e=xa){return function(){return v.useContext(e)}}var wb=xm();function kb(e=xa){const r=e===xa?wb:xm(e),s=()=>{const{store:i}=r();return i};return Object.assign(s,{withTypes:()=>s}),s}var tS=kb();function nS(e=xa){const r=e===xa?tS:kb(e),s=()=>r().dispatch;return Object.assign(s,{withTypes:()=>s}),s}var rS=nS(),aS=(e,r)=>e===r;function sS(e=xa){const r=e===xa?wb:xm(e),s=(i,o={})=>{const{equalityFn:u=aS}=typeof o=="function"?{equalityFn:o}:o,d=r(),{store:f,subscription:h,getServerState:m}=d;v.useRef(!0);const x=v.useCallback({[i.name](b){return i(b)}}[i.name],[i]),y=BN.useSyncExternalStoreWithSelector(h.addNestedSub,f.getState,m||f.getState,x,u);return v.useDebugValue(y),y};return Object.assign(s,{withTypes:()=>s}),s}var iS=sS(),Za=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lS={setTimeout:(e,r)=>setTimeout(e,r),clearTimeout:e=>clearTimeout(e),setInterval:(e,r)=>setInterval(e,r),clearInterval:e=>clearInterval(e)},oS=class{#t=lS;#e=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,r){return this.#t.setTimeout(e,r)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,r){return this.#t.setInterval(e,r)}clearInterval(e){this.#t.clearInterval(e)}},Qa=new oS;function cS(e){setTimeout(e,0)}var Fa=typeof window>"u"||"Deno"in globalThis;function qt(){}function uS(e,r){return typeof e=="function"?e(r):e}function Bh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Nb(e,r){return Math.max(e+(r||0)-Date.now(),0)}function pa(e,r){return typeof e=="function"?e(r):e}function zn(e,r){return typeof e=="function"?e(r):e}function dy(e,r){const{type:s="all",exact:i,fetchStatus:o,predicate:u,queryKey:d,stale:f}=e;if(d){if(i){if(r.queryHash!==ym(d,r.options))return!1}else if(!vl(r.queryKey,d))return!1}if(s!=="all"){const h=r.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof f=="boolean"&&r.isStale()!==f||o&&o!==r.state.fetchStatus||u&&!u(r))}function fy(e,r){const{exact:s,status:i,predicate:o,mutationKey:u}=e;if(u){if(!r.options.mutationKey)return!1;if(s){if(ya(r.options.mutationKey)!==ya(u))return!1}else if(!vl(r.options.mutationKey,u))return!1}return!(i&&r.state.status!==i||o&&!o(r))}function ym(e,r){return(r?.queryKeyHashFn||ya)(e)}function ya(e){return JSON.stringify(e,(r,s)=>Hh(s)?Object.keys(s).sort().reduce((i,o)=>(i[o]=s[o],i),{}):s)}function vl(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(s=>vl(e[s],r[s])):!1}var dS=Object.prototype.hasOwnProperty;function vm(e,r){if(e===r)return e;const s=hy(e)&&hy(r);if(!s&&!(Hh(e)&&Hh(r)))return r;const o=(s?e:Object.keys(e)).length,u=s?r:Object.keys(r),d=u.length,f=s?new Array(d):{};let h=0;for(let m=0;m<d;m++){const x=s?m:u[m],y=e[x],b=r[x];if(y===b){f[x]=y,(s?m<o:dS.call(e,x))&&h++;continue}if(y===null||b===null||typeof y!="object"||typeof b!="object"){f[x]=b;continue}const j=vm(y,b);f[x]=j,j===y&&h++}return o===d&&h===o?e:f}function bl(e,r){if(!r||Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}function hy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Hh(e){if(!my(e))return!1;const r=e.constructor;if(r===void 0)return!0;const s=r.prototype;return!(!my(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function my(e){return Object.prototype.toString.call(e)==="[object Object]"}function fS(e){return new Promise(r=>{Qa.setTimeout(r,e)})}function $h(e,r,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,r):s.structuralSharing!==!1?vm(e,r):r}function hS(e,r,s=0){const i=[...e,r];return s&&i.length>s?i.slice(1):i}function mS(e,r,s=0){const i=[r,...e];return s&&i.length>s?i.slice(0,-1):i}var yn=Symbol();function Sb(e,r){return!e.queryFn&&r?.initialPromise?()=>r.initialPromise:!e.queryFn||e.queryFn===yn?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Cb(e,r){return typeof e=="function"?e(...r):!!e}var gS=class extends Za{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!Fa&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},bm=new gS;function Qh(){let e,r;const s=new Promise((o,u)=>{e=o,r=u});s.status="pending",s.catch(()=>{});function i(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},s.reject=o=>{i({status:"rejected",reason:o}),r(o)},s}var pS=cS;function xS(){let e=[],r=0,s=f=>{f()},i=f=>{f()},o=pS;const u=f=>{r?e.push(f):o(()=>{s(f)})},d=()=>{const f=e;e=[],f.length&&o(()=>{i(()=>{f.forEach(h=>{s(h)})})})};return{batch:f=>{let h;r++;try{h=f()}finally{r--,r||d()}return h},batchCalls:f=>(...h)=>{u(()=>{f(...h)})},schedule:u,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{o=f}}}var ut=xS(),yS=class extends Za{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!Fa&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#t}},Uc=new yS;function vS(e){return Math.min(1e3*2**e,3e4)}function Eb(e){return(e??"online")==="online"?Uc.isOnline():!0}var qh=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Mb(e){let r=!1,s=0,i;const o=Qh(),u=()=>o.status!=="pending",d=k=>{if(!u()){const w=new qh(k);b(w),e.onCancel?.(w)}},f=()=>{r=!0},h=()=>{r=!1},m=()=>bm.isFocused()&&(e.networkMode==="always"||Uc.isOnline())&&e.canRun(),x=()=>Eb(e.networkMode)&&e.canRun(),y=k=>{u()||(i?.(),o.resolve(k))},b=k=>{u()||(i?.(),o.reject(k))},j=()=>new Promise(k=>{i=w=>{(u()||m())&&k(w)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),S=()=>{if(u())return;let k;const w=s===0?e.initialPromise:void 0;try{k=w??e.fn()}catch(C){k=Promise.reject(C)}Promise.resolve(k).then(y).catch(C=>{if(u())return;const A=e.retry??(Fa?0:3),R=e.retryDelay??vS,O=typeof R=="function"?R(s,C):R,T=A===!0||typeof A=="number"&&s<A||typeof A=="function"&&A(s,C);if(r||!T){b(C);return}s++,e.onFail?.(s,C),fS(O).then(()=>m()?void 0:j()).then(()=>{r?b(C):S()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(i?.(),o),cancelRetry:f,continueRetry:h,canStart:x,start:()=>(x()?S():j().then(S),o)}}var Rb=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bh(this.gcTime)&&(this.#t=Qa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Fa?1/0:300*1e3))}clearGcTimeout(){this.#t&&(Qa.clearTimeout(this.#t),this.#t=void 0)}},bS=class extends Rb{#t;#e;#n;#a;#r;#s;#l;constructor(e){super(),this.#l=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=py(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=py(this.options);r.data!==void 0&&(this.setState(gy(r.data,r.dataUpdatedAt)),this.#t=r)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,r){const s=$h(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),s}setState(e,r){this.#i({type:"setState",state:e,setStateOptions:r})}cancel(e){const r=this.#r?.promise;return this.#r?.cancel(e),r?r.then(qt).catch(qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>zn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>pa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Nb(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,r){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#l=!0,s.signal)})},o=()=>{const f=Sb(this.options,r),m=(()=>{const x={client:this.#a,queryKey:this.queryKey,meta:this.meta};return i(x),x})();return this.#l=!1,this.options.persister?this.options.persister(f,m,this):f(m)},d=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:o};return i(f),f})();this.options.behavior?.onFetch(d,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#r=Mb({initialPromise:r?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof qh&&f.revert&&this.setState({...this.#e,fetchStatus:"idle"}),s.abort()},onFail:(f,h)=>{this.#i({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof qh){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Tb(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,...gy(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?i:void 0,i;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),ut.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Tb(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Eb(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gy(e,r){return{data:e,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function py(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,s=r!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Al=class extends Za{constructor(e,r){super(),this.options=r,this.#t=e,this.#i=null,this.#l=Qh(),this.bindMethods(),this.setOptions(r)}#t;#e=void 0;#n=void 0;#a=void 0;#r;#s;#l;#i;#h;#d;#f;#c;#u;#o;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),xy(this.#e,this.options)?this.#m():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fh(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fh(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#e.removeObserver(this)}setOptions(e){const r=this.options,s=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zn(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),r._defaulted&&!bl(this.options,r)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&yy(this.#e,s,this.options,r)&&this.#m(),this.updateResult(),i&&(this.#e!==s||zn(this.options.enabled,this.#e)!==zn(r.enabled,this.#e)||pa(this.options.staleTime,this.#e)!==pa(r.staleTime,this.#e))&&this.#p();const o=this.#x();i&&(this.#e!==s||zn(this.options.enabled,this.#e)!==zn(r.enabled,this.#e)||o!==this.#o)&&this.#y(o)}getOptimisticResult(e){const r=this.#t.getQueryCache().build(this.#t,e),s=this.createResult(r,e);return wS(this,s)&&(this.#a=s,this.#s=this.options,this.#r=this.#e.state),s}getCurrentResult(){return this.#a}trackResult(e,r){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),r?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,i))})}trackProp(e){this.#g.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=this.#t.defaultQueryOptions(e),s=this.#t.getQueryCache().build(this.#t,r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return this.#m({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#m(e){this.#w();let r=this.#e.fetch(this.options,e);return e?.throwOnError||(r=r.catch(qt)),r}#p(){this.#b();const e=pa(this.options.staleTime,this.#e);if(Fa||this.#a.isStale||!Bh(e))return;const s=Nb(this.#a.dataUpdatedAt,e)+1;this.#c=Qa.setTimeout(()=>{this.#a.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#j(),this.#o=e,!(Fa||zn(this.options.enabled,this.#e)===!1||!Bh(this.#o)||this.#o===0)&&(this.#u=Qa.setInterval(()=>{(this.options.refetchIntervalInBackground||bm.isFocused())&&this.#m()},this.#o))}#v(){this.#p(),this.#y(this.#x())}#b(){this.#c&&(Qa.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#u&&(Qa.clearInterval(this.#u),this.#u=void 0)}createResult(e,r){const s=this.#e,i=this.options,o=this.#a,u=this.#r,d=this.#s,h=e!==s?e.state:this.#n,{state:m}=e;let x={...m},y=!1,b;if(r._optimisticResults){const D=this.hasListeners(),P=!D&&xy(e,r),K=D&&yy(e,s,r,i);(P||K)&&(x={...x,...Tb(m.data,e.options)}),r._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:j,errorUpdatedAt:S,status:k}=x;b=x.data;let w=!1;if(r.placeholderData!==void 0&&b===void 0&&k==="pending"){let D;o?.isPlaceholderData&&r.placeholderData===d?.placeholderData?(D=o.data,w=!0):D=typeof r.placeholderData=="function"?r.placeholderData(this.#f?.state.data,this.#f):r.placeholderData,D!==void 0&&(k="success",b=$h(o?.data,D,r),y=!0)}if(r.select&&b!==void 0&&!w)if(o&&b===u?.data&&r.select===this.#h)b=this.#d;else try{this.#h=r.select,b=r.select(b),b=$h(o?.data,b,r),this.#d=b,this.#i=null}catch(D){this.#i=D}this.#i&&(j=this.#i,b=this.#d,S=Date.now(),k="error");const C=x.fetchStatus==="fetching",A=k==="pending",R=k==="error",O=A&&C,T=b!==void 0,E={status:k,fetchStatus:x.fetchStatus,isPending:A,isSuccess:k==="success",isError:R,isInitialLoading:O,isLoading:O,data:b,dataUpdatedAt:x.dataUpdatedAt,error:j,errorUpdatedAt:S,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>h.dataUpdateCount||x.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&!A,isLoadingError:R&&!T,isPaused:x.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:R&&T,isStale:jm(e,r),refetch:this.refetch,promise:this.#l,isEnabled:zn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=Y=>{E.status==="error"?Y.reject(E.error):E.data!==void 0&&Y.resolve(E.data)},P=()=>{const Y=this.#l=E.promise=Qh();D(Y)},K=this.#l;switch(K.status){case"pending":e.queryHash===s.queryHash&&D(K);break;case"fulfilled":(E.status==="error"||E.data!==K.value)&&P();break;case"rejected":(E.status!=="error"||E.error!==K.reason)&&P();break}}return E}updateResult(){const e=this.#a,r=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#s=this.options,this.#r.data!==void 0&&(this.#f=this.#e),bl(r,e))return;this.#a=r;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#g.size)return!0;const u=new Set(o??this.#g);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(d=>{const f=d;return this.#a[f]!==e[f]&&u.has(f)})};this.#k({listeners:s()})}#w(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const r=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(r?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#k(e){ut.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(this.#a)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function jS(e,r){return zn(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function xy(e,r){return jS(e,r)||e.state.data!==void 0&&Fh(e,r,r.refetchOnMount)}function Fh(e,r,s){if(zn(r.enabled,e)!==!1&&pa(r.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&jm(e,r)}return!1}function yy(e,r,s,i){return(e!==r||zn(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&jm(e,s)}function jm(e,r){return zn(r.enabled,e)!==!1&&e.isStaleByTime(pa(r.staleTime,e))}function wS(e,r){return!bl(e.getCurrentResult(),r)}function Bc(e){return{onFetch:(r,s)=>{const i=r.options,o=r.fetchOptions?.meta?.fetchMore?.direction,u=r.state.data?.pages||[],d=r.state.data?.pageParams||[];let f={pages:[],pageParams:[]},h=0;const m=async()=>{let x=!1;const y=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(r.signal.aborted?x=!0:r.signal.addEventListener("abort",()=>{x=!0}),r.signal)})},b=Sb(r.options,r.fetchOptions),j=async(S,k,w)=>{if(x)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const A=(()=>{const L={client:r.client,queryKey:r.queryKey,pageParam:k,direction:w?"backward":"forward",meta:r.options.meta};return y(L),L})(),R=await b(A),{maxPages:O}=r.options,T=w?mS:hS;return{pages:T(S.pages,R,O),pageParams:T(S.pageParams,k,O)}};if(o&&u.length){const S=o==="backward",k=S?Ab:Vh,w={pages:u,pageParams:d},C=k(i,w);f=await j(w,C,S)}else{const S=e??u.length;do{const k=h===0?d[0]??i.initialPageParam:Vh(i,f);if(h>0&&k==null)break;f=await j(f,k),h++}while(h<S)}return f};r.options.persister?r.fetchFn=()=>r.options.persister?.(m,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},s):r.fetchFn=m}}}function Vh(e,{pages:r,pageParams:s}){const i=r.length-1;return r.length>0?e.getNextPageParam(r[i],r,s[i],s):void 0}function Ab(e,{pages:r,pageParams:s}){return r.length>0?e.getPreviousPageParam?.(r[0],r,s[0],s):void 0}function kS(e,r){return r?Vh(e,r)!=null:!1}function NS(e,r){return!r||!e.getPreviousPageParam?!1:Ab(e,r)!=null}var Db=class extends Al{constructor(e,r){super(e,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Bc()})}getOptimisticResult(e){return e.behavior=Bc(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,r){const{state:s}=e,i=super.createResult(e,r),{isFetching:o,isRefetching:u,isError:d,isRefetchError:f}=i,h=s.fetchMeta?.fetchMore?.direction,m=d&&h==="forward",x=o&&h==="forward",y=d&&h==="backward",b=o&&h==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:kS(r,s.data),hasPreviousPage:NS(r,s.data),isFetchNextPageError:m,isFetchingNextPage:x,isFetchPreviousPageError:y,isFetchingPreviousPage:b,isRefetchError:f&&!m&&!y,isRefetching:u&&!x&&!b}}},SS=class extends Rb{#t;#e;#n;#a;constructor(e){super(),this.#t=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#e=[],this.state=e.state||Ob(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(r=>r!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const r=()=>{this.#r({type:"continue"})},s={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=Mb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(u,d)=>{this.#r({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",o=!this.#a.canStart();try{if(i)r();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,s);const d=await this.options.onMutate?.(e,s);d!==this.state.context&&this.#r({type:"pending",context:d,variables:e,isPaused:o})}const u=await this.#a.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,s),await this.options.onSuccess?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(u,null,e,this.state.context,s),this.#r({type:"success",data:u}),u}catch(u){try{throw await this.#n.config.onError?.(u,e,this.state.context,this,s),await this.options.onError?.(u,e,this.state.context,s),await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,u,e,this.state.context,s),u}finally{this.#r({type:"error",error:u})}}finally{this.#n.runNext(this)}}#r(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ut.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Ob(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var CS=class extends Za{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,r,s){const i=new SS({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(r),state:s});return this.add(i),i}add(e){this.#t.add(e);const r=uc(e);if(typeof r=="string"){const s=this.#e.get(r);s?s.push(e):this.#e.set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const r=uc(e);if(typeof r=="string"){const s=this.#e.get(r);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&this.#e.delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=uc(e);if(typeof r=="string"){const i=this.#e.get(r)?.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){const r=uc(e);return typeof r=="string"?this.#e.get(r)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ut.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const r={exact:!0,...e};return this.getAll().find(s=>fy(r,s))}findAll(e={}){return this.getAll().filter(r=>fy(e,r))}notify(e){ut.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ut.batch(()=>Promise.all(e.map(r=>r.continue().catch(qt))))}};function uc(e){return e.options.scope?.id}var ES=class extends Za{#t;#e=void 0;#n;#a;constructor(r,s){super(),this.#t=r,this.setOptions(s),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const s=this.options;this.options=this.#t.defaultMutationOptions(r),bl(this.options,s)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&ya(s.mutationKey)!==ya(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(r){this.#r(),this.#s(r)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#s()}mutate(r,s){return this.#a=s,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(r)}#r(){const r=this.#n?.state??Ob();this.#e={...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset}}#s(r){ut.batch(()=>{if(this.#a&&this.hasListeners()){const s=this.#e.variables,i=this.#e.context,o={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};r?.type==="success"?(this.#a.onSuccess?.(r.data,s,i,o),this.#a.onSettled?.(r.data,null,s,i,o)):r?.type==="error"&&(this.#a.onError?.(r.error,s,i,o),this.#a.onSettled?.(void 0,r.error,s,i,o))}this.listeners.forEach(s=>{s(this.#e)})})}};function vy(e,r){const s=new Set(r);return e.filter(i=>!s.has(i))}function MS(e,r,s){const i=e.slice(0);return i[r]=s,i}var RS=class extends Za{#t;#e;#n;#a;#r;#s;#l;#i;#h=[];constructor(e,r,s){super(),this.#t=e,this.#a=s,this.#n=[],this.#r=[],this.#e=[],this.setQueries(r)}onSubscribe(){this.listeners.size===1&&this.#r.forEach(e=>{e.subscribe(r=>{this.#u(e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#r.forEach(e=>{e.destroy()})}setQueries(e,r){this.#n=e,this.#a=r,ut.batch(()=>{const s=this.#r,i=this.#c(this.#n);this.#h=i,i.forEach(x=>x.observer.setOptions(x.defaultedQueryOptions));const o=i.map(x=>x.observer),u=o.map(x=>x.getCurrentResult()),d=s.length!==o.length,f=o.some((x,y)=>x!==s[y]),h=d||f,m=h?!0:u.some((x,y)=>{const b=this.#e[y];return!b||!bl(x,b)});!h&&!m||(h&&(this.#r=o),this.#e=u,this.hasListeners()&&(h&&(vy(s,o).forEach(x=>{x.destroy()}),vy(o,s).forEach(x=>{x.subscribe(y=>{this.#u(x,y)})})),this.#o()))})}getCurrentResult(){return this.#e}getQueries(){return this.#r.map(e=>e.getCurrentQuery())}getObservers(){return this.#r}getOptimisticResult(e,r){const s=this.#c(e),i=s.map(o=>o.observer.getOptimisticResult(o.defaultedQueryOptions));return[i,o=>this.#f(o??i,r),()=>this.#d(i,s)]}#d(e,r){return r.map((s,i)=>{const o=e[i];return s.defaultedQueryOptions.notifyOnChangeProps?o:s.observer.trackResult(o,u=>{r.forEach(d=>{d.observer.trackProp(u)})})})}#f(e,r){return r?((!this.#s||this.#e!==this.#i||r!==this.#l)&&(this.#l=r,this.#i=this.#e,this.#s=vm(this.#s,r(e))),this.#s):e}#c(e){const r=new Map;this.#r.forEach(i=>{const o=i.options.queryHash;if(!o)return;const u=r.get(o);u?u.push(i):r.set(o,[i])});const s=[];return e.forEach(i=>{const o=this.#t.defaultQueryOptions(i),d=r.get(o.queryHash)?.shift()??new Al(this.#t,o);s.push({defaultedQueryOptions:o,observer:d})}),s}#u(e,r){const s=this.#r.indexOf(e);s!==-1&&(this.#e=MS(this.#e,s,r),this.#o())}#o(){if(this.hasListeners()){const e=this.#s,r=this.#d(this.#e,this.#h),s=this.#f(r,this.#a?.combine);e!==s&&ut.batch(()=>{this.listeners.forEach(i=>{i(this.#e)})})}}},TS=class extends Za{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,r,s){const i=r.queryKey,o=r.queryHash??ym(i,r);let u=this.get(o);return u||(u=new bS({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=this.#t.get(e.queryHash);r&&(e.destroy(),r===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>dy(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>dy(e,s)):r}notify(e){ut.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ut.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ut.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},AS=class{#t;#e;#n;#a;#r;#s;#l;#i;constructor(e={}){this.#t=e.queryCache||new TS,this.#e=e.mutationCache||new CS,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#l=bm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=Uc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const r=this.defaultQueryOptions({queryKey:e});return this.#t.get(r.queryHash)?.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),s=this.#t.build(this,r),i=s.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(pa(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(i))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:r,state:s})=>{const i=s.data;return[r,i]})}setQueryData(e,r,s){const i=this.defaultQueryOptions({queryKey:e}),u=this.#t.get(i.queryHash)?.state.data,d=uS(r,u);if(d!==void 0)return this.#t.build(this,i).setData(d,{...s,manual:!0})}setQueriesData(e,r,s){return ut.batch(()=>this.#t.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,r,s)]))}getQueryState(e){const r=this.defaultQueryOptions({queryKey:e});return this.#t.get(r.queryHash)?.state}removeQueries(e){const r=this.#t;ut.batch(()=>{r.findAll(e).forEach(s=>{r.remove(s)})})}resetQueries(e,r){const s=this.#t;return ut.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},r)))}cancelQueries(e,r={}){const s={revert:!0,...r},i=ut.batch(()=>this.#t.findAll(e).map(o=>o.cancel(s)));return Promise.all(i).then(qt).catch(qt)}invalidateQueries(e,r={}){return ut.batch(()=>(this.#t.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},r)))}refetchQueries(e,r={}){const s={...r,cancelRefetch:r.cancelRefetch??!0},i=ut.batch(()=>this.#t.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,s);return s.throwOnError||(u=u.catch(qt)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(qt)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const s=this.#t.build(this,r);return s.isStaleByTime(pa(r.staleTime,s))?s.fetch(r):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qt).catch(qt)}fetchInfiniteQuery(e){return e.behavior=Bc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qt).catch(qt)}ensureInfiniteQueryData(e){return e.behavior=Bc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Uc.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,r){this.#a.set(ya(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...this.#a.values()],s={};return r.forEach(i=>{vl(e,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(e,r){this.#r.set(ya(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...this.#r.values()],s={};return r.forEach(i=>{vl(e,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const r={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=ym(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===yn&&(r.enabled=!1),r}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},_b=v.createContext(void 0),Dl=e=>{const r=v.useContext(_b);if(e)return e;if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},DS=({client:e,children:r})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(_b.Provider,{value:e,children:r})),Lb=v.createContext(!1),zb=()=>v.useContext(Lb);Lb.Provider;function OS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _S=v.createContext(OS()),Pb=()=>v.useContext(_S),Ib=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},Ub=e=>{v.useEffect(()=>{e.clearReset()},[e])},Bb=({result:e,errorResetBoundary:r,throwOnError:s,query:i,suspense:o})=>e.isError&&!r.isReset()&&!e.isFetching&&i&&(o&&e.data===void 0||Cb(s,[e.error,i])),wm=(e,r)=>r.state.data===void 0,Hb=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...o)=>s(i(...o)):s(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},$b=(e,r)=>e.isLoading&&e.isFetching&&!r,Gh=(e,r)=>e?.suspense&&r.isPending,Hc=(e,r,s)=>r.fetchOptimistic(e).catch(()=>{s.clearReset()});function Qb({queries:e,...r},s){const i=Dl(s),o=zb(),u=Pb(),d=v.useMemo(()=>e.map(k=>{const w=i.defaultQueryOptions(k);return w._optimisticResults=o?"isRestoring":"optimistic",w}),[e,i,o]);d.forEach(k=>{Hb(k),Ib(k,u)}),Ub(u);const[f]=v.useState(()=>new RS(i,d,r)),[h,m,x]=f.getOptimisticResult(d,r.combine),y=!o&&r.subscribed!==!1;v.useSyncExternalStore(v.useCallback(k=>y?f.subscribe(ut.batchCalls(k)):qt,[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),v.useEffect(()=>{f.setQueries(d,r)},[d,r,f]);const j=h.some((k,w)=>Gh(d[w],k))?h.flatMap((k,w)=>{const C=d[w];if(C){const A=new Al(i,C);if(Gh(C,k))return Hc(C,A,u);$b(k,o)&&Hc(C,A,u)}return[]}):[];if(j.length>0)throw Promise.all(j);const S=h.find((k,w)=>{const C=d[w];return C&&Bb({result:k,errorResetBoundary:u,throwOnError:C.throwOnError,query:i.getQueryCache().get(C.queryHash),suspense:C.suspense})});if(S?.error)throw S.error;return m(x())}function fu(e,r,s){const i=zb(),o=Pb(),u=Dl(s),d=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=i?"isRestoring":"optimistic",Hb(d),Ib(d,o),Ub(o);const f=!u.getQueryCache().get(d.queryHash),[h]=v.useState(()=>new r(u,d)),m=h.getOptimisticResult(d),x=!i&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(y=>{const b=x?h.subscribe(ut.batchCalls(y)):qt;return h.updateResult(),b},[h,x]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v.useEffect(()=>{h.setOptions(d)},[d,h]),Gh(d,m))throw Hc(d,h,o);if(Bb({result:m,errorResetBoundary:o,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw m.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(d,m),d.experimental_prefetchInRender&&!Fa&&$b(m,i)&&(f?Hc(d,h,o):u.getQueryCache().get(d.queryHash)?.promise)?.catch(qt).finally(()=>{h.updateResult()}),d.notifyOnChangeProps?m:h.trackResult(m)}function LS(e,r){return fu(e,Al,r)}function zS(e,r){return fu({...e,enabled:!0,suspense:!0,throwOnError:wm,placeholderData:void 0},Al,r)}function PS(e,r){return fu({...e,enabled:!0,suspense:!0,throwOnError:wm},Db,r)}function IS(e,r){return Qb({...e,queries:e.queries.map(s=>({...s,suspense:!0,throwOnError:wm,enabled:!0,placeholderData:void 0}))},r)}function US(e,r){const s=Dl(r);s.getQueryState(e.queryKey)||s.prefetchQuery(e)}function BS(e,r){const s=Dl(r);s.getQueryState(e.queryKey)||s.prefetchInfiniteQuery(e)}function HS(e,r){const s=Dl(r),[i]=v.useState(()=>new ES(s,e));v.useEffect(()=>{i.setOptions(e)},[i,e]);const o=v.useSyncExternalStore(v.useCallback(d=>i.subscribe(ut.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=v.useCallback((d,f)=>{i.mutate(d,f).catch(qt)},[i]);if(o.error&&Cb(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}function $S(e,r){return fu(e,Db,r)}function It(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QS=typeof Symbol=="function"&&Symbol.observable||"@@observable",by=QS,sh=()=>Math.random().toString(36).substring(7).split("").join("."),qS={INIT:`@@redux/INIT${sh()}`,REPLACE:`@@redux/REPLACE${sh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sh()}`},$c=qS;function km(e){if(typeof e!="object"||e===null)return!1;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r||Object.getPrototypeOf(e)===null}function qb(e,r,s){if(typeof e!="function")throw new Error(It(2));if(typeof r=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(It(0));if(typeof r=="function"&&typeof s>"u"&&(s=r,r=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(It(1));return s(qb)(e,r)}let i=e,o=r,u=new Map,d=u,f=0,h=!1;function m(){d===u&&(d=new Map,u.forEach((w,C)=>{d.set(C,w)}))}function x(){if(h)throw new Error(It(3));return o}function y(w){if(typeof w!="function")throw new Error(It(4));if(h)throw new Error(It(5));let C=!0;m();const A=f++;return d.set(A,w),function(){if(C){if(h)throw new Error(It(6));C=!1,m(),d.delete(A),u=null}}}function b(w){if(!km(w))throw new Error(It(7));if(typeof w.type>"u")throw new Error(It(8));if(typeof w.type!="string")throw new Error(It(17));if(h)throw new Error(It(9));try{h=!0,o=i(o,w)}finally{h=!1}return(u=d).forEach(A=>{A()}),w}function j(w){if(typeof w!="function")throw new Error(It(10));i=w,b({type:$c.REPLACE})}function S(){const w=y;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(It(11));function A(){const O=C;O.next&&O.next(x())}return A(),{unsubscribe:w(A)}},[by](){return this}}}return b({type:$c.INIT}),{dispatch:b,subscribe:y,getState:x,replaceReducer:j,[by]:S}}function FS(e){Object.keys(e).forEach(r=>{const s=e[r];if(typeof s(void 0,{type:$c.INIT})>"u")throw new Error(It(12));if(typeof s(void 0,{type:$c.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(It(13))})}function VS(e){const r=Object.keys(e),s={};for(let u=0;u<r.length;u++){const d=r[u];typeof e[d]=="function"&&(s[d]=e[d])}const i=Object.keys(s);let o;try{FS(s)}catch(u){o=u}return function(d={},f){if(o)throw o;let h=!1;const m={};for(let x=0;x<i.length;x++){const y=i[x],b=s[y],j=d[y],S=b(j,f);if(typeof S>"u")throw f&&f.type,new Error(It(14));m[y]=S,h=h||S!==j}return h=h||i.length!==Object.keys(d).length,h?m:d}}function Qc(...e){return e.length===0?r=>r:e.length===1?e[0]:e.reduce((r,s)=>(...i)=>r(s(...i)))}function GS(...e){return r=>(s,i)=>{const o=r(s,i);let u=()=>{throw new Error(It(15))};const d={getState:o.getState,dispatch:(h,...m)=>u(h,...m)},f=e.map(h=>h(d));return u=Qc(...f)(o.dispatch),{...o,dispatch:u}}}function YS(e){return km(e)&&"type"in e&&typeof e.type=="string"}var Fb=Symbol.for("immer-nothing"),jy=Symbol.for("immer-draftable"),Yt=Symbol.for("immer-state");function Vn(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vn=Object,ti=vn.getPrototypeOf,qc="constructor",hu="prototype",Yh="configurable",Fc="enumerable",Rc="writable",jl="value",Ur=e=>!!e&&!!e[Yt];function Gn(e){return e?Vb(e)||mu(e)||!!e[jy]||!!e[qc]?.[jy]||gu(e)||pu(e):!1}var KS=vn[hu][qc].toString(),wy=new WeakMap;function Vb(e){if(!e||!Nm(e))return!1;const r=ti(e);if(r===null||r===vn[hu])return!0;const s=vn.hasOwnProperty.call(r,qc)&&r[qc];if(s===Object)return!0;if(!Ks(s))return!1;let i=wy.get(s);return i===void 0&&(i=Function.toString.call(s),wy.set(s,i)),i===KS}function Ol(e,r,s=!0){_l(e)===0?(s?Reflect.ownKeys(e):vn.keys(e)).forEach(o=>{r(o,e[o],e)}):e.forEach((i,o)=>r(o,i,e))}function _l(e){const r=e[Yt];return r?r.type_:mu(e)?1:gu(e)?2:pu(e)?3:0}var ky=(e,r,s=_l(e))=>s===2?e.has(r):vn[hu].hasOwnProperty.call(e,r),Kh=(e,r,s=_l(e))=>s===2?e.get(r):e[r],Vc=(e,r,s,i=_l(e))=>{i===2?e.set(r,s):i===3?e.add(s):e[r]=s};function WS(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}var mu=Array.isArray,gu=e=>e instanceof Map,pu=e=>e instanceof Set,Nm=e=>typeof e=="object",Ks=e=>typeof e=="function",ih=e=>typeof e=="boolean";function XS(e){const r=+e;return Number.isInteger(r)&&String(r)===e}var zr=e=>e.copy_||e.base_,Sm=e=>e.modified_?e.copy_:e.base_;function Wh(e,r){if(gu(e))return new Map(e);if(pu(e))return new Set(e);if(mu(e))return Array[hu].slice.call(e);const s=Vb(e);if(r===!0||r==="class_only"&&!s){const i=vn.getOwnPropertyDescriptors(e);delete i[Yt];let o=Reflect.ownKeys(i);for(let u=0;u<o.length;u++){const d=o[u],f=i[d];f[Rc]===!1&&(f[Rc]=!0,f[Yh]=!0),(f.get||f.set)&&(i[d]={[Yh]:!0,[Rc]:!0,[Fc]:f[Fc],[jl]:e[d]})}return vn.create(ti(e),i)}else{const i=ti(e);if(i!==null&&s)return{...e};const o=vn.create(i);return vn.assign(o,e)}}function Cm(e,r=!1){return xu(e)||Ur(e)||!Gn(e)||(_l(e)>1&&vn.defineProperties(e,{set:dc,add:dc,clear:dc,delete:dc}),vn.freeze(e),r&&Ol(e,(s,i)=>{Cm(i,!0)},!1)),e}function ZS(){Vn(2)}var dc={[jl]:ZS};function xu(e){return e===null||!Nm(e)?!0:vn.isFrozen(e)}var Gc="MapSet",Xh="Patches",Ny="ArrayMethods",Gb={};function Va(e){const r=Gb[e];return r||Vn(0,e),r}var Sy=e=>!!Gb[e],wl,Yb=()=>wl,JS=(e,r)=>({drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Sy(Gc)?Va(Gc):void 0,arrayMethodsPlugin_:Sy(Ny)?Va(Ny):void 0});function Cy(e,r){r&&(e.patchPlugin_=Va(Xh),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function Zh(e){Jh(e),e.drafts_.forEach(e4),e.drafts_=null}function Jh(e){e===wl&&(wl=e.parent_)}var Ey=e=>wl=JS(wl,e);function e4(e){const r=e[Yt];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function My(e,r){r.unfinalizedDrafts_=r.drafts_.length;const s=r.drafts_[0];if(e!==void 0&&e!==s){s[Yt].modified_&&(Zh(r),Vn(4)),Gn(e)&&(e=Ry(r,e));const{patchPlugin_:o}=r;o&&o.generateReplacementPatches_(s[Yt].base_,e,r)}else e=Ry(r,s);return t4(r,e,!0),Zh(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==Fb?e:void 0}function Ry(e,r){if(xu(r))return r;const s=r[Yt];if(!s)return Em(r,e.handledSet_,e);if(!yu(s,e))return r;if(!s.modified_)return s.base_;if(!s.finalized_){const{callbacks_:i}=s;if(i)for(;i.length>0;)i.pop()(e);Xb(s,e)}return s.copy_}function t4(e,r,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cm(r,s)}function Kb(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var yu=(e,r)=>e.scope_===r,n4=[];function Wb(e,r,s,i){const o=zr(e),u=e.type_;if(i!==void 0&&Kh(o,i,u)===r){Vc(o,i,s,u);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;Ol(o,(h,m)=>{if(Ur(m)){const x=f.get(m)||[];x.push(h),f.set(m,x)}})}const d=e.draftLocations_.get(r)??n4;for(const f of d)Vc(o,f,s,u)}function r4(e,r,s){e.callbacks_.push(function(o){const u=r;if(!u||!yu(u,o))return;o.mapSetPlugin_?.fixSetContents(u);const d=Sm(u);Wb(e,u.draft_??u,d,s),Xb(u,o)})}function Xb(e,r){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:i}=r;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,r)}Kb(e)}}function a4(e,r,s){const{scope_:i}=e;if(Ur(s)){const o=s[Yt];yu(o,i)&&o.callbacks_.push(function(){Tc(e);const d=Sm(o);Wb(e,s,d,r)})}else Gn(s)&&e.callbacks_.push(function(){const u=zr(e);Kh(u,r,e.type_)===s&&i.drafts_.length>1&&(e.assigned_.get(r)??!1)===!0&&e.copy_&&Em(Kh(e.copy_,r,e.type_),i.handledSet_,i)})}function Em(e,r,s){return!s.immer_.autoFreeze_&&s.unfinalizedDrafts_<1||Ur(e)||r.has(e)||!Gn(e)||xu(e)||(r.add(e),Ol(e,(i,o)=>{if(Ur(o)){const u=o[Yt];if(yu(u,s)){const d=Sm(u);Vc(e,i,d,e.type_),Kb(u)}}else Gn(o)&&Em(o,r,s)})),e}function s4(e,r){const s=mu(e),i={type_:s?1:0,scope_:r?r.scope_:Yb(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=i,u=Mm;s&&(o=[i],u=kl);const{revoke:d,proxy:f}=Proxy.revocable(o,u);return i.draft_=f,i.revoke_=d,[f,i]}var Mm={get(e,r){if(r===Yt)return e;let s=e.scope_.arrayMethodsPlugin_;const i=e.type_===1&&typeof r=="string";if(i&&s?.isArrayOperationMethod(r))return s.createMethodInterceptor(e,r);const o=zr(e);if(!ky(o,r,e.type_))return i4(e,o,r);const u=o[r];if(e.finalized_||!Gn(u)||i&&e.operationMethod&&s?.isMutatingArrayMethod(e.operationMethod)&&XS(r))return u;if(u===lh(e.base_,r)){Tc(e);const d=e.type_===1?+r:r,f=tm(e.scope_,u,e,d);return e.copy_[d]=f}return u},has(e,r){return r in zr(e)},ownKeys(e){return Reflect.ownKeys(zr(e))},set(e,r,s){const i=Zb(zr(e),r);if(i?.set)return i.set.call(e.draft_,s),!0;if(!e.modified_){const o=lh(zr(e),r),u=o?.[Yt];if(u&&u.base_===s)return e.copy_[r]=s,e.assigned_.set(r,!1),!0;if(WS(s,o)&&(s!==void 0||ky(e.base_,r,e.type_)))return!0;Tc(e),em(e)}return e.copy_[r]===s&&(s!==void 0||r in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=s,e.assigned_.set(r,!0),a4(e,r,s)),!0},deleteProperty(e,r){return Tc(e),lh(e.base_,r)!==void 0||r in e.base_?(e.assigned_.set(r,!1),em(e)):e.assigned_.delete(r),e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const s=zr(e),i=Reflect.getOwnPropertyDescriptor(s,r);return i&&{[Rc]:!0,[Yh]:e.type_!==1||r!=="length",[Fc]:i[Fc],[jl]:s[r]}},defineProperty(){Vn(11)},getPrototypeOf(e){return ti(e.base_)},setPrototypeOf(){Vn(12)}},kl={};Ol(Mm,(e,r)=>{kl[e]=function(){const s=arguments;return s[0]=s[0][0],r.apply(this,s)}});kl.deleteProperty=function(e,r){return kl.set.call(this,e,r,void 0)};kl.set=function(e,r,s){return Mm.set.call(this,e[0],r,s,e[0])};function lh(e,r){const s=e[Yt];return(s?zr(s):e)[r]}function i4(e,r,s){const i=Zb(r,s);return i?jl in i?i[jl]:i.get?.call(e.draft_):void 0}function Zb(e,r){if(!(r in e))return;let s=ti(e);for(;s;){const i=Object.getOwnPropertyDescriptor(s,r);if(i)return i;s=ti(s)}}function em(e){e.modified_||(e.modified_=!0,e.parent_&&em(e.parent_))}function Tc(e){e.copy_||(e.assigned_=new Map,e.copy_=Wh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var l4=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,s,i)=>{if(Ks(r)&&!Ks(s)){const u=s;s=r;const d=this;return function(h=u,...m){return d.produce(h,x=>s.call(this,x,...m))}}Ks(s)||Vn(6),i!==void 0&&!Ks(i)&&Vn(7);let o;if(Gn(r)){const u=Ey(this),d=tm(u,r,void 0);let f=!0;try{o=s(d),f=!1}finally{f?Zh(u):Jh(u)}return Cy(u,i),My(o,u)}else if(!r||!Nm(r)){if(o=s(r),o===void 0&&(o=r),o===Fb&&(o=void 0),this.autoFreeze_&&Cm(o,!0),i){const u=[],d=[];Va(Xh).generateReplacementPatches_(r,o,{patches_:u,inversePatches_:d}),i(u,d)}return o}else Vn(1,r)},this.produceWithPatches=(r,s)=>{if(Ks(r))return(d,...f)=>this.produceWithPatches(d,h=>r(h,...f));let i,o;return[this.produce(r,s,(d,f)=>{i=d,o=f}),i,o]},ih(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ih(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ih(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Gn(e)||Vn(8),Ur(e)&&(e=o4(e));const r=Ey(this),s=tm(r,e,void 0);return s[Yt].isManual_=!0,Jh(r),s}finishDraft(e,r){const s=e&&e[Yt];(!s||!s.isManual_)&&Vn(9);const{scope_:i}=s;return Cy(i,r),My(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let s;for(s=r.length-1;s>=0;s--){const o=r[s];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}s>-1&&(r=r.slice(s+1));const i=Va(Xh).applyPatches_;return Ur(e)?i(e,r):this.produce(e,o=>i(o,r))}};function tm(e,r,s,i){const[o,u]=gu(r)?Va(Gc).proxyMap_(r,s):pu(r)?Va(Gc).proxySet_(r,s):s4(r,s);return(s?.scope_??Yb()).drafts_.push(o),u.callbacks_=s?.callbacks_??[],u.key_=i,s&&i!==void 0?r4(s,u,i):u.callbacks_.push(function(h){h.mapSetPlugin_?.fixSetContents(u);const{patchPlugin_:m}=h;u.modified_&&m&&m.generatePatches_(u,[],h)}),o}function o4(e){return Ur(e)||Vn(10,e),Jb(e)}function Jb(e){if(!Gn(e)||xu(e))return e;const r=e[Yt];let s,i=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,s=Wh(e,r.scope_.immer_.useStrictShallowCopy_),i=r.scope_.immer_.shouldUseStrictIteration()}else s=Wh(e,!0);return Ol(s,(o,u)=>{Vc(s,o,Jb(u))},i),r&&(r.finalized_=!1),s}var c4=new l4,e2=c4.produce;function t2(e){return({dispatch:s,getState:i})=>o=>u=>typeof u=="function"?u(s,i,e):o(u)}var u4=t2(),d4=t2,f4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qc:Qc.apply(null,arguments)};function Ty(e,r){function s(...i){if(r){let o=r(...i);if(!o)throw new Error(Pr(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:i[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=i=>YS(i)&&i.type===e,s}var n2=class fl extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,fl.prototype)}static get[Symbol.species](){return fl}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new fl(...r[0].concat(this)):new fl(...r.concat(this))}};function Ay(e){return Gn(e)?e2(e,()=>{}):e}function fc(e,r,s){return e.has(r)?e.get(r):e.set(r,s(r)).get(r)}function h4(e){return typeof e=="boolean"}var m4=()=>function(r){const{thunk:s=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=r??{};let d=new n2;return s&&(h4(s)?d.push(u4):d.push(d4(s.extraArgument))),d},g4="RTK_autoBatch",Dy=e=>r=>{setTimeout(r,e)},p4=(e={type:"raf"})=>r=>(...s)=>{const i=r(...s);let o=!0,u=!1,d=!1;const f=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Dy(10):e.type==="callback"?e.queueNotification:Dy(e.timeout),m=()=>{d=!1,u&&(u=!1,f.forEach(x=>x()))};return Object.assign({},i,{subscribe(x){const y=()=>o&&x(),b=i.subscribe(y);return f.add(x),()=>{b(),f.delete(x)}},dispatch(x){try{return o=!x?.meta?.[g4],u=!o,u&&(d||(d=!0,h(m))),i.dispatch(x)}finally{o=!0}}})},x4=e=>function(s){const{autoBatch:i=!0}=s??{};let o=new n2(e);return i&&o.push(p4(typeof i=="object"?i:void 0)),o};function y4(e){const r=m4(),{reducer:s=void 0,middleware:i,devTools:o=!0,preloadedState:u=void 0,enhancers:d=void 0}=e||{};let f;if(typeof s=="function")f=s;else if(km(s))f=VS(s);else throw new Error(Pr(1));let h;typeof i=="function"?h=i(r):h=r();let m=Qc;o&&(m=f4({trace:!1,...typeof o=="object"&&o}));const x=GS(...h),y=x4(x);let b=typeof d=="function"?d(y):y();const j=m(...b);return qb(f,u,j)}function r2(e){const r={},s=[];let i;const o={addCase(u,d){const f=typeof u=="string"?u:u.type;if(!f)throw new Error(Pr(28));if(f in r)throw new Error(Pr(29));return r[f]=d,o},addAsyncThunk(u,d){return d.pending&&(r[u.pending.type]=d.pending),d.rejected&&(r[u.rejected.type]=d.rejected),d.fulfilled&&(r[u.fulfilled.type]=d.fulfilled),d.settled&&s.push({matcher:u.settled,reducer:d.settled}),o},addMatcher(u,d){return s.push({matcher:u,reducer:d}),o},addDefaultCase(u){return i=u,o}};return e(o),[r,s,i]}function v4(e){return typeof e=="function"}function b4(e,r){let[s,i,o]=r2(r),u;if(v4(e))u=()=>Ay(e());else{const f=Ay(e);u=()=>f}function d(f=u(),h){let m=[s[h.type],...i.filter(({matcher:x})=>x(h)).map(({reducer:x})=>x)];return m.filter(x=>!!x).length===0&&(m=[o]),m.reduce((x,y)=>{if(y)if(Ur(x)){const j=y(x,h);return j===void 0?x:j}else{if(Gn(x))return e2(x,b=>y(b,h));{const b=y(x,h);if(b===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return x},f)}return d.getInitialState=u,d}var j4=Symbol.for("rtk-slice-createasyncthunk");function w4(e,r){return`${e}/${r}`}function k4({creators:e}={}){const r=e?.asyncThunk?.[j4];return function(i){const{name:o,reducerPath:u=o}=i;if(!o)throw new Error(Pr(11));const d=(typeof i.reducers=="function"?i.reducers(S4()):i.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(R,O){const T=typeof R=="string"?R:R.type;if(!T)throw new Error(Pr(12));if(T in h.sliceCaseReducersByType)throw new Error(Pr(13));return h.sliceCaseReducersByType[T]=O,m},addMatcher(R,O){return h.sliceMatchers.push({matcher:R,reducer:O}),m},exposeAction(R,O){return h.actionCreators[R]=O,m},exposeCaseReducer(R,O){return h.sliceCaseReducersByName[R]=O,m}};f.forEach(R=>{const O=d[R],T={reducerName:R,type:w4(o,R),createNotation:typeof i.reducers=="function"};E4(O)?R4(T,O,m,r):C4(T,O,m)});function x(){const[R={},O=[],T=void 0]=typeof i.extraReducers=="function"?r2(i.extraReducers):[i.extraReducers],L={...R,...h.sliceCaseReducersByType};return b4(i.initialState,E=>{for(let D in L)E.addCase(D,L[D]);for(let D of h.sliceMatchers)E.addMatcher(D.matcher,D.reducer);for(let D of O)E.addMatcher(D.matcher,D.reducer);T&&E.addDefaultCase(T)})}const y=R=>R,b=new Map,j=new WeakMap;let S;function k(R,O){return S||(S=x()),S(R,O)}function w(){return S||(S=x()),S.getInitialState()}function C(R,O=!1){function T(E){let D=E[R];return typeof D>"u"&&O&&(D=fc(j,T,w)),D}function L(E=y){const D=fc(b,O,()=>new WeakMap);return fc(D,E,()=>{const P={};for(const[K,Y]of Object.entries(i.selectors??{}))P[K]=N4(Y,E,()=>fc(j,E,w),O);return P})}return{reducerPath:R,getSelectors:L,get selectors(){return L(T)},selectSlice:T}}const A={name:o,reducer:k,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:w,...C(u),injectInto(R,{reducerPath:O,...T}={}){const L=O??u;return R.inject({reducerPath:L,reducer:k},T),{...A,...C(L,!0)}}};return A}}function N4(e,r,s,i){function o(u,...d){let f=r(u);return typeof f>"u"&&i&&(f=s()),e(f,...d)}return o.unwrapped=e,o}var vu=k4();function S4(){function e(r,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...s}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...s){return r(...s)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:s}},asyncThunk:e}}function C4({type:e,reducerName:r,createNotation:s},i,o){let u,d;if("reducer"in i){if(s&&!M4(i))throw new Error(Pr(17));u=i.reducer,d=i.prepare}else u=i;o.addCase(e,u).exposeCaseReducer(r,u).exposeAction(r,d?Ty(e,d):Ty(e))}function E4(e){return e._reducerDefinitionType==="asyncThunk"}function M4(e){return e._reducerDefinitionType==="reducerWithPrepare"}function R4({type:e,reducerName:r},s,i,o){if(!o)throw new Error(Pr(18));const{payloadCreator:u,fulfilled:d,pending:f,rejected:h,settled:m,options:x}=s,y=o(e,u,x);i.exposeAction(r,y),d&&i.addCase(y.fulfilled,d),f&&i.addCase(y.pending,f),h&&i.addCase(y.rejected,h),m&&i.addMatcher(y.settled,m),i.exposeCaseReducer(r,{fulfilled:d||hc,pending:f||hc,rejected:h||hc,settled:m||hc})}function hc(){}function Pr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Yc="kanbu_token",hl="kanbu_user",Kc="kanbu_expires";function T4(){if(typeof window>"u")return{user:null,token:null,expiresAt:null,isAuthenticated:!1,isLoading:!1};const e=localStorage.getItem(Yc),r=localStorage.getItem(hl),s=localStorage.getItem(Kc);if(!e||!r||!s)return{user:null,token:null,expiresAt:null,isAuthenticated:!1,isLoading:!1};if(new Date(s)<new Date)return localStorage.removeItem(Yc),localStorage.removeItem(hl),localStorage.removeItem(Kc),{user:null,token:null,expiresAt:null,isAuthenticated:!1,isLoading:!1};try{const i=JSON.parse(r);return{user:{...i,role:i.role||"USER"},token:e,expiresAt:s,isAuthenticated:!0,isLoading:!1}}catch{return{user:null,token:null,expiresAt:null,isAuthenticated:!1,isLoading:!1}}}const A4=T4(),a2=vu({name:"auth",initialState:A4,reducers:{setLoading:(e,r)=>{e.isLoading=r.payload},loginSuccess:(e,r)=>{const{user:s,accessToken:i,expiresAt:o}=r.payload;e.user={...s,role:s.role},e.token=i,e.expiresAt=o,e.isAuthenticated=!0,e.isLoading=!1,localStorage.setItem(Yc,i),localStorage.setItem(hl,JSON.stringify(e.user)),localStorage.setItem(Kc,o)},logout:e=>{e.user=null,e.token=null,e.expiresAt=null,e.isAuthenticated=!1,e.isLoading=!1,localStorage.removeItem(Yc),localStorage.removeItem(hl),localStorage.removeItem(Kc)},updateUser:(e,r)=>{e.user&&(e.user={...e.user,...r.payload},localStorage.setItem(hl,JSON.stringify(e.user)))}}}),{setLoading:Wc,loginSuccess:s2,logout:D4,updateUser:xL}=a2.actions,i2=e=>e.auth.user,l2=e=>e.auth.isAuthenticated,O4=a2.reducer,Lr="kanbu_current_workspace";function _4(){if(typeof window>"u")return null;const e=localStorage.getItem(Lr);if(e){const r=parseInt(e,10);return isNaN(r)?null:r}return null}const L4={currentWorkspace:null,workspaces:[],isLoading:!1,error:null},o2=vu({name:"workspace",initialState:L4,reducers:{setLoading:(e,r)=>{e.isLoading=r.payload,r.payload&&(e.error=null)},setError:(e,r)=>{e.error=r.payload,e.isLoading=!1},setWorkspaces:(e,r)=>{if(e.workspaces=r.payload,e.isLoading=!1,e.error=null,!e.currentWorkspace&&r.payload.length>0){const s=_4(),i=s?r.payload.find(o=>o.id===s):null;e.currentWorkspace=i||r.payload[0]||null,e.currentWorkspace&&localStorage.setItem(Lr,e.currentWorkspace.id.toString())}},setCurrentWorkspace:(e,r)=>{e.currentWorkspace=r.payload,r.payload?localStorage.setItem(Lr,r.payload.id.toString()):localStorage.removeItem(Lr)},selectWorkspace:(e,r)=>{const s=e.workspaces.find(i=>i.id===r.payload);s&&(e.currentWorkspace=s,localStorage.setItem(Lr,s.id.toString()))},addWorkspace:(e,r)=>{e.workspaces.push(r.payload),e.workspaces.length===1&&(e.currentWorkspace=r.payload,localStorage.setItem(Lr,r.payload.id.toString()))},updateWorkspace:(e,r)=>{const s=e.workspaces.findIndex(i=>i.id===r.payload.id);s!==-1&&(e.workspaces[s]={...e.workspaces[s],...r.payload},e.currentWorkspace?.id===r.payload.id&&(e.currentWorkspace=e.workspaces[s]))},removeWorkspace:(e,r)=>{e.workspaces=e.workspaces.filter(s=>s.id!==r.payload),e.currentWorkspace?.id===r.payload&&(e.currentWorkspace=e.workspaces[0]||null,e.currentWorkspace?localStorage.setItem(Lr,e.currentWorkspace.id.toString()):localStorage.removeItem(Lr))},clearWorkspaces:e=>{e.currentWorkspace=null,e.workspaces=[],e.isLoading=!1,e.error=null,localStorage.removeItem(Lr)}}}),{setLoading:z4,setError:P4,setWorkspaces:I4,setCurrentWorkspace:yL,selectWorkspace:U4,addWorkspace:vL,updateWorkspace:bL,removeWorkspace:jL,clearWorkspaces:wL}=o2.actions,bu=e=>e.workspace.currentWorkspace,B4=e=>e.workspace.workspaces,H4=e=>e.workspace.isLoading,$4=o2.reducer,ll="kanbu_current_project",Q4={currentProject:null,projects:[],isLoading:!1,error:null},c2=vu({name:"project",initialState:Q4,reducers:{setLoading:(e,r)=>{e.isLoading=r.payload,r.payload&&(e.error=null)},setError:(e,r)=>{e.error=r.payload,e.isLoading=!1},setProjects:(e,r)=>{e.projects=r.payload,e.isLoading=!1,e.error=null},setCurrentProject:(e,r)=>{e.currentProject=r.payload,r.payload?localStorage.setItem(ll,r.payload.id.toString()):localStorage.removeItem(ll)},selectProject:(e,r)=>{localStorage.setItem(ll,r.payload.toString())},addProject:(e,r)=>{e.projects.unshift(r.payload)},updateProject:(e,r)=>{const s=e.projects.findIndex(i=>i.id===r.payload.id);s!==-1&&(e.projects[s]={...e.projects[s],...r.payload}),e.currentProject?.id===r.payload.id&&(e.currentProject={...e.currentProject,...r.payload})},removeProject:(e,r)=>{e.projects=e.projects.filter(s=>s.id!==r.payload),e.currentProject?.id===r.payload&&(e.currentProject=null,localStorage.removeItem(ll))},clearProjects:e=>{e.currentProject=null,e.projects=[],e.isLoading=!1,e.error=null,localStorage.removeItem(ll)},updateColumn:(e,r)=>{if(e.currentProject){const s=e.currentProject.columns.findIndex(i=>i.id===r.payload.columnId);s!==-1&&(e.currentProject.columns[s]={...e.currentProject.columns[s],...r.payload.updates})}}}}),{setLoading:q4,setError:F4,setProjects:V4,setCurrentProject:kL,selectProject:NL,addProject:SL,updateProject:CL,removeProject:EL,clearProjects:ML,updateColumn:RL}=c2.actions,G4=e=>e.project.projects,Y4=e=>e.project.isLoading,K4=c2.reducer,nm="kanbu_collapsed_columns",u2="kanbu_collapsed_swimlanes",d2="kanbu_compact_view";function W4(){if(typeof window>"u")return[];const e=localStorage.getItem(nm);if(e)try{return JSON.parse(e)}catch{return[]}return[]}function X4(){if(typeof window>"u")return[];const e=localStorage.getItem(u2);if(e)try{return JSON.parse(e)}catch{return[]}return[]}function Z4(){return typeof window>"u"?!1:localStorage.getItem(d2)==="true"}const Oy={collapsedColumns:W4(),collapsedSwimlanes:X4(),filters:{search:"",priority:null,assigneeId:null,tagIds:[],showClosed:!1},sortField:"position",sortOrder:"asc",compactView:Z4(),showEmptySwimlanes:!0,selectedTaskIds:[],draggingTaskId:null,dropTargetColumnId:null,dropTargetSwimlaneId:null},f2=vu({name:"board",initialState:Oy,reducers:{toggleColumnCollapse:(e,r)=>{const s=r.payload,i=e.collapsedColumns.indexOf(s);i===-1?e.collapsedColumns.push(s):e.collapsedColumns.splice(i,1),localStorage.setItem(nm,JSON.stringify(e.collapsedColumns))},setColumnCollapsed:(e,r)=>{const{columnId:s,collapsed:i}=r.payload,o=e.collapsedColumns.indexOf(s);i&&o===-1?e.collapsedColumns.push(s):!i&&o!==-1&&e.collapsedColumns.splice(o,1),localStorage.setItem(nm,JSON.stringify(e.collapsedColumns))},toggleSwimlaneCollapse:(e,r)=>{const s=r.payload,i=e.collapsedSwimlanes.indexOf(s);i===-1?e.collapsedSwimlanes.push(s):e.collapsedSwimlanes.splice(i,1),localStorage.setItem(u2,JSON.stringify(e.collapsedSwimlanes))},setSearchFilter:(e,r)=>{e.filters.search=r.payload},setPriorityFilter:(e,r)=>{e.filters.priority=r.payload},setAssigneeFilter:(e,r)=>{e.filters.assigneeId=r.payload},setTagFilter:(e,r)=>{e.filters.tagIds=r.payload},toggleShowClosed:e=>{e.filters.showClosed=!e.filters.showClosed},clearFilters:e=>{e.filters={search:"",priority:null,assigneeId:null,tagIds:[],showClosed:!1}},setSortField:(e,r)=>{e.sortField=r.payload},setSortOrder:(e,r)=>{e.sortOrder=r.payload},toggleSortOrder:e=>{e.sortOrder=e.sortOrder==="asc"?"desc":"asc"},toggleCompactView:e=>{e.compactView=!e.compactView,localStorage.setItem(d2,e.compactView.toString())},setShowEmptySwimlanes:(e,r)=>{e.showEmptySwimlanes=r.payload},selectTask:(e,r)=>{e.selectedTaskIds.includes(r.payload)||e.selectedTaskIds.push(r.payload)},deselectTask:(e,r)=>{e.selectedTaskIds=e.selectedTaskIds.filter(s=>s!==r.payload)},toggleTaskSelection:(e,r)=>{const s=e.selectedTaskIds.indexOf(r.payload);s===-1?e.selectedTaskIds.push(r.payload):e.selectedTaskIds.splice(s,1)},clearSelection:e=>{e.selectedTaskIds=[]},setDraggingTask:(e,r)=>{e.draggingTaskId=r.payload},setDropTarget:(e,r)=>{e.dropTargetColumnId=r.payload.columnId,e.dropTargetSwimlaneId=r.payload.swimlaneId},clearDragState:e=>{e.draggingTaskId=null,e.dropTargetColumnId=null,e.dropTargetSwimlaneId=null},resetBoardState:()=>Oy}}),{toggleColumnCollapse:TL,setColumnCollapsed:AL,toggleSwimlaneCollapse:DL,setSearchFilter:OL,setPriorityFilter:_L,setAssigneeFilter:LL,setTagFilter:zL,toggleShowClosed:PL,clearFilters:IL,setSortField:UL,setSortOrder:BL,toggleSortOrder:HL,toggleCompactView:$L,setShowEmptySwimlanes:QL,selectTask:qL,deselectTask:FL,toggleTaskSelection:VL,clearSelection:GL,setDraggingTask:YL,setDropTarget:KL,clearDragState:WL,resetBoardState:XL}=f2.actions,J4=f2.reducer,eC=y4({reducer:{auth:O4,workspace:$4,project:K4,board:J4},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}}),devTools:!1}),Ll=rS,In=iS;function Ga(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}function tC(){return Object.create(null)}const nC=typeof Symbol=="function"&&!!Symbol.asyncIterator;function h2(e){return nC&&Ga(e)&&Symbol.asyncIterator in e}var rC=Object.create,m2=Object.defineProperty,aC=Object.getOwnPropertyDescriptor,g2=Object.getOwnPropertyNames,sC=Object.getPrototypeOf,iC=Object.prototype.hasOwnProperty,zl=(e,r)=>function(){return r||(0,e[g2(e)[0]])((r={exports:{}}).exports,r),r.exports},lC=(e,r,s,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(var o=g2(r),u=0,d=o.length,f;u<d;u++)f=o[u],!iC.call(e,f)&&f!==s&&m2(e,f,{get:(h=>r[h]).bind(null,f),enumerable:!(i=aC(r,f))||i.enumerable});return e},ju=(e,r,s)=>(s=e!=null?rC(sC(e)):{},lC(m2(s,"default",{value:e,enumerable:!0}),e));const p2=()=>{},_y=e=>{Object.freeze&&Object.freeze(e)};function x2(e,r,s){var i;const o=r.join(".");return(i=s[o])!==null&&i!==void 0||(s[o]=new Proxy(p2,{get(u,d){if(!(typeof d!="string"||d==="then"))return x2(e,[...r,d],s)},apply(u,d,f){const h=r[r.length-1];let m={args:f,path:r};return h==="call"?m={args:f.length>=2?[f[1]]:[],path:r.slice(0,-1)}:h==="apply"&&(m={args:f.length>=2?f[1]:[],path:r.slice(0,-1)}),_y(m.args),_y(m.path),e(m)}})),s[o]}const wu=e=>x2(e,[],tC()),Rm=e=>new Proxy(p2,{get(r,s){if(s!=="then")return e(s)}});var y2=zl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,r){function s(i){"@babel/helpers - typeof";return r.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r.exports.__esModule=!0,r.exports.default=r.exports,s(i)}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports}}),oC=zl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,r){var s=y2().default;function i(o,u){if(s(o)!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var f=d.call(o,u||"default");if(s(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(o)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports}}),cC=zl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,r){var s=y2().default,i=oC();function o(u){var d=i(u,"string");return s(d)=="symbol"?d:d+""}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports}}),v2=zl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,r){var s=cC();function i(o,u,d){return(u=s(u))in o?Object.defineProperty(o,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[u]=d,o}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports}}),Tm=zl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,r){var s=v2();function i(u,d){var f=Object.keys(u);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(u);d&&(h=h.filter(function(m){return Object.getOwnPropertyDescriptor(u,m).enumerable})),f.push.apply(f,h)}return f}function o(u){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?i(Object(f),!0).forEach(function(h){s(u,h,f[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(f)):i(Object(f)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(f,h))})}return u}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports}});ju(Tm());ju(v2());var mc=ju(Tm());function uC(e,r){if("error"in e){const i=r.deserialize(e.error);return{ok:!1,error:(0,mc.default)((0,mc.default)({},e),{},{error:i})}}return{ok:!0,result:(0,mc.default)((0,mc.default)({},e.result),(!e.result.type||e.result.type==="data")&&{type:"data",data:r.deserialize(e.result.data)})}}var oh=class extends Error{constructor(){super("Unable to transform response from server")}};function dC(e,r){let s;try{s=uC(e,r)}catch{throw new oh}if(!s.ok&&(!Ga(s.error.error)||typeof s.error.error.code!="number"))throw new oh;if(s.ok&&!Ga(s.result))throw new oh;return s}ju(Tm());function ku(e){const r={subscribe(s){let i=null,o=!1,u=!1,d=!1;function f(){if(i===null){d=!0;return}u||(u=!0,typeof i=="function"?i():i&&i.unsubscribe())}return i=e({next(h){var m;o||(m=s.next)===null||m===void 0||m.call(s,h)},error(h){var m;o||(o=!0,(m=s.error)===null||m===void 0||m.call(s,h),f())},complete(){var h;o||(o=!0,(h=s.complete)===null||h===void 0||h.call(s),f())}}),d&&f(),{unsubscribe:f}},pipe(...s){return s.reduce(fC,r)}};return r}function fC(e,r){return r(e)}function hC(e){const r=new AbortController;return new Promise((i,o)=>{let u=!1;function d(){u||(u=!0,f.unsubscribe())}r.signal.addEventListener("abort",()=>{o(r.signal.reason)});const f=e.subscribe({next(h){u=!0,i(h),d()},error(h){o(h)},complete(){r.abort(),d()}})})}var mC=Object.create,b2=Object.defineProperty,gC=Object.getOwnPropertyDescriptor,j2=Object.getOwnPropertyNames,pC=Object.getPrototypeOf,xC=Object.prototype.hasOwnProperty,ba=(e,r)=>function(){return r||(0,e[j2(e)[0]])((r={exports:{}}).exports,r),r.exports},yC=(e,r,s,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(var o=j2(r),u=0,d=o.length,f;u<d;u++)f=o[u],!xC.call(e,f)&&f!==s&&b2(e,f,{get:(h=>r[h]).bind(null,f),enumerable:!(i=gC(r,f))||i.enumerable});return e},Ja=(e,r,s)=>(s=e!=null?mC(pC(e)):{},yC(r||!e||!e.__esModule?b2(s,"default",{value:e,enumerable:!0}):s,e)),vC=ba({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(e,r){function s(i,o){if(i==null)return{};var u={};for(var d in i)if({}.hasOwnProperty.call(i,d)){if(o.includes(d))continue;u[d]=i[d]}return u}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports}}),bC=ba({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(e,r){var s=vC();function i(o,u){if(o==null)return{};var d,f,h=s(o,u);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(o);for(f=0;f<m.length;f++)d=m[f],u.includes(d)||{}.propertyIsEnumerable.call(o,d)&&(h[d]=o[d])}return h}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports}}),w2=ba({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,r){function s(i){"@babel/helpers - typeof";return r.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r.exports.__esModule=!0,r.exports.default=r.exports,s(i)}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports}}),jC=ba({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,r){var s=w2().default;function i(o,u){if(s(o)!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var f=d.call(o,u||"default");if(s(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(o)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports}}),wC=ba({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,r){var s=w2().default,i=jC();function o(u){var d=i(u,"string");return s(d)=="symbol"?d:d+""}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports}}),kC=ba({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,r){var s=wC();function i(o,u,d){return(u=s(u))in o?Object.defineProperty(o,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[u]=d,o}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports}}),Pl=ba({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,r){var s=kC();function i(u,d){var f=Object.keys(u);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(u);d&&(h=h.filter(function(m){return Object.getOwnPropertyDescriptor(u,m).enumerable})),f.push.apply(f,h)}return f}function o(u){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?i(Object(f),!0).forEach(function(h){s(u,h,f[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(f)):i(Object(f)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(f,h))})}return u}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports}}),NC=Ja(bC(),1),Ly=Ja(Pl(),1);const SC=["cursor","direction"];function or(e,r,s){const i=e.flatMap(o=>o.split("."));if(!r&&(!s||s==="any"))return i.length?[i]:[];if(s==="infinite"&&Ga(r)&&("direction"in r||"cursor"in r)){const{cursor:o,direction:u}=r,d=(0,NC.default)(r,SC);return[i,{input:d,type:"infinite"}]}return[i,(0,Ly.default)((0,Ly.default)({},typeof r<"u"&&r!==yn&&{input:r}),s&&s!=="any"&&{type:s})]}function Ac(e){return or(e,void 0,"any")}var CC=Object.create,k2=Object.defineProperty,EC=Object.getOwnPropertyDescriptor,N2=Object.getOwnPropertyNames,MC=Object.getPrototypeOf,RC=Object.prototype.hasOwnProperty,dr=(e,r)=>function(){return r||(0,e[N2(e)[0]])((r={exports:{}}).exports,r),r.exports},TC=(e,r,s,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(var o=N2(r),u=0,d=o.length,f;u<d;u++)f=o[u],!RC.call(e,f)&&f!==s&&k2(e,f,{get:(h=>r[h]).bind(null,f),enumerable:!(i=EC(r,f))||i.enumerable});return e},pt=(e,r,s)=>(s=e!=null?CC(MC(e)):{},TC(k2(s,"default",{value:e,enumerable:!0}),e)),S2=dr({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,r){function s(i){"@babel/helpers - typeof";return r.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r.exports.__esModule=!0,r.exports.default=r.exports,s(i)}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports}}),AC=dr({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,r){var s=S2().default;function i(o,u){if(s(o)!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var f=d.call(o,u||"default");if(s(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(o)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports}}),DC=dr({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,r){var s=S2().default,i=AC();function o(u){var d=i(u,"string");return s(d)=="symbol"?d:d+""}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports}}),es=dr({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,r){var s=DC();function i(o,u,d){return(u=s(u))in o?Object.defineProperty(o,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[u]=d,o}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports}}),Wn=dr({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,r){var s=es();function i(u,d){var f=Object.keys(u);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(u);d&&(h=h.filter(function(m){return Object.getOwnPropertyDescriptor(u,m).enumerable})),f.push.apply(f,h)}return f}function o(u){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?i(Object(f),!0).forEach(function(h){s(u,h,f[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(f)):i(Object(f)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(f,h))})}return u}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports}});function OC(e){return r=>{let s=0,i=null;const o=[];function u(){i||(i=r.subscribe({next(f){for(const m of o){var h;(h=m.next)===null||h===void 0||h.call(m,f)}},error(f){for(const m of o){var h;(h=m.error)===null||h===void 0||h.call(m,f)}},complete(){for(const h of o){var f;(f=h.complete)===null||f===void 0||f.call(h)}}}))}function d(){if(s===0&&i){const f=i;i=null,f.unsubscribe()}}return ku(f=>(s++,o.push(f),u(),{unsubscribe(){s--,d();const h=o.findIndex(m=>m===f);h>-1&&o.splice(h,1)}}))}}function _C(e){let r=e;const s=[],i=d=>{r!==void 0&&d.next(r),s.push(d)},o=d=>{s.splice(s.indexOf(d),1)},u=ku(d=>(i(d),()=>{o(d)}));return u.next=d=>{if(r!==d){r=d;for(const f of s)f.next(d)}},u.get=()=>r,u}function LC(e){return ku(r=>{function s(o=0,u=e.op){const d=e.links[o];if(!d)throw new Error("No more links to execute - did you forget to add an ending link?");return d({op:u,next(h){return s(o+1,h)}})}return s().subscribe(r)})}var gc=pt(es()),Qs=pt(Wn());function zC(e){return e instanceof Xc}function PC(e){return Ga(e)&&Ga(e.error)&&typeof e.error.code=="number"&&typeof e.error.message=="string"}function IC(e,r){return typeof e=="string"?e:Ga(e)&&typeof e.message=="string"?e.message:r}var Xc=class Dc extends Error{constructor(r,s){var i,o;const u=s?.cause;super(r,{cause:u}),(0,gc.default)(this,"cause",void 0),(0,gc.default)(this,"shape",void 0),(0,gc.default)(this,"data",void 0),(0,gc.default)(this,"meta",void 0),this.meta=s?.meta,this.cause=u,this.shape=s==null||(i=s.result)===null||i===void 0?void 0:i.error,this.data=s==null||(o=s.result)===null||o===void 0?void 0:o.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,Dc.prototype)}static from(r,s={}){const i=r;return zC(i)?(s.meta&&(i.meta=(0,Qs.default)((0,Qs.default)({},i.meta),s.meta)),i):PC(i)?new Dc(i.error.message,(0,Qs.default)((0,Qs.default)({},s),{},{result:i})):new Dc(IC(i,"Unknown error"),(0,Qs.default)((0,Qs.default)({},s),{},{cause:i}))}};function UC(e){const r=e;return r?"input"in r?r:{input:r,output:r}:{input:{serialize:s=>s,deserialize:s=>s},output:{serialize:s=>s,deserialize:s=>s}}}const zy=e=>typeof e=="function";function BC(e){if(e)return e;if(typeof window<"u"&&zy(window.fetch))return window.fetch;if(typeof globalThis<"u"&&zy(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}var ml=pt(Wn());function HC(e){return{url:e.url.toString(),fetch:e.fetch,transformer:UC(e.transformer),methodOverride:e.methodOverride}}function $C(e){const r={};for(let s=0;s<e.length;s++){const i=e[s];r[s]=i}return r}const QC={query:"GET",mutation:"POST",subscription:"PATCH"};function C2(e){return"input"in e?e.transformer.input.serialize(e.input):$C(e.inputs.map(r=>e.transformer.input.serialize(r)))}const E2=e=>{const r=e.url.split("?");let i=r[0].replace(/\/$/,"")+"/"+e.path;const o=[];if(r[1]&&o.push(r[1]),"inputs"in e&&o.push("batch=1"),e.type==="query"||e.type==="subscription"){const u=C2(e);u!==void 0&&e.methodOverride!=="POST"&&o.push(`input=${encodeURIComponent(JSON.stringify(u))}`)}return o.length&&(i+="?"+o.join("&")),i},qC=e=>{if(e.type==="query"&&e.methodOverride!=="POST")return;const r=C2(e);return r!==void 0?JSON.stringify(r):void 0},FC=e=>KC((0,ml.default)((0,ml.default)({},e),{},{contentTypeHeader:"application/json",getUrl:E2,getBody:qC}));var VC=class extends Error{constructor(){const e="AbortError";super(e),this.name=e,this.message=e}};const GC=e=>{var r;if(e?.aborted)throw(r=e.throwIfAborted)===null||r===void 0||r.call(e),typeof DOMException<"u"?new DOMException("AbortError","AbortError"):new VC};async function YC(e){var r;GC(e.signal);const s=e.getUrl(e),i=e.getBody(e),o=(r=e.methodOverride)!==null&&r!==void 0?r:QC[e.type],u=await(async()=>{const f=await e.headers();return Symbol.iterator in f?Object.fromEntries(f):f})(),d=(0,ml.default)((0,ml.default)((0,ml.default)({},e.contentTypeHeader&&o!=="GET"?{"content-type":e.contentTypeHeader}:{}),e.trpcAcceptHeader?{"trpc-accept":e.trpcAcceptHeader}:void 0),u);return BC(e.fetch)(s,{method:o,signal:e.signal,body:i,headers:d})}async function KC(e){const r={},s=await YC(e);r.response=s;const i=await s.json();return r.responseJSON=i,{json:i,meta:r}}pt(Wn());const Py=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function Iy(e){let r=null,s=null;const i=()=>{clearTimeout(s),s=null,r=null};function o(f){const h=[[]];let m=0;for(;;){const b=f[m];if(!b)break;const j=h[h.length-1];if(b.aborted){var x;(x=b.reject)===null||x===void 0||x.call(b,new Error("Aborted")),m++;continue}if(e.validate(j.concat(b).map(k=>k.key))){j.push(b),m++;continue}if(j.length===0){var y;(y=b.reject)===null||y===void 0||y.call(b,new Error("Input is too big for a single dispatch")),m++;continue}h.push([])}return h}function u(){const f=o(r);i();for(const h of f){if(!h.length)continue;const m={items:h};for(const y of h)y.batch=m;e.fetch(m.items.map(y=>y.key)).then(async y=>{await Promise.all(y.map(async(j,S)=>{const k=m.items[S];try{var w;const A=await Promise.resolve(j);(w=k.resolve)===null||w===void 0||w.call(k,A)}catch(A){var C;(C=k.reject)===null||C===void 0||C.call(k,A)}k.batch=null,k.reject=null,k.resolve=null}));for(const j of m.items){var b;(b=j.reject)===null||b===void 0||b.call(j,new Error("Missing result")),j.batch=null}}).catch(y=>{for(const j of m.items){var b;(b=j.reject)===null||b===void 0||b.call(j,y),j.batch=null}})}}function d(f){var h;const m={aborted:!1,key:f,batch:null,resolve:Py,reject:Py},x=new Promise((y,b)=>{var j;m.reject=b,m.resolve=y,(j=r)!==null&&j!==void 0||(r=[]),r.push(m)});return(h=s)!==null&&h!==void 0||(s=setTimeout(u)),x}return{load:d}}function WC(...e){const r=new AbortController,s=e.length;let i=0;const o=()=>{++i===s&&r.abort()};for(const u of e)u?.aborted?o():u?.addEventListener("abort",o,{once:!0});return r.signal}var pc=pt(Wn());function XC(e){var r,s;const i=HC(e),o=(r=e.maxURLLength)!==null&&r!==void 0?r:1/0,u=(s=e.maxItems)!==null&&s!==void 0?s:1/0;return()=>{const d=x=>({validate(y){if(o===1/0&&u===1/0)return!0;if(y.length>u)return!1;const b=y.map(k=>k.path).join(","),j=y.map(k=>k.input);return E2((0,pc.default)((0,pc.default)({},i),{},{type:x,path:b,inputs:j,signal:null})).length<=o},async fetch(y){const b=y.map(A=>A.path).join(","),j=y.map(A=>A.input),S=WC(...y.map(A=>A.signal)),k=await FC((0,pc.default)((0,pc.default)({},i),{},{path:b,inputs:j,type:x,headers(){return e.headers?typeof e.headers=="function"?e.headers({opList:y}):e.headers:{}},signal:S}));return(Array.isArray(k.json)?k.json:y.map(()=>k.json)).map(A=>({meta:k.meta,json:A}))}}),f=Iy(d("query")),h=Iy(d("mutation")),m={query:f,mutation:h};return({op:x})=>ku(y=>{if(x.type==="subscription")throw new Error("Subscriptions are unsupported by `httpLink` - use `httpSubscriptionLink` or `wsLink`");const j=m[x.type].load(x);let S;return j.then(k=>{S=k;const w=dC(k.json,i.transformer.output);if(!w.ok){y.error(Xc.from(w.error,{meta:k.meta}));return}y.next({context:k.meta,result:w.result}),y.complete()}).catch(k=>{y.error(Xc.from(k,{meta:S?.meta}))}),()=>{}})}}pt(Wn());const M2=(e,...r)=>typeof e=="function"?e(...r):e;pt(es());function ZC(){let e,r;return{promise:new Promise((i,o)=>{e=i,r=o}),resolve:e,reject:r}}async function JC(e){const r=await M2(e.url);if(!e.connectionParams)return r;const i=`${r.includes("?")?"&":"?"}connectionParams=1`;return r+i}async function e3(e){const r={method:"connectionParams",data:await M2(e)};return JSON.stringify(r)}pt(es());var $a=pt(es());function t3(e){const{promise:r,resolve:s,reject:i}=ZC();return e.addEventListener("open",()=>{e.removeEventListener("error",i),s()}),e.addEventListener("error",i),r}function n3(e,{intervalMs:r,pongTimeoutMs:s}){let i,o;function u(){i=setTimeout(()=>{e.send("PING"),o=setTimeout(()=>{e.close()},s)},r)}function d(){clearTimeout(i),u()}function f(){clearTimeout(o),d()}e.addEventListener("open",u),e.addEventListener("message",({data:h})=>{clearTimeout(i),u(),h==="PONG"&&f()}),e.addEventListener("close",()=>{clearTimeout(i),clearTimeout(o)})}var r3=class rm{constructor(r){var s;if((0,$a.default)(this,"id",++rm.connectCount),(0,$a.default)(this,"WebSocketPonyfill",void 0),(0,$a.default)(this,"urlOptions",void 0),(0,$a.default)(this,"keepAliveOpts",void 0),(0,$a.default)(this,"wsObservable",_C(null)),(0,$a.default)(this,"openPromise",null),this.WebSocketPonyfill=(s=r.WebSocketPonyfill)!==null&&s!==void 0?s:WebSocket,!this.WebSocketPonyfill)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");this.urlOptions=r.urlOptions,this.keepAliveOpts=r.keepAlive}get ws(){return this.wsObservable.get()}set ws(r){this.wsObservable.next(r)}isOpen(){return!!this.ws&&this.ws.readyState===this.WebSocketPonyfill.OPEN&&!this.openPromise}isClosed(){return!!this.ws&&(this.ws.readyState===this.WebSocketPonyfill.CLOSING||this.ws.readyState===this.WebSocketPonyfill.CLOSED)}async open(){var r=this;if(r.openPromise)return r.openPromise;r.id=++rm.connectCount;const s=JC(r.urlOptions).then(i=>new r.WebSocketPonyfill(i));r.openPromise=s.then(async i=>{r.ws=i,i.addEventListener("message",function({data:o}){o==="PING"&&this.send("PONG")}),r.keepAliveOpts.enabled&&n3(i,r.keepAliveOpts),i.addEventListener("close",()=>{r.ws===i&&(r.ws=null)}),await t3(i),r.urlOptions.connectionParams&&i.send(await e3(r.urlOptions.connectionParams))});try{await r.openPromise}finally{r.openPromise=null}}async close(){var r=this;try{await r.openPromise}finally{var s;(s=r.ws)===null||s===void 0||s.close()}}};(0,$a.default)(r3,"connectCount",0);pt(es());pt(Wn());var ch=pt(es()),Uy=pt(Wn()),Nu=class{constructor(e){(0,ch.default)(this,"links",void 0),(0,ch.default)(this,"runtime",void 0),(0,ch.default)(this,"requestId",void 0),this.requestId=0,this.runtime={},this.links=e.links.map(r=>r(this.runtime))}$request(e){var r;return LC({links:this.links,op:(0,Uy.default)((0,Uy.default)({},e),{},{context:(r=e.context)!==null&&r!==void 0?r:{},id:++this.requestId})}).pipe(OC())}async requestAsPromise(e){var r=this;try{const s=r.$request(e);return(await hC(s)).result.data}catch(s){throw Xc.from(s)}}query(e,r,s){return this.requestAsPromise({type:"query",path:e,input:r,context:s?.context,signal:s?.signal})}mutation(e,r,s){return this.requestAsPromise({type:"mutation",path:e,input:r,context:s?.context,signal:s?.signal})}subscription(e,r,s){return this.$request({type:"subscription",path:e,input:r,context:s.context,signal:s.signal}).subscribe({next(o){switch(o.result.type){case"state":{var u;(u=s.onConnectionStateChange)===null||u===void 0||u.call(s,o.result);break}case"started":{var d;(d=s.onStarted)===null||d===void 0||d.call(s,{context:o.context});break}case"stopped":{var f;(f=s.onStopped)===null||f===void 0||f.call(s);break}case"data":case void 0:{var h;(h=s.onData)===null||h===void 0||h.call(s,o.result.data);break}}},error(o){var u;(u=s.onError)===null||u===void 0||u.call(s,o)},complete(){var o;(o=s.onComplete)===null||o===void 0||o.call(s)}})}};const R2=Symbol.for("trpc_untypedClient"),a3={query:"query",mutate:"mutation",subscribe:"subscription"},s3=e=>a3[e];function T2(e){const r=wu(({path:s,args:i})=>{const o=[...s],u=s3(o.pop()),d=o.join(".");return e[u](d,...i)});return Rm(s=>s===R2?e:r[s])}function i3(e){const r=new Nu(e);return T2(r)}function Am(e){return e[R2]}pt(Wn());pt(Wn());var l3=dr({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,r){function s(o){var u,d,f,h=2;for(typeof Symbol<"u"&&(d=Symbol.asyncIterator,f=Symbol.iterator);h--;){if(d&&(u=o[d])!=null)return u.call(o);if(f&&(u=o[f])!=null)return new i(u.call(o));d="@@asyncIterator",f="@@iterator"}throw new TypeError("Object is not async iterable")}function i(o){function u(d){if(Object(d)!==d)return Promise.reject(new TypeError(d+" is not an object."));var f=d.done;return Promise.resolve(d.value).then(function(h){return{value:h,done:f}})}return i=function(f){this.s=f,this.n=f.next},i.prototype={s:null,n:null,next:function(){return u(this.n.apply(this.s,arguments))},return:function(f){var h=this.s.return;return h===void 0?Promise.resolve({value:f,done:!0}):u(h.apply(this.s,arguments))},throw:function(f){var h=this.s.return;return h===void 0?Promise.reject(f):u(h.apply(this.s,arguments))}},new i(o)}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports}});pt(l3());pt(Wn());var o3=dr({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(e,r){function s(){var i=typeof SuppressedError=="function"?SuppressedError:function(f,h){var m=Error();return m.name="SuppressedError",m.error=f,m.suppressed=h,m},o={},u=[];function d(f,h){if(h!=null){if(Object(h)!==h)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(f)var m=h[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(m===void 0&&(m=h[Symbol.dispose||Symbol.for("Symbol.dispose")],f))var x=m;if(typeof m!="function")throw new TypeError("Object is not disposable.");x&&(m=function(){try{x.call(h)}catch(b){return Promise.reject(b)}}),u.push({v:h,d:m,a:f})}else f&&u.push({d:h,a:f});return h}return{e:o,u:d.bind(null,!1),a:d.bind(null,!0),d:function(){var h,m=this.e,x=0;function y(){for(;h=u.pop();)try{if(!h.a&&x===1)return x=0,u.push(h),Promise.resolve().then(y);if(h.d){var j=h.d.call(h.v);if(h.a)return x|=2,Promise.resolve(j).then(y,b)}else x|=1}catch(S){return b(S)}if(x===1)return m!==o?Promise.reject(m):Promise.resolve();if(m!==o)throw m}function b(j){return m=m!==o?new i(j,m):j,y()}return y()}}}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports}}),A2=dr({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(e,r){function s(i,o){this.v=i,this.k=o}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports}}),c3=dr({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(e,r){var s=A2();function i(o){return new s(o,0)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports}}),u3=dr({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(e,r){var s=A2();function i(u){return function(){return new o(u.apply(this,arguments))}}function o(u){var d,f;function h(x,y){try{var b=u[x](y),j=b.value,S=j instanceof s;Promise.resolve(S?j.v:j).then(function(k){if(S){var w=x==="return"?"return":"next";if(!j.k||k.done)return h(w,k);k=u[w](k).value}m(b.done?"return":"normal",k)},function(k){h("throw",k)})}catch(k){m("throw",k)}}function m(x,y){switch(x){case"return":d.resolve({value:y,done:!0});break;case"throw":d.reject(y);break;default:d.resolve({value:y,done:!1})}(d=d.next)?h(d.key,d.arg):f=null}this._invoke=function(x,y){return new Promise(function(b,j){var S={key:x,arg:y,resolve:b,reject:j,next:null};f?f=f.next=S:(d=f=S,h(x,y))})},typeof u.return!="function"&&(this.return=void 0)}o.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(u){return this._invoke("next",u)},o.prototype.throw=function(u){return this._invoke("throw",u)},o.prototype.return=function(u){return this._invoke("return",u)},r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports}});pt(o3());pt(c3());pt(u3());pt(Wn());function d3(e){return wu(({path:r,args:s})=>{var i;const o=[...r],u=o.pop();if(u==="useMutation")return e[u](o,...s);if(u==="_def")return{path:o};const[d,...f]=s,h=(i=f[0])!==null&&i!==void 0?i:{};return e[u](o,d,h)})}var uh;const f3=["client","ssrContext","ssrState","abortOnUnmount"],h3=(uh=v.createContext)===null||uh===void 0?void 0:uh.call(du,null),m3=e=>{switch(e){case"queryOptions":case"fetch":case"ensureData":case"prefetch":case"getData":case"setData":case"setQueriesData":return"query";case"infiniteQueryOptions":case"fetchInfinite":case"prefetchInfinite":case"getInfiniteData":case"setInfiniteData":return"infinite";case"setMutationDefaults":case"getMutationDefaults":case"isMutating":case"cancel":case"invalidate":case"refetch":case"reset":return"any"}};function g3(e){return wu(r=>{const s=[...r.path],i=s.pop(),o=[...r.args],u=o.shift(),d=m3(i),f=or(s,u,d);return{infiniteQueryOptions:()=>e.infiniteQueryOptions(s,f,o[0]),queryOptions:()=>e.queryOptions(s,f,...o),fetch:()=>e.fetchQuery(f,...o),fetchInfinite:()=>e.fetchInfiniteQuery(f,o[0]),prefetch:()=>e.prefetchQuery(f,...o),prefetchInfinite:()=>e.prefetchInfiniteQuery(f,o[0]),ensureData:()=>e.ensureQueryData(f,...o),invalidate:()=>e.invalidateQueries(f,...o),reset:()=>e.resetQueries(f,...o),refetch:()=>e.refetchQueries(f,...o),cancel:()=>e.cancelQuery(f,...o),setData:()=>{e.setQueryData(f,o[0],o[1])},setQueriesData:()=>e.setQueriesData(f,o[0],o[1],o[2]),setInfiniteData:()=>{e.setInfiniteQueryData(f,o[0],o[1])},getData:()=>e.getQueryData(f),getInfiniteData:()=>e.getInfiniteQueryData(f),setMutationDefaults:()=>e.setMutationDefaults(Ac(s),u),getMutationDefaults:()=>e.getMutationDefaults(Ac(s)),isMutating:()=>e.isMutating({mutationKey:Ac(s)})}[i]()})}function p3(e){const r=T2(e.client),s=g3(e);return Rm(i=>{const o=i;return o==="client"?r:f3.includes(o)?e[o]:s[i]})}var x3=Ja(Pl(),1);function By(e){const r=e instanceof Nu?e:Am(e);return wu(s=>{const i=s.path,o=i.join("."),[u,d]=s.args;return(0,x3.default)({queryKey:or(i,u,"query"),queryFn:()=>r.query(o,u,d?.trpc)},d)})}var dh=Ja(Pl(),1);function Gt(e,r,s){var i;const o=e[0];let u=(i=e[1])===null||i===void 0?void 0:i.input;if(s){var d;u=(0,dh.default)((0,dh.default)((0,dh.default)({},(d=u)!==null&&d!==void 0?d:{}),s.pageParam?{cursor:s.pageParam}:{}),{},{direction:s.direction})}return[o.join("."),u,r?.trpc]}var y3=ba({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,r){function s(o){var u,d,f,h=2;for(typeof Symbol<"u"&&(d=Symbol.asyncIterator,f=Symbol.iterator);h--;){if(d&&(u=o[d])!=null)return u.call(o);if(f&&(u=o[f])!=null)return new i(u.call(o));d="@@asyncIterator",f="@@iterator"}throw new TypeError("Object is not async iterable")}function i(o){function u(d){if(Object(d)!==d)return Promise.reject(new TypeError(d+" is not an object."));var f=d.done;return Promise.resolve(d.value).then(function(h){return{value:h,done:f}})}return i=function(f){this.s=f,this.n=f.next},i.prototype={s:null,n:null,next:function(){return u(this.n.apply(this.s,arguments))},return:function(f){var h=this.s.return;return h===void 0?Promise.resolve({value:f,done:!0}):u(h.apply(this.s,arguments))},throw:function(f){var h=this.s.return;return h===void 0?Promise.reject(f):u(h.apply(this.s,arguments))}},new i(o)}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports}}),v3=Ja(y3(),1);function am(e){return{path:e.path.join(".")}}function ol(e){const r=am(e);return v.useMemo(()=>r,[r])}async function D2(e,r,s){const o=r.getQueryCache().build(r,{queryKey:s});o.setState({data:[],status:"success"});const u=[];var d=!1,f=!1,h;try{for(var m=(0,v3.default)(e),x;d=!(x=await m.next()).done;d=!1){const y=x.value;u.push(y),o.setState({data:[...u]})}}catch(y){f=!0,h=y}finally{try{d&&m.return!=null&&await m.return()}finally{if(f)throw h}}return u}var Ve=Ja(Pl(),1);function b3(e){const{client:r,queryClient:s}=e,i=r instanceof Nu?r:Am(r);return{infiniteQueryOptions:(o,u,d)=>{var f,h;const m=((f=u[1])===null||f===void 0?void 0:f.input)===yn,x=async y=>{var b;const j=(0,Ve.default)((0,Ve.default)({},d),{},{trpc:(0,Ve.default)((0,Ve.default)({},d?.trpc),!(d==null||(b=d.trpc)===null||b===void 0)&&b.abortOnUnmount?{signal:y.signal}:{signal:null})});return await i.query(...Gt(u,j,{direction:y.direction,pageParam:y.pageParam}))};return Object.assign((0,Ve.default)((0,Ve.default)({},d),{},{initialData:d?.initialData,queryKey:u,queryFn:m?yn:x,initialPageParam:(h=d?.initialCursor)!==null&&h!==void 0?h:null}),{trpc:am({path:o})})},queryOptions:(o,u,d)=>{var f;const h=((f=u[1])===null||f===void 0?void 0:f.input)===yn,m=async x=>{var y;const b=(0,Ve.default)((0,Ve.default)({},d),{},{trpc:(0,Ve.default)((0,Ve.default)({},d?.trpc),!(d==null||(y=d.trpc)===null||y===void 0)&&y.abortOnUnmount?{signal:x.signal}:{signal:null})}),j=await i.query(...Gt(u,b));return h2(j)?D2(j,s,u):j};return Object.assign((0,Ve.default)((0,Ve.default)({},d),{},{initialData:d?.initialData,queryKey:u,queryFn:h?yn:m}),{trpc:am({path:o})})},fetchQuery:(o,u)=>s.fetchQuery((0,Ve.default)((0,Ve.default)({},u),{},{queryKey:o,queryFn:()=>i.query(...Gt(o,u))})),fetchInfiniteQuery:(o,u)=>{var d;return s.fetchInfiniteQuery((0,Ve.default)((0,Ve.default)({},u),{},{queryKey:o,queryFn:({pageParam:f,direction:h})=>i.query(...Gt(o,u,{pageParam:f,direction:h})),initialPageParam:(d=u?.initialCursor)!==null&&d!==void 0?d:null}))},prefetchQuery:(o,u)=>s.prefetchQuery((0,Ve.default)((0,Ve.default)({},u),{},{queryKey:o,queryFn:()=>i.query(...Gt(o,u))})),prefetchInfiniteQuery:(o,u)=>{var d;return s.prefetchInfiniteQuery((0,Ve.default)((0,Ve.default)({},u),{},{queryKey:o,queryFn:({pageParam:f,direction:h})=>i.query(...Gt(o,u,{pageParam:f,direction:h})),initialPageParam:(d=u?.initialCursor)!==null&&d!==void 0?d:null}))},ensureQueryData:(o,u)=>s.ensureQueryData((0,Ve.default)((0,Ve.default)({},u),{},{queryKey:o,queryFn:()=>i.query(...Gt(o,u))})),invalidateQueries:(o,u,d)=>s.invalidateQueries((0,Ve.default)((0,Ve.default)({},u),{},{queryKey:o}),d),resetQueries:(o,u,d)=>s.resetQueries((0,Ve.default)((0,Ve.default)({},u),{},{queryKey:o}),d),refetchQueries:(o,u,d)=>s.refetchQueries((0,Ve.default)((0,Ve.default)({},u),{},{queryKey:o}),d),cancelQuery:(o,u)=>s.cancelQueries({queryKey:o},u),setQueryData:(o,u,d)=>s.setQueryData(o,u,d),setQueriesData:(o,u,d,f)=>s.setQueriesData((0,Ve.default)((0,Ve.default)({},u),{},{queryKey:o}),d,f),getQueryData:o=>s.getQueryData(o),setInfiniteQueryData:(o,u,d)=>s.setQueryData(o,u,d),getInfiniteQueryData:o=>s.getQueryData(o),setMutationDefaults:(o,u)=>{const d=o[0],f=h=>i.mutation(...Gt([d,{input:h}],e));return s.setMutationDefaults(o,typeof u=="function"?u({canonicalMutationFn:f}):u)},getMutationDefaults:o=>s.getMutationDefaults(o),isMutating:o=>s.isMutating((0,Ve.default)((0,Ve.default)({},o),{},{exact:!0}))}}var oe=Ja(Pl());const Hy=(e,r)=>new Proxy(e,{get(i,o){return r(o),i[o]}});function j3(e){var r,s;const i=(r=void 0)!==null&&r!==void 0?r:T=>T.originalFn(),o=(s=void 0)!==null&&s!==void 0?s:h3,u=i3,d=T=>{var L;const{abortOnUnmount:E=!1,queryClient:D,ssrContext:P}=T,[K,Y]=v.useState((L=T.ssrState)!==null&&L!==void 0?L:!1),ae=T.client instanceof Nu?T.client:Am(T.client),ie=v.useMemo(()=>b3({client:ae,queryClient:D}),[ae,D]),le=v.useMemo(()=>(0,oe.default)({abortOnUnmount:E,queryClient:D,client:ae,ssrContext:P??null,ssrState:K},ie),[E,ae,ie,D,P,K]);return v.useEffect(()=>{Y(ue=>ue?"mounted":!1)},[]),n.jsx(o.Provider,{value:le,children:T.children})};function f(){const T=v.useContext(o);if(!T)throw new Error("Unable to find tRPC Context. Did you forget to wrap your App inside `withTRPC` HoC?");return T}function h(T,L){var E;const{queryClient:D,ssrState:P}=f();return P&&P!=="mounted"&&((E=D.getQueryCache().find({queryKey:T}))===null||E===void 0?void 0:E.state.status)==="error"?(0,oe.default)({retryOnMount:!1},L):L}function m(T,L,E){var D,P,K,Y,ae;const ie=f(),{abortOnUnmount:le,client:ue,ssrState:H,queryClient:Q,prefetchQuery:I}=ie,ne=or(T,L,"query"),ce=Q.getQueryDefaults(ne),_=L===yn;typeof window>"u"&&H==="prepass"&&(E==null||(D=E.trpc)===null||D===void 0?void 0:D.ssr)!==!1&&((P=E?.enabled)!==null&&P!==void 0?P:ce?.enabled)!==!1&&!_&&!Q.getQueryCache().find({queryKey:ne})&&I(ne,E);const B=h(ne,(0,oe.default)((0,oe.default)({},ce),E)),X=(K=(Y=E==null||(ae=E.trpc)===null||ae===void 0?void 0:ae.abortOnUnmount)!==null&&Y!==void 0?Y:void 0)!==null&&K!==void 0?K:le,ee=LS((0,oe.default)((0,oe.default)({},B),{},{queryKey:ne,queryFn:_?L:async se=>{const fe=(0,oe.default)((0,oe.default)({},B),{},{trpc:(0,oe.default)((0,oe.default)({},B?.trpc),X?{signal:se.signal}:{signal:null})}),ye=await ue.query(...Gt(ne,fe));return h2(ye)?D2(ye,Q,ne):ye}}),Q);return ee.trpc=ol({path:T}),ee}function x(T,L,E){var D,P,K;const Y=f(),ae=or(T,L,"query"),ie=L===yn,le=(D=(P=E==null||(K=E.trpc)===null||K===void 0?void 0:K.abortOnUnmount)!==null&&P!==void 0?P:void 0)!==null&&D!==void 0?D:Y.abortOnUnmount;US((0,oe.default)((0,oe.default)({},E),{},{queryKey:ae,queryFn:ie?L:ue=>{const H={trpc:(0,oe.default)((0,oe.default)({},E?.trpc),le?{signal:ue.signal}:{})};return Y.client.query(...Gt(ae,H))}}))}function y(T,L,E){var D,P,K;const Y=f(),ae=or(T,L,"query"),ie=(D=(P=E==null||(K=E.trpc)===null||K===void 0?void 0:K.abortOnUnmount)!==null&&P!==void 0?P:void 0)!==null&&D!==void 0?D:Y.abortOnUnmount,le=zS((0,oe.default)((0,oe.default)({},E),{},{queryKey:ae,queryFn:ue=>{const H=(0,oe.default)((0,oe.default)({},E),{},{trpc:(0,oe.default)((0,oe.default)({},E?.trpc),ie?{signal:ue.signal}:{signal:null})});return Y.client.query(...Gt(ae,H))}}),Y.queryClient);return le.trpc=ol({path:T}),[le.data,le]}function b(T,L){const{client:E,queryClient:D}=f(),P=Ac(T),K=D.defaultMutationOptions(D.getMutationDefaults(P)),Y=HS((0,oe.default)((0,oe.default)({},L),{},{mutationKey:P,mutationFn:ae=>E.mutation(...Gt([T,{input:ae}],L)),onSuccess(...ae){var ie,le;return i({originalFn:()=>{var H,Q,I;return(H=L==null||(Q=L.onSuccess)===null||Q===void 0?void 0:Q.call(L,...ae))!==null&&H!==void 0?H:K==null||(I=K.onSuccess)===null||I===void 0?void 0:I.call(K,...ae)},queryClient:D,meta:(ie=(le=L?.meta)!==null&&le!==void 0?le:K?.meta)!==null&&ie!==void 0?ie:{}})}}),D);return Y.trpc=ol({path:T}),Y}const j={data:void 0,error:null,status:"idle"},S={data:void 0,error:null,status:"connecting"};function k(T,L,E){var D;const P=(D=E?.enabled)!==null&&D!==void 0?D:L!==yn,K=ya(or(T,L,"any")),{client:Y}=f(),ae=v.useRef(E);v.useEffect(()=>{ae.current=E});const[ie]=v.useState(new Set([])),le=v.useCallback(_=>{ie.add(_)},[ie]),ue=v.useRef(null),H=v.useCallback(_=>{const B=I.current,X=I.current=_(B);let ee=!1;for(const se of ie)if(B[se]!==X[se]){ee=!0;break}ee&&ce(Hy(X,le))},[le,ie]),Q=v.useCallback(()=>{var _;if((_=ue.current)===null||_===void 0||_.unsubscribe(),!P){H(()=>(0,oe.default)((0,oe.default)({},j),{},{reset:Q}));return}H(()=>(0,oe.default)((0,oe.default)({},S),{},{reset:Q}));const B=Y.subscription(T.join("."),L??void 0,{onStarted:()=>{var X,ee;(X=(ee=ae.current).onStarted)===null||X===void 0||X.call(ee),H(se=>(0,oe.default)((0,oe.default)({},se),{},{status:"pending",error:null}))},onData:X=>{var ee,se;(ee=(se=ae.current).onData)===null||ee===void 0||ee.call(se,X),H(fe=>(0,oe.default)((0,oe.default)({},fe),{},{status:"pending",data:X,error:null}))},onError:X=>{var ee,se;(ee=(se=ae.current).onError)===null||ee===void 0||ee.call(se,X),H(fe=>(0,oe.default)((0,oe.default)({},fe),{},{status:"error",error:X}))},onConnectionStateChange:X=>{H(ee=>{switch(X.state){case"idle":return(0,oe.default)((0,oe.default)({},ee),{},{status:X.state,error:null,data:void 0});case"connecting":return(0,oe.default)((0,oe.default)({},ee),{},{error:X.error,status:X.state});case"pending":return ee}})},onComplete:()=>{var X,ee;(X=(ee=ae.current).onComplete)===null||X===void 0||X.call(ee),H(se=>(0,oe.default)((0,oe.default)({},se),{},{status:"idle",error:null,data:void 0}))}});ue.current=B},[Y,K,P,H]);v.useEffect(()=>(Q(),()=>{var _;(_=ue.current)===null||_===void 0||_.unsubscribe()}),[Q]);const I=v.useRef(P?(0,oe.default)((0,oe.default)({},S),{},{reset:Q}):(0,oe.default)((0,oe.default)({},j),{},{reset:Q})),[ne,ce]=v.useState(Hy(I.current,le));return ne}function w(T,L,E){var D,P,K,Y,ae;const{client:ie,ssrState:le,prefetchInfiniteQuery:ue,queryClient:H,abortOnUnmount:Q}=f(),I=or(T,L,"infinite"),ne=H.getQueryDefaults(I),ce=L===yn;typeof window>"u"&&le==="prepass"&&(E==null||(D=E.trpc)===null||D===void 0?void 0:D.ssr)!==!1&&((P=E?.enabled)!==null&&P!==void 0?P:ne?.enabled)!==!1&&!ce&&!H.getQueryCache().find({queryKey:I})&&ue(I,(0,oe.default)((0,oe.default)({},ne),E));const _=h(I,(0,oe.default)((0,oe.default)({},ne),E)),B=(K=E==null||(Y=E.trpc)===null||Y===void 0?void 0:Y.abortOnUnmount)!==null&&K!==void 0?K:Q,X=$S((0,oe.default)((0,oe.default)({},_),{},{initialPageParam:(ae=E.initialCursor)!==null&&ae!==void 0?ae:null,persister:E.persister,queryKey:I,queryFn:ce?L:ee=>{var se;const fe=(0,oe.default)((0,oe.default)({},_),{},{trpc:(0,oe.default)((0,oe.default)({},_?.trpc),B?{signal:ee.signal}:{signal:null})});return ie.query(...Gt(I,fe,{pageParam:(se=ee.pageParam)!==null&&se!==void 0?se:E.initialCursor,direction:ee.direction}))}}),H);return X.trpc=ol({path:T}),X}function C(T,L,E){var D,P,K;const Y=f(),ae=or(T,L,"infinite"),ie=Y.queryClient.getQueryDefaults(ae),le=L===yn,ue=h(ae,(0,oe.default)((0,oe.default)({},ie),E)),H=(D=E==null||(P=E.trpc)===null||P===void 0?void 0:P.abortOnUnmount)!==null&&D!==void 0?D:Y.abortOnUnmount;BS((0,oe.default)((0,oe.default)({},E),{},{initialPageParam:(K=E.initialCursor)!==null&&K!==void 0?K:null,queryKey:ae,queryFn:le?L:Q=>{var I;const ne=(0,oe.default)((0,oe.default)({},ue),{},{trpc:(0,oe.default)((0,oe.default)({},ue?.trpc),H?{signal:Q.signal}:{})});return Y.client.query(...Gt(ae,ne,{pageParam:(I=Q.pageParam)!==null&&I!==void 0?I:E.initialCursor,direction:Q.direction}))}}))}function A(T,L,E){var D,P,K;const Y=f(),ae=or(T,L,"infinite"),ie=Y.queryClient.getQueryDefaults(ae),le=h(ae,(0,oe.default)((0,oe.default)({},ie),E)),ue=(D=E==null||(P=E.trpc)===null||P===void 0?void 0:P.abortOnUnmount)!==null&&D!==void 0?D:Y.abortOnUnmount,H=PS((0,oe.default)((0,oe.default)({},E),{},{initialPageParam:(K=E.initialCursor)!==null&&K!==void 0?K:null,queryKey:ae,queryFn:Q=>{var I;const ne=(0,oe.default)((0,oe.default)({},le),{},{trpc:(0,oe.default)((0,oe.default)({},le?.trpc),ue?{signal:Q.signal}:{})});return Y.client.query(...Gt(ae,ne,{pageParam:(I=Q.pageParam)!==null&&I!==void 0?I:E.initialCursor,direction:Q.direction}))}}),Y.queryClient);return H.trpc=ol({path:T}),[H.data,H]}return{Provider:d,createClient:u,useContext:f,useUtils:f,useQuery:m,usePrefetchQuery:x,useSuspenseQuery:y,useQueries:(T,L)=>{const{ssrState:E,queryClient:D,prefetchQuery:P,client:K}=f(),Y=By(K),ae=T(Y);if(typeof window>"u"&&E==="prepass")for(const le of ae){var ie;const ue=le;((ie=ue.trpc)===null||ie===void 0?void 0:ie.ssr)!==!1&&!D.getQueryCache().find({queryKey:ue.queryKey})&&P(ue.queryKey,ue)}return Qb({queries:ae.map(le=>(0,oe.default)((0,oe.default)({},le),{},{queryKey:le.queryKey})),combine:L?.combine},D)},useSuspenseQueries:T=>{const{queryClient:L,client:E}=f(),D=By(E),P=T(D),K=IS({queries:P.map(Y=>(0,oe.default)((0,oe.default)({},Y),{},{queryFn:Y.queryFn,queryKey:Y.queryKey}))},L);return[K.map(Y=>Y.data),K]},useMutation:b,useSubscription:k,useInfiniteQuery:w,usePrefetchInfiniteQuery:C,useSuspenseInfiniteQuery:A}}function w3(e){const r=d3(e);return Rm(s=>s==="useContext"||s==="useUtils"?()=>{const i=e.useUtils();return v.useMemo(()=>p3(i),[i])}:e.hasOwnProperty(s)?e[s]:r[s])}function k3(e){const r=j3();return w3(r)}const N3="kanbu_token",q=k3(),$y=new AS({defaultOptions:{queries:{staleTime:300*1e3,retry:1}}}),S3=q.createClient({links:[XC({url:"/trpc",headers(){const e=localStorage.getItem(N3);return e?{Authorization:`Bearer ${e}`}:{}}})]});var Qy="popstate";function C3(e={}){function r(i,o){let{pathname:u,search:d,hash:f}=i.location;return sm("",{pathname:u,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(i,o){return typeof o=="string"?o:Nl(o)}return M3(r,s,null,e)}function it(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Un(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function E3(){return Math.random().toString(36).substring(2,10)}function qy(e,r){return{usr:e.state,key:e.key,idx:r}}function sm(e,r,s=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?ii(r):r,state:s,key:r&&r.key||i||E3()}}function Nl({pathname:e="/",search:r="",hash:s=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ii(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substring(s),e=e.substring(0,s));let i=e.indexOf("?");i>=0&&(r.search=e.substring(i),e=e.substring(0,i)),e&&(r.pathname=e)}return r}function M3(e,r,s,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,f="POP",h=null,m=x();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function x(){return(d.state||{idx:null}).idx}function y(){f="POP";let w=x(),C=w==null?null:w-m;m=w,h&&h({action:f,location:k.location,delta:C})}function b(w,C){f="PUSH";let A=sm(k.location,w,C);m=x()+1;let R=qy(A,m),O=k.createHref(A);try{d.pushState(R,"",O)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(O)}u&&h&&h({action:f,location:k.location,delta:1})}function j(w,C){f="REPLACE";let A=sm(k.location,w,C);m=x();let R=qy(A,m),O=k.createHref(A);d.replaceState(R,"",O),u&&h&&h({action:f,location:k.location,delta:0})}function S(w){return R3(w)}let k={get action(){return f},get location(){return e(o,d)},listen(w){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Qy,y),h=w,()=>{o.removeEventListener(Qy,y),h=null}},createHref(w){return r(o,w)},createURL:S,encodeLocation(w){let C=S(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:j,go(w){return d.go(w)}};return k}function R3(e,r=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),it(s,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Nl(e);return i=i.replace(/ $/,"%20"),!r&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function O2(e,r,s="/"){return T3(e,r,s,!1)}function T3(e,r,s,i){let o=typeof r=="string"?ii(r):r,u=Br(o.pathname||"/",s);if(u==null)return null;let d=_2(e);A3(d);let f=null;for(let h=0;f==null&&h<d.length;++h){let m=$3(u);f=B3(d[h],m,i)}return f}function _2(e,r=[],s=[],i="",o=!1){let u=(d,f,h=o,m)=>{let x={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&h)return;it(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let y=Ir([i,x.relativePath]),b=s.concat(x);d.children&&d.children.length>0&&(it(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),_2(d.children,r,b,y,h)),!(d.path==null&&!d.index)&&r.push({path:y,score:I3(y,d.index),routesMeta:b})};return e.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))u(d,f);else for(let h of L2(d.path))u(d,f,!0,h)}),r}function L2(e){let r=e.split("/");if(r.length===0)return[];let[s,...i]=r,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=L2(i.join("/")),f=[];return f.push(...d.map(h=>h===""?u:[u,h].join("/"))),o&&f.push(...d),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function A3(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:U3(r.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var D3=/^:[\w-]+$/,O3=3,_3=2,L3=1,z3=10,P3=-2,Fy=e=>e==="*";function I3(e,r){let s=e.split("/"),i=s.length;return s.some(Fy)&&(i+=P3),r&&(i+=_3),s.filter(o=>!Fy(o)).reduce((o,u)=>o+(D3.test(u)?O3:u===""?L3:z3),i)}function U3(e,r){return e.length===r.length&&e.slice(0,-1).every((i,o)=>i===r[o])?e[e.length-1]-r[r.length-1]:0}function B3(e,r,s=!1){let{routesMeta:i}=e,o={},u="/",d=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,x=u==="/"?r:r.slice(u.length)||"/",y=Zc({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},x),b=h.route;if(!y&&m&&s&&!i[i.length-1].route.index&&(y=Zc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},x)),!y)return null;Object.assign(o,y.params),d.push({params:o,pathname:Ir([u,y.pathname]),pathnameBase:V3(Ir([u,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(u=Ir([u,y.pathnameBase]))}return d}function Zc(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,i]=H3(e.path,e.caseSensitive,e.end),o=r.match(s);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,{paramName:x,isOptional:y},b)=>{if(x==="*"){let S=f[b]||"";d=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const j=f[b];return y&&!j?m[x]=void 0:m[x]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:e}}function H3(e,r=!1,s=!0){Un(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),i]}function $3(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Un(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function Br(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,i=e.charAt(s);return i&&i!=="/"?null:e.slice(s)||"/"}var z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q3=e=>z2.test(e);function q3(e,r="/"){let{pathname:s,search:i="",hash:o=""}=typeof e=="string"?ii(e):e,u;if(s)if(Q3(s))u=s;else{if(s.includes("//")){let d=s;s=s.replace(/\/\/+/g,"/"),Un(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${s}`)}s.startsWith("/")?u=Vy(s.substring(1),"/"):u=Vy(s,r)}else u=r;return{pathname:u,search:G3(i),hash:Y3(o)}}function Vy(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function fh(e,r,s,i){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F3(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function Dm(e){let r=F3(e);return r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase)}function Om(e,r,s,i=!1){let o;typeof e=="string"?o=ii(e):(o={...e},it(!o.pathname||!o.pathname.includes("?"),fh("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),fh("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),fh("#","search","hash",o)));let u=e===""||o.pathname==="",d=u?"/":o.pathname,f;if(d==null)f=s;else{let y=r.length-1;if(!i&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}f=y>=0?r[y]:"/"}let h=q3(o,f),m=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(m||x)&&(h.pathname+="/"),h}var Ir=e=>e.join("/").replace(/\/\/+/g,"/"),V3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Y3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,K3=class{constructor(e,r,s,i=!1){this.status=e,this.statusText=r||"",this.internal=i,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function W3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function X3(e){return e.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var P2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function I2(e,r){let s=e;if(typeof s!="string"||!z2.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let i=s,o=!1;if(P2)try{let u=new URL(window.location.href),d=s.startsWith("//")?new URL(u.protocol+s):new URL(s),f=Br(d.pathname,r);d.origin===u.origin&&f!=null?s=f+d.search+d.hash:o=!0}catch{Un(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var U2=["POST","PUT","PATCH","DELETE"];new Set(U2);var Z3=["GET",...U2];new Set(Z3);var li=v.createContext(null);li.displayName="DataRouter";var Su=v.createContext(null);Su.displayName="DataRouterState";var J3=v.createContext(!1),B2=v.createContext({isTransitioning:!1});B2.displayName="ViewTransition";var e5=v.createContext(new Map);e5.displayName="Fetchers";var t5=v.createContext(null);t5.displayName="Await";var bn=v.createContext(null);bn.displayName="Navigation";var Il=v.createContext(null);Il.displayName="Location";var Xn=v.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var _m=v.createContext(null);_m.displayName="RouteError";var H2="REACT_ROUTER_ERROR",n5="REDIRECT",r5="ROUTE_ERROR_RESPONSE";function a5(e){if(e.startsWith(`${H2}:${n5}:{`))try{let r=JSON.parse(e.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function s5(e){if(e.startsWith(`${H2}:${r5}:{`))try{let r=JSON.parse(e.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new K3(r.status,r.statusText,r.data)}catch{}}function i5(e,{relative:r}={}){it(oi(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=v.useContext(bn),{hash:o,pathname:u,search:d}=Ul(e,{relative:r}),f=u;return s!=="/"&&(f=u==="/"?s:Ir([s,u])),i.createHref({pathname:f,search:d,hash:o})}function oi(){return v.useContext(Il)!=null}function Zn(){return it(oi(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Il).location}var $2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q2(e){v.useContext(bn).static||v.useLayoutEffect(e)}function Ct(){let{isDataRoute:e}=v.useContext(Xn);return e?v5():l5()}function l5(){it(oi(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(li),{basename:r,navigator:s}=v.useContext(bn),{matches:i}=v.useContext(Xn),{pathname:o}=Zn(),u=JSON.stringify(Dm(i)),d=v.useRef(!1);return Q2(()=>{d.current=!0}),v.useCallback((h,m={})=>{if(Un(d.current,$2),!d.current)return;if(typeof h=="number"){s.go(h);return}let x=Om(h,JSON.parse(u),o,m.relative==="path");e==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:Ir([r,x.pathname])),(m.replace?s.replace:s.push)(x,m.state,m)},[r,s,u,o,e])}v.createContext(null);function Jn(){let{matches:e}=v.useContext(Xn),r=e[e.length-1];return r?r.params:{}}function Ul(e,{relative:r}={}){let{matches:s}=v.useContext(Xn),{pathname:i}=Zn(),o=JSON.stringify(Dm(s));return v.useMemo(()=>Om(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function o5(e,r){return q2(e,r)}function q2(e,r,s,i,o){it(oi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=v.useContext(bn),{matches:d}=v.useContext(Xn),f=d[d.length-1],h=f?f.params:{},m=f?f.pathname:"/",x=f?f.pathnameBase:"/",y=f&&f.route;{let A=y&&y.path||"";V2(m,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=Zn(),j;if(r){let A=typeof r=="string"?ii(r):r;it(x==="/"||A.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${A.pathname}" was given in the \`location\` prop.`),j=A}else j=b;let S=j.pathname||"/",k=S;if(x!=="/"){let A=x.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let w=O2(e,{pathname:k});Un(y||w!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Un(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=h5(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:Ir([x,u.encodeLocation?u.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?x:Ir([x,u.encodeLocation?u.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),d,s,i,o);return r&&C?v.createElement(Il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},C):C}function c5(){let e=y5(),r=W3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:u},"ErrorBoundary")," or"," ",v.createElement("code",{style:u},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},r),s?v.createElement("pre",{style:o},s):null,d)}var u5=v.createElement(c5,null),F2=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){this.props.onError?this.props.onError(e,r):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const s=s5(e.digest);s&&(e=s)}let r=e!==void 0?v.createElement(Xn.Provider,{value:this.props.routeContext},v.createElement(_m.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(d5,{error:e},r):r}};F2.contextType=J3;var hh=new WeakMap;function d5({children:e,error:r}){let{basename:s}=v.useContext(bn);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let i=a5(r.digest);if(i){let o=hh.get(r);if(o)throw o;let u=I2(i.location,s);if(P2&&!hh.get(r))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw hh.set(r,d),d}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function f5({routeContext:e,match:r,children:s}){let i=v.useContext(li);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Xn.Provider,{value:e},s)}function h5(e,r=[],s=null,i=null,o=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let u=e,d=s?.errors;if(d!=null){let x=u.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);it(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let f=!1,h=-1;if(s)for(let x=0;x<u.length;x++){let y=u[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=x),y.route.id){let{loaderData:b,errors:j}=s,S=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!j||j[y.route.id]===void 0);if(y.route.lazy||S){f=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let m=s&&i?(x,y)=>{i(x,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:X3(s.matches),errorInfo:y})}:void 0;return u.reduceRight((x,y,b)=>{let j,S=!1,k=null,w=null;s&&(j=d&&y.route.id?d[y.route.id]:void 0,k=y.route.errorElement||u5,f&&(h<0&&b===0?(V2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,w=null):h===b&&(S=!0,w=y.route.hydrateFallbackElement||null)));let C=r.concat(u.slice(0,b+1)),A=()=>{let R;return j?R=k:S?R=w:y.route.Component?R=v.createElement(y.route.Component,null):y.route.element?R=y.route.element:R=x,v.createElement(f5,{match:y,routeContext:{outlet:x,matches:C,isDataRoute:s!=null},children:R})};return s&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?v.createElement(F2,{location:s.location,revalidation:s.revalidation,component:k,error:j,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):A()},null)}function Lm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m5(e){let r=v.useContext(li);return it(r,Lm(e)),r}function g5(e){let r=v.useContext(Su);return it(r,Lm(e)),r}function p5(e){let r=v.useContext(Xn);return it(r,Lm(e)),r}function zm(e){let r=p5(e),s=r.matches[r.matches.length-1];return it(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function x5(){return zm("useRouteId")}function y5(){let e=v.useContext(_m),r=g5("useRouteError"),s=zm("useRouteError");return e!==void 0?e:r.errors?.[s]}function v5(){let{router:e}=m5("useNavigate"),r=zm("useNavigate"),s=v.useRef(!1);return Q2(()=>{s.current=!0}),v.useCallback(async(o,u={})=>{Un(s.current,$2),s.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:r,...u}))},[e,r])}var Gy={};function V2(e,r,s){!r&&!Gy[e]&&(Gy[e]=!0,Un(!1,s))}v.memo(b5);function b5({routes:e,future:r,state:s,onError:i}){return q2(e,void 0,s,i,r)}function Pm({to:e,replace:r,state:s,relative:i}){it(oi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=v.useContext(bn);Un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=v.useContext(Xn),{pathname:d}=Zn(),f=Ct(),h=Om(e,Dm(u),d,i==="path"),m=JSON.stringify(h);return v.useEffect(()=>{f(JSON.parse(m),{replace:r,state:s,relative:i})},[f,m,i,r,s]),null}function $e(e){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j5({basename:e="/",children:r=null,location:s,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){it(!oi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:f,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[f,o,u,d]);typeof s=="string"&&(s=ii(s));let{pathname:m="/",search:x="",hash:y="",state:b=null,key:j="default"}=s,S=v.useMemo(()=>{let k=Br(m,f);return k==null?null:{location:{pathname:k,search:x,hash:y,state:b,key:j},navigationType:i}},[f,m,x,y,b,j,i]);return Un(S!=null,`<Router basename="${f}"> is not able to match the URL "${m}${x}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:v.createElement(bn.Provider,{value:h},v.createElement(Il.Provider,{children:r,value:S}))}function w5({children:e,location:r}){return o5(im(e),r)}function im(e,r=[]){let s=[];return v.Children.forEach(e,(i,o)=>{if(!v.isValidElement(i))return;let u=[...r,o];if(i.type===v.Fragment){s.push.apply(s,im(i.props.children,u));return}it(i.type===$e,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=im(i.props.children,u)),s.push(d)}),s}var Oc="get",_c="application/x-www-form-urlencoded";function Cu(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function k5(e){return Cu(e)&&e.tagName.toLowerCase()==="button"}function N5(e){return Cu(e)&&e.tagName.toLowerCase()==="form"}function S5(e){return Cu(e)&&e.tagName.toLowerCase()==="input"}function C5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function E5(e,r){return e.button===0&&(!r||r==="_self")&&!C5(e)}var xc=null;function M5(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var R5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mh(e){return e!=null&&!R5.has(e)?(Un(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):e}function T5(e,r){let s,i,o,u,d;if(N5(e)){let f=e.getAttribute("action");i=f?Br(f,r):null,s=e.getAttribute("method")||Oc,o=mh(e.getAttribute("enctype"))||_c,u=new FormData(e)}else if(k5(e)||S5(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(i=h?Br(h,r):null,s=e.getAttribute("formmethod")||f.getAttribute("method")||Oc,o=mh(e.getAttribute("formenctype"))||mh(f.getAttribute("enctype"))||_c,u=new FormData(f,e),!M5()){let{name:m,type:x,value:y}=e;if(x==="image"){let b=m?`${m}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else m&&u.append(m,y)}}else{if(Cu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Oc,i=null,o=_c,d=e}return u&&o==="text/plain"&&(d=u,u=void 0),{action:i,method:s.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Im(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function A5(e,r,s){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${s}`:r&&Br(i.pathname,r)==="/"?i.pathname=`${r.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function D5(e,r){if(e.id in r)return r[e.id];try{let s=await import(e.module);return r[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function _5(e,r,s){let i=await Promise.all(e.map(async o=>{let u=r.routes[o.route.id];if(u){let d=await D5(u,s);return d.links?d.links():[]}return[]}));return I5(i.flat(1).filter(O5).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yy(e,r,s,i,o,u){let d=(h,m)=>s[m]?h.route.id!==s[m].route.id:!0,f=(h,m)=>s[m].pathname!==h.pathname||s[m].route.path?.endsWith("*")&&s[m].params["*"]!==h.params["*"];return u==="assets"?r.filter((h,m)=>d(h,m)||f(h,m)):u==="data"?r.filter((h,m)=>{let x=i.routes[h.route.id];if(!x||!x.hasLoader)return!1;if(d(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function L5(e,r,{includeHydrateFallback:s}={}){return z5(e.map(i=>{let o=r.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function z5(e){return[...new Set(e)]}function P5(e){let r={},s=Object.keys(e).sort();for(let i of s)r[i]=e[i];return r}function I5(e,r){let s=new Set;return new Set(r),e.reduce((i,o)=>{let u=JSON.stringify(P5(o));return s.has(u)||(s.add(u),i.push({key:u,link:o})),i},[])}function G2(){let e=v.useContext(li);return Im(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function U5(){let e=v.useContext(Su);return Im(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Um=v.createContext(void 0);Um.displayName="FrameworkContext";function Y2(){let e=v.useContext(Um);return Im(e,"You must render this element inside a <HydratedRouter> element"),e}function B5(e,r){let s=v.useContext(Um),[i,o]=v.useState(!1),[u,d]=v.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:x,onTouchStart:y}=r,b=v.useRef(null);v.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let k=C=>{C.forEach(A=>{d(A.isIntersecting)})},w=new IntersectionObserver(k,{threshold:.5});return b.current&&w.observe(b.current),()=>{w.disconnect()}}},[e]),v.useEffect(()=>{if(i){let k=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(k)}}},[i]);let j=()=>{o(!0)},S=()=>{o(!1),d(!1)};return s?e!=="intent"?[u,b,{}]:[u,b,{onFocus:cl(f,j),onBlur:cl(h,S),onMouseEnter:cl(m,j),onMouseLeave:cl(x,S),onTouchStart:cl(y,j)}]:[!1,b,{}]}function cl(e,r){return s=>{e&&e(s),s.defaultPrevented||r(s)}}function H5({page:e,...r}){let{router:s}=G2(),i=v.useMemo(()=>O2(s.routes,e,s.basename),[s.routes,e,s.basename]);return i?v.createElement(Q5,{page:e,matches:i,...r}):null}function $5(e){let{manifest:r,routeModules:s}=Y2(),[i,o]=v.useState([]);return v.useEffect(()=>{let u=!1;return _5(e,r,s).then(d=>{u||o(d)}),()=>{u=!0}},[e,r,s]),i}function Q5({page:e,matches:r,...s}){let i=Zn(),{manifest:o,routeModules:u}=Y2(),{basename:d}=G2(),{loaderData:f,matches:h}=U5(),m=v.useMemo(()=>Yy(e,r,h,o,i,"data"),[e,r,h,o,i]),x=v.useMemo(()=>Yy(e,r,h,o,i,"assets"),[e,r,h,o,i]),y=v.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,k=!1;if(r.forEach(C=>{let A=o.routes[C.route.id];!A||!A.hasLoader||(!m.some(R=>R.route.id===C.route.id)&&C.route.id in f&&u[C.route.id]?.shouldRevalidate||A.hasClientLoader?k=!0:S.add(C.route.id))}),S.size===0)return[];let w=A5(e,d,"data");return k&&S.size>0&&w.searchParams.set("_routes",r.filter(C=>S.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[d,f,i,o,m,r,e,u]),b=v.useMemo(()=>L5(x,o),[x,o]),j=$5(x);return v.createElement(v.Fragment,null,y.map(S=>v.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...s})),b.map(S=>v.createElement("link",{key:S,rel:"modulepreload",href:S,...s})),j.map(({key:S,link:k})=>v.createElement("link",{key:S,nonce:s.nonce,...k})))}function q5(...e){return r=>{e.forEach(s=>{typeof s=="function"?s(r):s!=null&&(s.current=r)})}}var F5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F5&&(window.__reactRouterVersion="7.11.0")}catch{}function V5({basename:e,children:r,unstable_useTransitions:s,window:i}){let o=v.useRef();o.current==null&&(o.current=C3({window:i,v5Compat:!0}));let u=o.current,[d,f]=v.useState({action:u.action,location:u.location}),h=v.useCallback(m=>{s===!1?f(m):v.startTransition(()=>f(m))},[s]);return v.useLayoutEffect(()=>u.listen(h),[u,h]),v.createElement(j5,{basename:e,children:r,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:s})}var K2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=v.forwardRef(function({onClick:r,discover:s="render",prefetch:i="none",relative:o,reloadDocument:u,replace:d,state:f,target:h,to:m,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:b,...j},S){let{basename:k,unstable_useTransitions:w}=v.useContext(bn),C=typeof m=="string"&&K2.test(m),A=I2(m,k);m=A.to;let R=i5(m,{relative:o}),[O,T,L]=B5(i,j),E=W5(m,{replace:d,state:f,target:h,preventScrollReset:x,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:b,unstable_useTransitions:w});function D(K){r&&r(K),K.defaultPrevented||E(K)}let P=v.createElement("a",{...j,...L,href:A.absoluteURL||R,onClick:A.isExternal||u?r:D,ref:q5(S,T),target:h,"data-discover":!C&&s==="render"?"true":void 0});return O&&!C?v.createElement(v.Fragment,null,P,v.createElement(H5,{page:R})):P});dt.displayName="Link";var G5=v.forwardRef(function({"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:u,to:d,viewTransition:f,children:h,...m},x){let y=Ul(d,{relative:m.relative}),b=Zn(),j=v.useContext(Su),{navigator:S,basename:k}=v.useContext(bn),w=j!=null&&tE(y)&&f===!0,C=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,A=b.pathname,R=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;s||(A=A.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&k&&(R=Br(R,k)||R);const O=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=A===C||!o&&A.startsWith(C)&&A.charAt(O)==="/",L=R!=null&&(R===C||!o&&R.startsWith(C)&&R.charAt(C.length)==="/"),E={isActive:T,isPending:L,isTransitioning:w},D=T?r:void 0,P;typeof i=="function"?P=i(E):P=[i,T?"active":null,L?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let K=typeof u=="function"?u(E):u;return v.createElement(dt,{...m,"aria-current":D,className:P,ref:x,style:K,to:d,viewTransition:f},typeof h=="function"?h(E):h)});G5.displayName="NavLink";var Y5=v.forwardRef(({discover:e="render",fetcherKey:r,navigate:s,reloadDocument:i,replace:o,state:u,method:d=Oc,action:f,onSubmit:h,relative:m,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:b,...j},S)=>{let{unstable_useTransitions:k}=v.useContext(bn),w=J5(),C=eE(f,{relative:m}),A=d.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&K2.test(f),O=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let L=T.nativeEvent.submitter,E=L?.getAttribute("formmethod")||d,D=()=>w(L||T.currentTarget,{fetcherKey:r,method:E,navigate:s,replace:o,state:u,relative:m,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:b});k&&s!==!1?v.startTransition(()=>D()):D()};return v.createElement("form",{ref:S,method:A,action:C,onSubmit:i?h:O,...j,"data-discover":!R&&e==="render"?"true":void 0})});Y5.displayName="Form";function K5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W2(e){let r=v.useContext(li);return it(r,K5(e)),r}function W5(e,{target:r,replace:s,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let m=Ct(),x=Zn(),y=Ul(e,{relative:u});return v.useCallback(b=>{if(E5(b,r)){b.preventDefault();let j=s!==void 0?s:Nl(x)===Nl(y),S=()=>m(e,{replace:j,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h?v.startTransition(()=>S()):S()}},[x,m,y,s,i,r,e,o,u,d,f,h])}var X5=0,Z5=()=>`__${String(++X5)}__`;function J5(){let{router:e}=W2("useSubmit"),{basename:r}=v.useContext(bn),s=x5(),i=e.fetch,o=e.navigate;return v.useCallback(async(u,d={})=>{let{action:f,method:h,encType:m,formData:x,body:y}=T5(u,r);if(d.navigate===!1){let b=d.fetcherKey||Z5();await i(b,s,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||h,formEncType:d.encType||m,flushSync:d.flushSync})}else await o(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||h,formEncType:d.encType||m,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,o,r,s])}function eE(e,{relative:r}={}){let{basename:s}=v.useContext(bn),i=v.useContext(Xn);it(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Ul(e||".",{relative:r})},d=Zn();if(e==null){u.search=d.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(x=>x==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let x=f.toString();u.search=x?`?${x}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:Ir([s,u.pathname])),Nl(u)}function tE(e,{relative:r}={}){let s=v.useContext(B2);it(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=W2("useViewTransitionState"),o=Ul(e,{relative:r});if(!s.isTransitioning)return!1;let u=Br(s.currentLocation.pathname,i)||s.currentLocation.pathname,d=Br(s.nextLocation.pathname,i)||s.nextLocation.pathname;return Zc(o.pathname,d)!=null||Zc(o.pathname,u)!=null}var qa=jb();const nE=pm(qa);function X2(e){var r,s,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(s=X2(e[r]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function Z2(){for(var e,r,s=0,i="",o=arguments.length;s<o;s++)(e=arguments[s])&&(r=X2(e))&&(i&&(i+=" "),i+=r);return i}const rE=(e,r)=>{const s=new Array(e.length+r.length);for(let i=0;i<e.length;i++)s[i]=e[i];for(let i=0;i<r.length;i++)s[e.length+i]=r[i];return s},aE=(e,r)=>({classGroupId:e,validator:r}),J2=(e=new Map,r=null,s)=>({nextPart:e,validators:r,classGroupId:s}),Jc="-",Ky=[],sE="arbitrary..",iE=e=>{const r=oE(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return lE(d);const f=d.split(Jc),h=f[0]===""&&f.length>1?1:0;return ej(f,h,r)},getConflictingClassGroupIds:(d,f)=>{if(f){const h=i[d],m=s[d];return h?m?rE(m,h):h:m||Ky}return s[d]||Ky}}},ej=(e,r,s)=>{if(e.length-r===0)return s.classGroupId;const o=e[r],u=s.nextPart.get(o);if(u){const m=ej(e,r+1,u);if(m)return m}const d=s.validators;if(d===null)return;const f=r===0?e.join(Jc):e.slice(r).join(Jc),h=d.length;for(let m=0;m<h;m++){const x=d[m];if(x.validator(f))return x.classGroupId}},lE=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=e.slice(1,-1),s=r.indexOf(":"),i=r.slice(0,s);return i?sE+i:void 0})(),oE=e=>{const{theme:r,classGroups:s}=e;return cE(s,r)},cE=(e,r)=>{const s=J2();for(const i in e){const o=e[i];Bm(o,s,i,r)}return s},Bm=(e,r,s,i)=>{const o=e.length;for(let u=0;u<o;u++){const d=e[u];uE(d,r,s,i)}},uE=(e,r,s,i)=>{if(typeof e=="string"){dE(e,r,s);return}if(typeof e=="function"){fE(e,r,s,i);return}hE(e,r,s,i)},dE=(e,r,s)=>{const i=e===""?r:tj(r,e);i.classGroupId=s},fE=(e,r,s,i)=>{if(mE(e)){Bm(e(i),r,s,i);return}r.validators===null&&(r.validators=[]),r.validators.push(aE(s,e))},hE=(e,r,s,i)=>{const o=Object.entries(e),u=o.length;for(let d=0;d<u;d++){const[f,h]=o[d];Bm(h,tj(r,f),s,i)}},tj=(e,r)=>{let s=e;const i=r.split(Jc),o=i.length;for(let u=0;u<o;u++){const d=i[u];let f=s.nextPart.get(d);f||(f=J2(),s.nextPart.set(d,f)),s=f}return s},mE=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,gE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,s=Object.create(null),i=Object.create(null);const o=(u,d)=>{s[u]=d,r++,r>e&&(r=0,i=s,s=Object.create(null))};return{get(u){let d=s[u];if(d!==void 0)return d;if((d=i[u])!==void 0)return o(u,d),d},set(u,d){u in s?s[u]=d:o(u,d)}}},lm="!",Wy=":",pE=[],Xy=(e,r,s,i,o)=>({modifiers:e,hasImportantModifier:r,baseClassName:s,maybePostfixModifierPosition:i,isExternal:o}),xE=e=>{const{prefix:r,experimentalParseClassName:s}=e;let i=o=>{const u=[];let d=0,f=0,h=0,m;const x=o.length;for(let k=0;k<x;k++){const w=o[k];if(d===0&&f===0){if(w===Wy){u.push(o.slice(h,k)),h=k+1;continue}if(w==="/"){m=k;continue}}w==="["?d++:w==="]"?d--:w==="("?f++:w===")"&&f--}const y=u.length===0?o:o.slice(h);let b=y,j=!1;y.endsWith(lm)?(b=y.slice(0,-1),j=!0):y.startsWith(lm)&&(b=y.slice(1),j=!0);const S=m&&m>h?m-h:void 0;return Xy(u,j,b,S)};if(r){const o=r+Wy,u=i;i=d=>d.startsWith(o)?u(d.slice(o.length)):Xy(pE,!1,d,void 0,!0)}if(s){const o=i;i=u=>s({className:u,parseClassName:o})}return i},yE=e=>{const r=new Map;return e.orderSensitiveModifiers.forEach((s,i)=>{r.set(s,1e6+i)}),s=>{const i=[];let o=[];for(let u=0;u<s.length;u++){const d=s[u],f=d[0]==="[",h=r.has(d);f||h?(o.length>0&&(o.sort(),i.push(...o),o=[]),i.push(d)):o.push(d)}return o.length>0&&(o.sort(),i.push(...o)),i}},vE=e=>({cache:gE(e.cacheSize),parseClassName:xE(e),sortModifiers:yE(e),...iE(e)}),bE=/\s+/,jE=(e,r)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:u}=r,d=[],f=e.trim().split(bE);let h="";for(let m=f.length-1;m>=0;m-=1){const x=f[m],{isExternal:y,modifiers:b,hasImportantModifier:j,baseClassName:S,maybePostfixModifierPosition:k}=s(x);if(y){h=x+(h.length>0?" "+h:h);continue}let w=!!k,C=i(w?S.substring(0,k):S);if(!C){if(!w){h=x+(h.length>0?" "+h:h);continue}if(C=i(S),!C){h=x+(h.length>0?" "+h:h);continue}w=!1}const A=b.length===0?"":b.length===1?b[0]:u(b).join(":"),R=j?A+lm:A,O=R+C;if(d.indexOf(O)>-1)continue;d.push(O);const T=o(C,w);for(let L=0;L<T.length;++L){const E=T[L];d.push(R+E)}h=x+(h.length>0?" "+h:h)}return h},wE=(...e)=>{let r=0,s,i,o="";for(;r<e.length;)(s=e[r++])&&(i=nj(s))&&(o&&(o+=" "),o+=i);return o},nj=e=>{if(typeof e=="string")return e;let r,s="";for(let i=0;i<e.length;i++)e[i]&&(r=nj(e[i]))&&(s&&(s+=" "),s+=r);return s},kE=(e,...r)=>{let s,i,o,u;const d=h=>{const m=r.reduce((x,y)=>y(x),e());return s=vE(m),i=s.cache.get,o=s.cache.set,u=f,f(h)},f=h=>{const m=i(h);if(m)return m;const x=jE(h,s);return o(h,x),x};return u=d,(...h)=>u(wE(...h))},NE=[],Nt=e=>{const r=s=>s[e]||NE;return r.isThemeGetter=!0,r},rj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,aj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,SE=/^\d+\/\d+$/,CE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ME=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,RE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qs=e=>SE.test(e),Te=e=>!!e&&!Number.isNaN(Number(e)),fa=e=>!!e&&Number.isInteger(Number(e)),gh=e=>e.endsWith("%")&&Te(e.slice(0,-1)),_r=e=>CE.test(e),AE=()=>!0,DE=e=>EE.test(e)&&!ME.test(e),sj=()=>!1,OE=e=>RE.test(e),_E=e=>TE.test(e),LE=e=>!me(e)&&!ge(e),zE=e=>ci(e,oj,sj),me=e=>rj.test(e),Ha=e=>ci(e,cj,DE),ph=e=>ci(e,HE,Te),Zy=e=>ci(e,ij,sj),PE=e=>ci(e,lj,_E),yc=e=>ci(e,uj,OE),ge=e=>aj.test(e),ul=e=>ui(e,cj),IE=e=>ui(e,$E),Jy=e=>ui(e,ij),UE=e=>ui(e,oj),BE=e=>ui(e,lj),vc=e=>ui(e,uj,!0),ci=(e,r,s)=>{const i=rj.exec(e);return i?i[1]?r(i[1]):s(i[2]):!1},ui=(e,r,s=!1)=>{const i=aj.exec(e);return i?i[1]?r(i[1]):s:!1},ij=e=>e==="position"||e==="percentage",lj=e=>e==="image"||e==="url",oj=e=>e==="length"||e==="size"||e==="bg-size",cj=e=>e==="length",HE=e=>e==="number",$E=e=>e==="family-name",uj=e=>e==="shadow",QE=()=>{const e=Nt("color"),r=Nt("font"),s=Nt("text"),i=Nt("font-weight"),o=Nt("tracking"),u=Nt("leading"),d=Nt("breakpoint"),f=Nt("container"),h=Nt("spacing"),m=Nt("radius"),x=Nt("shadow"),y=Nt("inset-shadow"),b=Nt("text-shadow"),j=Nt("drop-shadow"),S=Nt("blur"),k=Nt("perspective"),w=Nt("aspect"),C=Nt("ease"),A=Nt("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...O(),ge,me],L=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],D=()=>[ge,me,h],P=()=>[qs,"full","auto",...D()],K=()=>[fa,"none","subgrid",ge,me],Y=()=>["auto",{span:["full",fa,ge,me]},fa,ge,me],ae=()=>[fa,"auto",ge,me],ie=()=>["auto","min","max","fr",ge,me],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ue=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...D()],Q=()=>[qs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],I=()=>[e,ge,me],ne=()=>[...O(),Jy,Zy,{position:[ge,me]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],_=()=>["auto","cover","contain",UE,zE,{size:[ge,me]}],B=()=>[gh,ul,Ha],X=()=>["","none","full",m,ge,me],ee=()=>["",Te,ul,Ha],se=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[Te,gh,Jy,Zy],et=()=>["","none",S,ge,me],Le=()=>["none",Te,ge,me],Re=()=>["none",Te,ge,me],Xt=()=>[Te,ge,me],jt=()=>[qs,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_r],breakpoint:[_r],color:[AE],container:[_r],"drop-shadow":[_r],ease:["in","out","in-out"],font:[LE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_r],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_r],shadow:[_r],spacing:["px",Te],text:[_r],"text-shadow":[_r],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qs,me,ge,w]}],container:["container"],columns:[{columns:[Te,me,ge,f]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[fa,"auto",ge,me]}],basis:[{basis:[qs,"full","auto",f,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Te,qs,"auto","initial","none",me]}],grow:[{grow:["",Te,ge,me]}],shrink:[{shrink:["",Te,ge,me]}],order:[{order:[fa,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ie()}],"auto-rows":[{"auto-rows":ie()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...ue()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...ue(),"baseline"]}],"place-self":[{"place-self":["auto",...ue()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[f,"screen",...Q()]}],"min-w":[{"min-w":[f,"screen","none",...Q()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",s,ul,Ha]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ge,ph]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",gh,me]}],"font-family":[{font:[IE,me,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ge,me]}],"line-clamp":[{"line-clamp":[Te,"none",ge,ph]}],leading:[{leading:[u,...D()]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Te,"from-font","auto",ge,Ha]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Te,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:_()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fa,ge,me],radial:["",ge,me],conic:[fa,ge,me]},BE,PE]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Te,ge,me]}],"outline-w":[{outline:["",Te,ul,Ha]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",x,vc,yc]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",y,vc,yc]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Te,Ha]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",b,vc,yc]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Te,ge,me]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Te]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[ge,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Te]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:_()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,me]}],filter:[{filter:["","none",ge,me]}],blur:[{blur:et()}],brightness:[{brightness:[Te,ge,me]}],contrast:[{contrast:[Te,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",j,vc,yc]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Te,ge,me]}],"hue-rotate":[{"hue-rotate":[Te,ge,me]}],invert:[{invert:["",Te,ge,me]}],saturate:[{saturate:[Te,ge,me]}],sepia:[{sepia:["",Te,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":et()}],"backdrop-brightness":[{"backdrop-brightness":[Te,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[Te,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Te,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Te,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",Te,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[Te,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[Te,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Te,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Te,"initial",ge,me]}],ease:[{ease:["linear","initial",C,ge,me]}],delay:[{delay:[Te,ge,me]}],animate:[{animate:["none",A,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ge,me]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:Le()}],"rotate-x":[{"rotate-x":Le()}],"rotate-y":[{"rotate-y":Le()}],"rotate-z":[{"rotate-z":Le()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:Xt()}],"skew-x":[{"skew-x":Xt()}],"skew-y":[{"skew-y":Xt()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:jt()}],"translate-x":[{"translate-x":jt()}],"translate-y":[{"translate-y":jt()}],"translate-z":[{"translate-z":jt()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Te,ul,Ha,ph]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},qE=kE(QE);function Se(...e){return qE(Z2(e))}function dj({className:e}){const r=Ll(),s=In(bu),i=In(B4),o=In(H4),{data:u,isLoading:d,error:f}=q.workspace.list.useQuery();v.useEffect(()=>{d?r(z4(!0)):f?r(P4(f.message)):u&&r(I4(u))},[u,d,f,r]);const h=m=>{const x=parseInt(m.target.value,10);isNaN(x)||r(U4(x))};return o||d?n.jsx("div",{className:Se("flex items-center gap-2",e),children:n.jsx("div",{className:"h-9 w-40 animate-pulse rounded-md bg-muted"})}):i.length===0?n.jsx("div",{className:Se("text-sm text-muted-foreground",e),children:"No workspaces"}):n.jsxs("div",{className:Se("flex items-center gap-2",e),children:[n.jsx("select",{value:s?.id??"",onChange:h,className:"h-9 rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:i.map(m=>n.jsx("option",{value:m.id,children:m.name},m.id))}),s&&n.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:s.role.toLowerCase()})]})}function FE(){return n.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}function VE(){return n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}function GE(){return n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}function YE(){return n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}function KE(e){switch(e){case"task":return n.jsx(VE,{});case"navigation":return n.jsx(GE,{});case"action":return n.jsx(YE,{});default:return null}}function Hm(){const[e,r]=v.useState(!1);return v.useEffect(()=>{const s=i=>{(i.metaKey||i.ctrlKey)&&i.key==="k"&&(i.preventDefault(),r(o=>!o)),i.key==="Escape"&&e&&r(!1)};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e]),{isOpen:e,setIsOpen:r,open:()=>r(!0),close:()=>r(!1)}}function fj({projectId:e,onOpenTaskDetail:r}){const[s,i]=v.useState(""),[o,u]=v.useState(0),{isOpen:d,close:f}=Hm(),h=v.useRef(null),m=v.useRef(null),x=Ct(),y=Jn(),b=e??(y.projectId?parseInt(y.projectId,10):void 0),{data:j}=q.task.list.useQuery({projectId:b},{enabled:d&&!!b}),S=v.useMemo(()=>{const w=[];if(w.push({id:"nav-home",type:"navigation",label:"Go to Home",description:"Dashboard overview",shortcut:"G H",onSelect:()=>{x("/"),f()}}),w.push({id:"nav-projects",type:"navigation",label:"Go to Projects",description:"View all projects",shortcut:"G P",onSelect:()=>{x("/projects"),f()}}),b&&w.push({id:"nav-board",type:"navigation",label:"Go to Board",description:"Current project board",shortcut:"G B",onSelect:()=>{x(`/project/${b}/board`),f()}}),b&&w.push({id:"action-new-task",type:"action",label:"Create New Task",description:"Add a task to the board",shortcut:"C",onSelect:()=>{f()}}),j&&s.length>=2){const C=s.toLowerCase();j.filter(R=>R.title.toLowerCase().includes(C)||R.reference?.toLowerCase().includes(C)).slice(0,10).forEach(R=>{w.push({id:`task-${R.id}`,type:"task",label:R.title,description:R.reference||void 0,onSelect:()=>{r?r(R.id):x(`/project/${b}/board?task=${R.id}`),f()}})})}return s.length>0&&s.length<2?w.filter(C=>C.type!=="task"&&(C.label.toLowerCase().includes(s.toLowerCase())||C.description?.toLowerCase().includes(s.toLowerCase()))):w},[s,j,b,x,f,r]);v.useEffect(()=>{u(0)},[S.length]),v.useEffect(()=>{d&&(i(""),u(0),setTimeout(()=>h.current?.focus(),0))},[d]),v.useEffect(()=>{if(m.current){const w=m.current.querySelector(`[data-index="${o}"]`);w&&w.scrollIntoView({block:"nearest"})}},[o]);const k=v.useCallback(w=>{switch(w.key){case"ArrowDown":w.preventDefault(),u(C=>C<S.length-1?C+1:0);break;case"ArrowUp":w.preventDefault(),u(C=>C>0?C-1:S.length-1);break;case"Enter":w.preventDefault(),S[o]&&S[o].onSelect();break;case"Escape":w.preventDefault(),f();break}},[S,o,f]);return d?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[20vh]",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:f}),n.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[n.jsx(FE,{}),n.jsx("input",{ref:h,type:"text",value:s,onChange:w=>i(w.target.value),onKeyDown:k,placeholder:"Search tasks, navigate, or run actions...",className:"flex-1 bg-transparent text-gray-900 dark:text-white placeholder-gray-400 outline-none text-sm"}),n.jsx("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-gray-400 bg-gray-100 dark:bg-gray-700 rounded",children:"ESC"})]}),n.jsx("div",{ref:m,className:"max-h-80 overflow-y-auto p-2",children:S.length===0?n.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:s.length>0?"No results found":"Type to search tasks or actions"}):n.jsx("div",{className:"space-y-1",children:S.map((w,C)=>n.jsxs("button",{"data-index":C,className:Se("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors",o===C?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"),onClick:w.onSelect,onMouseEnter:()=>u(C),children:[n.jsx("span",{className:Se("flex-shrink-0",o===C?"text-blue-500 dark:text-blue-400":"text-gray-400 dark:text-gray-500"),children:w.icon||KE(w.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm font-medium truncate",children:w.label}),w.description&&n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:w.description})]}),w.shortcut&&n.jsx("kbd",{className:"hidden sm:inline-flex items-center px-1.5 py-0.5 text-xs font-medium text-gray-400 bg-gray-100 dark:bg-gray-700 rounded",children:w.shortcut})]},w.id))})}),n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:""}),"navigate"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:""}),"select"]})]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded",children:"K"}),"toggle"]})]})]})]}):null}function Sl(){return typeof navigator>"u"?!1:navigator.platform.toUpperCase().includes("MAC")}function WE(){return Sl()?"":"Ctrl"}const Lc=[{id:"show-help",key:"?",description:"Show keyboard shortcuts",category:"global"},{id:"command-palette",key:"k",modifiers:{cmd:!0},description:"Open command palette",category:"global",allowInInputs:!0},{id:"toggle-sidebar",key:"/",modifiers:{cmd:!0},description:"Toggle sidebar",category:"global"},{id:"close-modal",key:"Escape",description:"Close modal / deselect",category:"global",allowInInputs:!0},{id:"new-task",key:"n",description:"New task",category:"board"},{id:"focus-filter",key:"f",description:"Focus filter input",category:"board"},{id:"column-1",key:"1",description:"Focus column 1",category:"board"},{id:"column-2",key:"2",description:"Focus column 2",category:"board"},{id:"column-3",key:"3",description:"Focus column 3",category:"board"},{id:"column-4",key:"4",description:"Focus column 4",category:"board"},{id:"column-5",key:"5",description:"Focus column 5",category:"board"},{id:"navigate-up",key:"ArrowUp",description:"Navigate up",category:"board"},{id:"navigate-down",key:"ArrowDown",description:"Navigate down",category:"board"},{id:"navigate-left",key:"ArrowLeft",description:"Navigate left",category:"board"},{id:"navigate-right",key:"ArrowRight",description:"Navigate right",category:"board"},{id:"open-detail",key:"Enter",description:"Open task detail",category:"task"},{id:"edit-title",key:"e",description:"Edit task title",category:"task"},{id:"change-priority",key:"p",description:"Change priority",category:"task"},{id:"move-task",key:"m",description:"Move to column",category:"task"},{id:"close-task",key:"c",description:"Close task",category:"task"},{id:"delete-task",key:"Delete",description:"Delete task",category:"task"}],XE=[{category:"global",label:"Global",shortcuts:Lc.filter(e=>e.category==="global")},{category:"board",label:"Board Navigation",shortcuts:Lc.filter(e=>e.category==="board")},{category:"task",label:"Task Actions",shortcuts:Lc.filter(e=>e.category==="task")}];function ZE(e){const r=[];e.modifiers?.cmd&&r.push(WE()),e.modifiers?.shift&&r.push(""),e.modifiers?.alt&&r.push(Sl()?"":"Alt");let s=e.key;return s==="ArrowUp"?s="":s==="ArrowDown"?s="":s==="ArrowLeft"?s="":s==="ArrowRight"?s="":s==="Escape"?s="Esc":s==="Delete"?s="":s==="Enter"?s="":s=s.toUpperCase(),r.push(s),r.join(Sl()?"":"+")}const JE=new Set(["?","!","@","#","$","%","^","&","*","(",")","_","+","{","}","|",":",'"',"<",">","~"]);function eM(e,r){if(e.key.toLowerCase()!==r.key.toLowerCase())return!1;const s=r.modifiers?.cmd??!1,i=r.modifiers?.shift??!1,o=r.modifiers?.alt??!1;return!((Sl()?e.metaKey:e.ctrlKey)!==s||!JE.has(r.key)&&e.shiftKey!==i||e.altKey!==o)}function tM(e){if(!e||!(e instanceof HTMLElement))return!1;const r=e.tagName.toLowerCase();return!!(r==="input"||r==="textarea"||r==="select"||e.isContentEditable)}function nM(){return n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function rM(){return n.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}function hj({isOpen:e,onClose:r}){const s=v.useCallback(i=>{i.key==="Escape"&&(i.preventDefault(),r())},[r]);return v.useEffect(()=>{if(e)return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,s]),e?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),n.jsxs("div",{className:"relative w-full max-w-2xl max-h-[80vh] bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:n.jsx(rM,{})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Keyboard Shortcuts"}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Sl()?"macOS":"Windows/Linux"," keyboard shortcuts"]})]})]}),n.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(nM,{})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(80vh-120px)] p-6",children:n.jsx("div",{className:"space-y-8",children:XE.map(i=>n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:i.label}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:i.shortcuts.map(o=>n.jsxs("div",{className:Se("flex items-center justify-between gap-4 px-3 py-2 rounded-lg","bg-gray-50 dark:bg-gray-700/50"),children:[n.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:o.description}),n.jsx("kbd",{className:Se("inline-flex items-center gap-1 px-2 py-1 rounded","text-xs font-mono font-medium","bg-white dark:bg-gray-600 text-gray-700 dark:text-gray-200","border border-gray-200 dark:border-gray-500","shadow-sm"),children:ZE(o)})]},o.id))})]},i.category))})}),n.jsx("div",{className:"px-6 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Press ",n.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-xs",children:"?"})," anytime to show this help"]})})]})]}):null}const aM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,i)=>i?i.toUpperCase():s.toLowerCase()),ev=e=>{const r=sM(e);return r.charAt(0).toUpperCase()+r.slice(1)},mj=(...e)=>e.filter((r,s,i)=>!!r&&r.trim()!==""&&i.indexOf(r)===s).join(" ").trim(),iM=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var lM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oM=v.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:d,...f},h)=>v.createElement("svg",{ref:h,...lM,width:r,height:r,stroke:e,strokeWidth:i?Number(s)*24/Number(r):s,className:mj("lucide",o),...!u&&!iM(f)&&{"aria-hidden":"true"},...f},[...d.map(([m,x])=>v.createElement(m,x)),...Array.isArray(u)?u:[u]]));const Ce=(e,r)=>{const s=v.forwardRef(({className:i,...o},u)=>v.createElement(oM,{ref:u,iconNode:r,className:mj(`lucide-${aM(ev(e))}`,`lucide-${e}`,i),...o}));return s.displayName=ev(e),s};const cM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],uM=Ce("activity",cM);const dM=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],fM=Ce("archive",dM);const hM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$m=Ce("arrow-left",hM);const mM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qm=Ce("calendar",mM);const gM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pM=Ce("chart-column",gM);const xM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ya=Ce("check",xM);const yM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vM=Ce("chevron-down",yM);const bM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cl=Ce("circle-alert",bM);const jM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gj=Ce("circle-check-big",jM);const wM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kM=Ce("circle-x",wM);const NM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SM=Ce("circle",NM);const CM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ni=Ce("clock",CM);const EM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],MM=Ce("columns-2",EM);const RM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pj=Ce("copy",RM);const TM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],AM=Ce("download",TM);const DM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],OM=Ce("ellipsis-vertical",DM);const _M=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],LM=Ce("external-link",_M);const zM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xj=Ce("eye-off",zM);const PM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yj=Ce("eye",PM);const IM=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],UM=Ce("flag",IM);const BM=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],HM=Ce("git-branch",BM);const $M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qm=Ce("info",$M);const QM=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],tv=Ce("key",QM);const qM=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],FM=Ce("list-todo",qM);const VM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],st=Ce("loader-circle",VM);const GM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],YM=Ce("pen",GM);const KM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],vj=Ce("pencil",KM);const WM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Fm=Ce("play",WM);const XM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ka=Ce("plus",XM);const ZM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],JM=Ce("refresh-cw",ZM);const e6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],t6=Ce("rotate-ccw",e6);const n6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],r6=Ce("send",n6);const a6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],s6=Ce("shield",a6);const i6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],l6=Ce("tag",i6);const o6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Eu=Ce("trash-2",o6);const c6=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],u6=Ce("trending-down",c6);const d6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bj=Ce("trending-up",d6);const f6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nv=Ce("triangle-alert",f6);const h6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],m6=Ce("user-plus",h6);const g6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],p6=Ce("user",g6);const x6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jj=Ce("users",x6);const y6=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],rv=Ce("webhook",y6);const v6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ts=Ce("x",v6);function wj(e,r={}){const{activeCategories:s=["global","board","task"],enabled:i=!0,hasSelectedTask:o=!1,onShortcut:u}=r,d=v.useRef(e),f=v.useRef({activeCategories:s,hasSelectedTask:o,onShortcut:u});v.useEffect(()=>{d.current=e,f.current={activeCategories:s,hasSelectedTask:o,onShortcut:u}},[e,s,o,u]);const h=v.useCallback(m=>{const{activeCategories:x,hasSelectedTask:y,onShortcut:b}=f.current,j=d.current,S=tM(m.target);for(const k of Lc)if(x.includes(k.category)&&!(k.category==="task"&&!y)&&!(S&&!k.allowInInputs)&&eM(m,k)){switch(m.preventDefault(),m.stopPropagation(),b&&b(m,k),k.id){case"show-help":j.onShowHelp?.();break;case"command-palette":j.onCommandPalette?.();break;case"toggle-sidebar":j.onToggleSidebar?.();break;case"close-modal":j.onCloseModal?.();break;case"new-task":j.onNewTask?.();break;case"focus-filter":j.onFocusFilter?.();break;case"column-1":j.onFocusColumn?.(0);break;case"column-2":j.onFocusColumn?.(1);break;case"column-3":j.onFocusColumn?.(2);break;case"column-4":j.onFocusColumn?.(3);break;case"column-5":j.onFocusColumn?.(4);break;case"navigate-up":j.onNavigate?.("up");break;case"navigate-down":j.onNavigate?.("down");break;case"navigate-left":j.onNavigate?.("left");break;case"navigate-right":j.onNavigate?.("right");break;case"open-detail":j.onOpenDetail?.();break;case"edit-title":j.onEditTitle?.();break;case"change-priority":j.onChangePriority?.();break;case"move-task":j.onMoveTask?.();break;case"close-task":j.onCloseTask?.();break;case"delete-task":j.onDeleteTask?.();break}return}},[]);v.useEffect(()=>{if(i)return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[i,h])}function av({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}function b6({className:e}){return n.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function j6({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}function w6({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function ri({children:e}){const[r,s]=v.useState(!1),[i,o]=v.useState(!1),u=v.useRef(null),{open:d}=Hm(),f=Ct(),h=Ll(),m=In(i2),x=v.useCallback(()=>s(!1),[]);v.useEffect(()=>{function b(j){u.current&&!u.current.contains(j.target)&&o(!1)}return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const y=v.useCallback(()=>{h(D4()),f("/login")},[h,f]);return wj({onShowHelp:()=>s(!0),onCommandPalette:d,onCloseModal:x},{activeCategories:["global"],enabled:!0}),n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container flex h-14 items-center",children:[n.jsx("div",{className:"mr-4 flex",children:n.jsx(dt,{className:"mr-6 flex items-center space-x-2",to:"/",children:n.jsx("span",{className:"font-bold text-xl",children:"Kanbu"})})}),n.jsxs("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:[n.jsx("nav",{className:"flex items-center space-x-6 text-sm font-medium",children:n.jsx(dt,{to:"/projects",className:"transition-colors hover:text-foreground/80 text-foreground/60",children:"Projects"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(dj,{}),n.jsxs("div",{className:"relative",ref:u,children:[n.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-accent transition-colors",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:m?.username?n.jsx("span",{className:"text-sm font-medium text-primary",children:m.username.charAt(0).toUpperCase()}):n.jsx(av,{className:"h-4 w-4 text-primary"})}),n.jsx("span",{className:"hidden md:inline text-foreground/80",children:m?.username||"User"}),n.jsx(w6,{className:"h-4 w-4 text-foreground/60"})]}),i&&n.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-popover border border-border z-50",children:n.jsxs("div",{className:"py-1",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:m?.username||"User"}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:m?.email||""})]}),n.jsxs(dt,{to:"/profile",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent transition-colors",children:[n.jsx(av,{className:"h-4 w-4"}),"Profile"]}),n.jsxs(dt,{to:"/workspace/settings",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent transition-colors",children:[n.jsx(b6,{className:"h-4 w-4"}),"Workspace Settings"]}),n.jsx("div",{className:"border-t border-border mt-1",children:n.jsxs("button",{onClick:y,className:"flex items-center gap-3 w-full px-4 py-2 text-sm text-destructive hover:bg-accent transition-colors",children:[n.jsx(j6,{className:"h-4 w-4"}),"Logout"]})})]})})]})]})]})]})}),n.jsx("main",{className:"container py-6",children:e}),n.jsx(fj,{}),n.jsx(hj,{isOpen:r,onClose:x})]})}const de=v.forwardRef(({className:e,...r},s)=>n.jsx("div",{ref:s,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));de.displayName="Card";const ve=v.forwardRef(({className:e,...r},s)=>n.jsx("div",{ref:s,className:Se("flex flex-col space-y-1.5 p-6",e),...r}));ve.displayName="CardHeader";const be=v.forwardRef(({className:e,...r},s)=>n.jsx("div",{ref:s,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...r}));be.displayName="CardTitle";const Ie=v.forwardRef(({className:e,...r},s)=>n.jsx("div",{ref:s,className:Se("text-sm text-muted-foreground",e),...r}));Ie.displayName="CardDescription";const pe=v.forwardRef(({className:e,...r},s)=>n.jsx("div",{ref:s,className:Se("p-6 pt-0",e),...r}));pe.displayName="CardContent";const El=v.forwardRef(({className:e,...r},s)=>n.jsx("div",{ref:s,className:Se("flex items-center p-6 pt-0",e),...r}));El.displayName="CardFooter";function sv({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}function k6({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})}function N6({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function S6(){const e=In(i2),r=In(bu),s=q.project.list.useQuery({workspaceId:r?.id??0},{enabled:!!r}),i=s.data?.slice(0,5)??[];return n.jsx(ri,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Welcome, ",e?.name,"!"]}),n.jsxs("p",{className:"text-muted-foreground",children:["Your dashboard for ",r?.name||"your workspace"]})]}),r&&n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{children:r.name}),n.jsx(Ie,{children:r.description||"No description"})]}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-2xl font-bold",children:r.projectCount}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Projects"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-2xl font-bold",children:r.memberCount}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Members"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-2xl font-bold capitalize",children:r.role.toLowerCase()}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Role"})]})]})})]}),n.jsxs(de,{children:[n.jsxs(ve,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{className:"flex items-center gap-2",children:[n.jsx(N6,{className:"h-5 w-5"}),"Recent Projects"]}),n.jsx(Ie,{children:"Your most recently active projects"})]}),n.jsxs(dt,{to:"/projects",className:"text-sm text-primary hover:underline flex items-center gap-1",children:["View all",n.jsx(k6,{className:"h-4 w-4"})]})]}),n.jsx(pe,{children:s.isLoading?n.jsx("div",{className:"space-y-3",children:[1,2,3].map(o=>n.jsxs("div",{className:"animate-pulse flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[n.jsx("div",{className:"h-10 w-10 rounded-md bg-muted"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 w-1/3 bg-muted rounded"}),n.jsx("div",{className:"h-3 w-1/2 bg-muted rounded"})]})]},o))}):i.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(sv,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No projects yet"}),n.jsx(dt,{to:"/projects",className:"text-sm text-primary hover:underline mt-2 inline-block",children:"Create your first project"})]}):n.jsx("div",{className:"space-y-2",children:i.map(o=>n.jsxs(dt,{to:`/project/${o.id}/board`,className:"flex items-center gap-3 p-3 rounded-lg hover:bg-accent transition-colors",children:[n.jsx("div",{className:"h-10 w-10 rounded-md bg-primary/10 flex items-center justify-center",children:n.jsx(sv,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:o.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.taskCount," tasks  ",o.memberCount," members"]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:o.lastActivityAt?C6(o.lastActivityAt):"No activity"})]},o.id))})})]})]})})}function C6(e){const r=typeof e=="string"?new Date(e):e,i=new Date().getTime()-r.getTime(),o=Math.floor(i/6e4),u=Math.floor(i/36e5),d=Math.floor(i/864e5);return o<1?"Just now":o<60?`${o}m ago`:u<24?`${u}h ago`:d<7?`${d}d ago`:r.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function iv(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function Vm(...e){return r=>{let s=!1;const i=e.map(o=>{const u=iv(o,r);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let o=0;o<i.length;o++){const u=i[o];typeof u=="function"?u():iv(e[o],null)}}}}function ur(...e){return v.useCallback(Vm(...e),e)}var E6=Symbol.for("react.lazy"),eu=du[" use ".trim().toString()];function M6(e){return typeof e=="object"&&e!==null&&"then"in e}function kj(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===E6&&"_payload"in e&&M6(e._payload)}function R6(e){const r=A6(e),s=v.forwardRef((i,o)=>{let{children:u,...d}=i;kj(u)&&typeof eu=="function"&&(u=eu(u._payload));const f=v.Children.toArray(u),h=f.find(O6);if(h){const m=h.props.children,x=f.map(y=>y===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:y);return n.jsx(r,{...d,ref:o,children:v.isValidElement(m)?v.cloneElement(m,void 0,x):null})}return n.jsx(r,{...d,ref:o,children:u})});return s.displayName=`${e}.Slot`,s}var T6=R6("Slot");function A6(e){const r=v.forwardRef((s,i)=>{let{children:o,...u}=s;if(kj(o)&&typeof eu=="function"&&(o=eu(o._payload)),v.isValidElement(o)){const d=L6(o),f=_6(u,o.props);return o.type!==v.Fragment&&(f.ref=i?Vm(i,d):d),v.cloneElement(o,f)}return v.Children.count(o)>1?v.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var D6=Symbol("radix.slottable");function O6(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===D6}function _6(e,r){const s={...r};for(const i in r){const o=e[i],u=r[i];/^on[A-Z]/.test(i)?o&&u?s[i]=(...f)=>{const h=u(...f);return o(...f),h}:o&&(s[i]=o):i==="style"?s[i]={...o,...u}:i==="className"&&(s[i]=[o,u].filter(Boolean).join(" "))}return{...e,...s}}function L6(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}const lv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ov=Z2,z6=(e,r)=>s=>{var i;if(r?.variants==null)return ov(e,s?.class,s?.className);const{variants:o,defaultVariants:u}=r,d=Object.keys(o).map(m=>{const x=s?.[m],y=u?.[m];if(x===null)return null;const b=lv(x)||lv(y);return o[m][b]}),f=s&&Object.entries(s).reduce((m,x)=>{let[y,b]=x;return b===void 0||(m[y]=b),m},{}),h=r==null||(i=r.compoundVariants)===null||i===void 0?void 0:i.reduce((m,x)=>{let{class:y,className:b,...j}=x;return Object.entries(j).every(S=>{let[k,w]=S;return Array.isArray(w)?w.includes({...u,...f}[k]):{...u,...f}[k]===w})?[...m,y,b]:m},[]);return ov(e,d,h,s?.class,s?.className)},P6=z6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=v.forwardRef(({className:e,variant:r,size:s,asChild:i=!1,...o},u)=>{const d=i?T6:"button";return n.jsx(d,{className:Se(P6({variant:r,size:s,className:e})),ref:u,...o})});re.displayName="Button";const Ue=v.forwardRef(({className:e,type:r,...s},i)=>n.jsx("input",{type:r,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));Ue.displayName="Input";function I6(){const e=Ct(),r=Ll(),[s,i]=v.useState(""),[o,u]=v.useState(""),[d,f]=v.useState(null),h=q.auth.login.useMutation({onSuccess:x=>{r(s2(x)),e("/")},onError:x=>{f(x.message),r(Wc(!1))}}),m=x=>{x.preventDefault(),f(null),r(Wc(!0)),h.mutate({email:s,password:o})};return n.jsxs(de,{className:"w-full max-w-md",children:[n.jsxs(ve,{className:"space-y-1",children:[n.jsx(be,{className:"text-2xl font-bold",children:"Login"}),n.jsx(Ie,{children:"Enter your email and password to sign in"})]}),n.jsxs("form",{onSubmit:m,children:[n.jsxs(pe,{className:"space-y-4",children:[d&&n.jsx("div",{className:"p-3 text-sm text-red-500 bg-red-50 border border-red-200 rounded-md",children:d}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),n.jsx(Ue,{id:"email",type:"email",placeholder:"your@email.com",value:s,onChange:x=>i(x.target.value),required:!0,autoComplete:"email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),n.jsx(Ue,{id:"password",type:"password",placeholder:"Enter your password",value:o,onChange:x=>u(x.target.value),required:!0,autoComplete:"current-password"})]})]}),n.jsxs(El,{className:"flex flex-col gap-4",children:[n.jsx(re,{type:"submit",className:"w-full",disabled:h.isPending,children:h.isPending?"Signing in...":"Sign in"}),n.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Don't have an account?"," ",n.jsx(dt,{to:"/register",className:"text-primary hover:underline",children:"Sign up"})]})]})]})]})}function U6(){return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsx(I6,{})})}function B6(){const e=Ct(),r=Ll(),[s,i]=v.useState(""),[o,u]=v.useState(""),[d,f]=v.useState(""),[h,m]=v.useState(""),[x,y]=v.useState(""),[b,j]=v.useState(null),S=q.auth.register.useMutation({onSuccess:w=>{r(s2(w)),e("/")},onError:w=>{j(w.message),r(Wc(!1))}}),k=w=>{if(w.preventDefault(),j(null),h!==x){j("Passwords do not match");return}r(Wc(!0)),S.mutate({email:s,username:o,name:d,password:h})};return n.jsxs(de,{className:"w-full max-w-md",children:[n.jsxs(ve,{className:"space-y-1",children:[n.jsx(be,{className:"text-2xl font-bold",children:"Create account"}),n.jsx(Ie,{children:"Enter your details to create a new account"})]}),n.jsxs("form",{onSubmit:k,children:[n.jsxs(pe,{className:"space-y-4",children:[b&&n.jsx("div",{className:"p-3 text-sm text-red-500 bg-red-50 border border-red-200 rounded-md",children:b}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Full Name"}),n.jsx(Ue,{id:"name",type:"text",placeholder:"John Doe",value:d,onChange:w=>f(w.target.value),required:!0,autoComplete:"name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),n.jsx(Ue,{id:"username",type:"text",placeholder:"johndoe",value:o,onChange:w=>u(w.target.value),required:!0,autoComplete:"username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),n.jsx(Ue,{id:"email",type:"email",placeholder:"your@email.com",value:s,onChange:w=>i(w.target.value),required:!0,autoComplete:"email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),n.jsx(Ue,{id:"password",type:"password",placeholder:"At least 8 characters",value:h,onChange:w=>m(w.target.value),required:!0,minLength:8,autoComplete:"new-password"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirm Password"}),n.jsx(Ue,{id:"confirmPassword",type:"password",placeholder:"Repeat your password",value:x,onChange:w=>y(w.target.value),required:!0,minLength:8,autoComplete:"new-password"})]})]}),n.jsxs(El,{className:"flex flex-col gap-4",children:[n.jsx(re,{type:"submit",className:"w-full",disabled:S.isPending,children:S.isPending?"Creating account...":"Create account"}),n.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Already have an account?"," ",n.jsx(dt,{to:"/login",className:"text-primary hover:underline",children:"Sign in"})]})]})]})]})}function H6(){return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsx(B6,{})})}function $6(){const e=Ct(),r=In(bu),s=q.useUtils(),[i,o]=v.useState(r?.name??""),[u,d]=v.useState(r?.description??""),[f,h]=v.useState(""),[m,x]=v.useState("MEMBER"),y=q.workspace.getMembers.useQuery({workspaceId:r?.id??0},{enabled:!!r}),b=q.workspace.getInvitations.useQuery({workspaceId:r?.id??0},{enabled:!!r&&(r.role==="OWNER"||r.role==="ADMIN")}),j=q.workspace.update.useMutation({onSuccess:()=>{s.workspace.list.invalidate()}}),S=q.workspace.invite.useMutation({onSuccess:()=>{h(""),s.workspace.getInvitations.invalidate()}}),k=q.workspace.removeMember.useMutation({onSuccess:()=>{s.workspace.getMembers.invalidate()}}),w=q.workspace.updateMemberRole.useMutation({onSuccess:()=>{s.workspace.getMembers.invalidate()}}),C=q.workspace.cancelInvitation.useMutation({onSuccess:()=>{s.workspace.getInvitations.invalidate()}}),A=q.workspace.delete.useMutation({onSuccess:()=>{e("/")}}),R=()=>{r&&j.mutate({workspaceId:r.id,name:i,description:u||void 0})},O=()=>{!r||!f||S.mutate({workspaceId:r.id,email:f,role:m})},T=Y=>{r&&confirm("Are you sure you want to remove this member?")&&k.mutate({workspaceId:r.id,userId:Y})},L=(Y,ae)=>{r&&w.mutate({workspaceId:r.id,userId:Y,role:ae})},E=Y=>{r&&C.mutate({invitationId:Y})},D=()=>{r&&confirm(`Are you sure you want to delete "${r.name}"? This action cannot be undone.`)&&A.mutate({workspaceId:r.id})};if(!r)return n.jsx(ri,{children:n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"No workspace selected"})})});const P=r.role==="OWNER"||r.role==="ADMIN",K=r.role==="OWNER";return n.jsx(ri,{children:n.jsxs("div",{className:"space-y-6 max-w-4xl",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Workspace Settings"}),n.jsxs("p",{className:"text-muted-foreground",children:["Manage ",r.name]})]}),P&&n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{children:"Workspace Details"}),n.jsx(Ie,{children:"Update workspace name and description"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Name"}),n.jsx(Ue,{value:i,onChange:Y=>o(Y.target.value),placeholder:"Workspace name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Description"}),n.jsx(Ue,{value:u,onChange:Y=>d(Y.target.value),placeholder:"Optional description"})]})]}),n.jsx(El,{children:n.jsx(re,{onClick:R,disabled:j.isPending,children:j.isPending?"Saving...":"Save Changes"})})]}),n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{children:"Members"}),n.jsxs(Ie,{children:[y.data?.length??0," members in this workspace"]})]}),n.jsx(pe,{children:y.isLoading?n.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):n.jsx("div",{className:"space-y-3",children:y.data?.map(Y=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:Y.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:Y.email})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[P&&Y.role!=="OWNER"?n.jsxs("select",{value:Y.role,onChange:ae=>L(Y.id,ae.target.value),className:"h-9 rounded-md border border-input bg-background px-3 py-1 text-sm",children:[n.jsx("option",{value:"VIEWER",children:"Viewer"}),n.jsx("option",{value:"MEMBER",children:"Member"}),n.jsx("option",{value:"ADMIN",children:"Admin"})]}):n.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:Y.role.toLowerCase()}),P&&Y.role!=="OWNER"&&n.jsx(re,{variant:"destructive",size:"sm",onClick:()=>T(Y.id),disabled:k.isPending,children:"Remove"})]})]},Y.id))})})]}),P&&n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{children:"Invite Members"}),n.jsx(Ie,{children:"Send an invitation to join this workspace"})]}),n.jsx(pe,{className:"space-y-4",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Email"}),n.jsx(Ue,{type:"email",value:f,onChange:Y=>h(Y.target.value),placeholder:"user@example.com"})]}),n.jsxs("div",{className:"w-40 space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Role"}),n.jsxs("select",{value:m,onChange:Y=>x(Y.target.value),className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[n.jsx("option",{value:"VIEWER",children:"Viewer"}),n.jsx("option",{value:"MEMBER",children:"Member"}),n.jsx("option",{value:"ADMIN",children:"Admin"})]})]})]})}),n.jsx(El,{children:n.jsx(re,{onClick:O,disabled:S.isPending||!f,children:S.isPending?"Sending...":"Send Invitation"})})]}),P&&b.data&&b.data.length>0&&n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{children:"Pending Invitations"}),n.jsxs(Ie,{children:[b.data.length," pending"]})]}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:b.data.map(Y=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:Y.email}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Role: ",Y.role.toLowerCase(),"  Expires: ",new Date(Y.expiresAt).toLocaleDateString()]})]}),n.jsx(re,{variant:"outline",size:"sm",onClick:()=>E(Y.id),disabled:C.isPending,children:"Cancel"})]},Y.id))})})]}),K&&n.jsxs(de,{className:"border-destructive",children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-destructive",children:"Danger Zone"}),n.jsx(Ie,{children:"Irreversible actions"})]}),n.jsx(pe,{children:n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-destructive",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Delete Workspace"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete this workspace and all its data"})]}),n.jsx(re,{variant:"destructive",onClick:D,disabled:A.isPending,children:A.isPending?"Deleting...":"Delete Workspace"})]})})]})]})})}function xh(e){return e?new Date(e).toLocaleDateString("nl-NL",{day:"numeric",month:"short",year:"numeric"}):""}function Q6(e){switch(e){case"OWNER":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"MANAGER":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"MEMBER":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"VIEWER":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}}function q6({project:e,className:r}){return n.jsx(dt,{to:`/project/${e.id}/board`,children:n.jsxs(de,{className:Se("cursor-pointer transition-all hover:shadow-md hover:border-primary/50",!e.isActive&&"opacity-60",r),children:[n.jsxs(ve,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx(be,{className:"text-lg truncate",children:e.name}),e.identifier&&n.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:e.identifier})]}),n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.isPublic&&n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",children:"Public"}),e.userRole&&n.jsx("span",{className:Se("px-2 py-0.5 text-xs rounded-full capitalize",Q6(e.userRole)),children:e.userRole.toLowerCase()})]})]}),e.description&&n.jsx(Ie,{className:"line-clamp-2 mt-1",children:e.description})]}),n.jsxs(pe,{children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(F6,{className:"h-4 w-4"}),e.taskCount," tasks"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(V6,{className:"h-4 w-4"}),e.memberCount]})]}),e.lastActivityAt&&n.jsxs("span",{className:"text-xs",children:["Updated ",xh(e.lastActivityAt)]})]}),(e.startDate||e.endDate)&&n.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[e.startDate&&n.jsx("span",{children:xh(e.startDate)}),e.startDate&&e.endDate&&n.jsx("span",{children:" - "}),e.endDate&&n.jsx("span",{children:xh(e.endDate)})]})]})]})})}function F6({className:e}){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("path",{d:"m9 12 2 2 4-4"})]})}function V6({className:e}){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[n.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function G6(){const e=Ll(),r=In(bu),s=In(G4),i=In(Y4),[o,u]=v.useState("grid"),[d,f]=v.useState(!1),[h,m]=v.useState(!1),[x,y]=v.useState(""),{data:b,isLoading:j,error:S,refetch:k}=q.project.list.useQuery({workspaceId:r?.id??0,includeArchived:d},{enabled:!!r});v.useEffect(()=>{j?e(q4(!0)):S?e(F4(S.message)):b&&e(V4(b))},[b,j,S,e]);const w=s.filter(C=>{if(!x)return!0;const A=x.toLowerCase();return C.name.toLowerCase().includes(A)||C.identifier?.toLowerCase().includes(A)||C.description?.toLowerCase().includes(A)});return r?n.jsx(ri,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Projects"}),n.jsxs("p",{className:"text-muted-foreground",children:["Manage projects in ",r.name]})]}),n.jsxs(re,{onClick:()=>m(!0),children:[n.jsx(cv,{className:"h-4 w-4 mr-2"}),"New Project"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-1 max-w-sm",children:n.jsx(Ue,{placeholder:"Search projects...",value:x,onChange:C=>y(C.target.value)})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(re,{variant:o==="grid"?"default":"outline",size:"sm",onClick:()=>u("grid"),children:n.jsx(K6,{className:"h-4 w-4"})}),n.jsx(re,{variant:o==="list"?"default":"outline",size:"sm",onClick:()=>u("list"),children:n.jsx(W6,{className:"h-4 w-4"})})]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:d,onChange:C=>f(C.target.checked),className:"rounded"}),"Show archived"]})]}),i||j?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(C=>n.jsxs(de,{className:"animate-pulse",children:[n.jsxs(ve,{children:[n.jsx("div",{className:"h-5 w-2/3 bg-muted rounded"}),n.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mt-2"})]}),n.jsx(pe,{children:n.jsx("div",{className:"h-4 w-full bg-muted rounded"})})]},C))}):w.length===0?n.jsxs(de,{className:"flex flex-col items-center justify-center py-12",children:[n.jsxs(ve,{className:"text-center",children:[n.jsx(be,{children:"No projects found"}),n.jsx(Ie,{children:x?"Try a different search term":"Create your first project to get started"})]}),!x&&n.jsxs(re,{onClick:()=>m(!0),children:[n.jsx(cv,{className:"h-4 w-4 mr-2"}),"Create Project"]})]}):n.jsx("div",{className:o==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:w.map(C=>n.jsx(q6,{project:C,className:o==="list"?"max-w-none":""},C.id))}),h&&n.jsx(Y6,{workspaceId:r.id,onClose:()=>m(!1),onCreated:()=>{m(!1),k()}})]})}):n.jsx(ri,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("p",{className:"text-muted-foreground",children:"Select a workspace to view projects"})})})}function Y6({workspaceId:e,onClose:r,onCreated:s}){const[i,o]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(""),[m,x]=v.useState(!1),y=q.project.create.useMutation({onSuccess:()=>{s()}}),b=j=>{j.preventDefault(),y.mutate({workspaceId:e,name:i,identifier:u||void 0,description:f||void 0,isPublic:m})};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs(de,{className:"w-full max-w-md",children:[n.jsxs(ve,{children:[n.jsx(be,{children:"Create Project"}),n.jsx(Ie,{children:"Add a new project to your workspace"})]}),n.jsx(pe,{children:n.jsxs("form",{onSubmit:b,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Name *"}),n.jsx(Ue,{value:i,onChange:j=>o(j.target.value),placeholder:"My Project",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Identifier"}),n.jsx(Ue,{value:u,onChange:j=>d(j.target.value.toUpperCase()),placeholder:"PROJ",maxLength:10}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for task references (e.g., PROJ-123). Auto-generated if empty."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Description"}),n.jsx("textarea",{value:f,onChange:j=>h(j.target.value),placeholder:"Project description...",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm min-h-[80px]"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:m,onChange:j=>x(j.target.checked),className:"rounded"}),n.jsx("span",{className:"text-sm",children:"Public project (visible to all workspace members)"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(re,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),n.jsx(re,{type:"submit",disabled:!i||y.isPending,children:y.isPending?"Creating...":"Create Project"})]}),y.error&&n.jsx("p",{className:"text-sm text-destructive",children:y.error.message})]})})]})})}function cv({className:e}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:n.jsx("path",{d:"M12 5v14M5 12h14"})})}function K6({className:e}){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[n.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),n.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),n.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),n.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}function W6({className:e}){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[n.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),n.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),n.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),n.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),n.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),n.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})}function X6({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})})}function Z6({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}function J6({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}function eR({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}function tR({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}function nR({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}function rR({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}function aR({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}function sR({className:e}){return n.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function iR(e){return[{title:"Views",items:[{label:"Board",path:`/project/${e}/board`,icon:X6},{label:"List",path:`/project/${e}/list`,icon:Z6},{label:"Calendar",path:`/project/${e}/calendar`,icon:J6},{label:"Timeline",path:`/project/${e}/timeline`,icon:eR}]},{title:"Planning",items:[{label:"Milestones",path:`/project/${e}/milestones`,icon:tR},{label:"Analytics",path:`/project/${e}/analytics`,icon:nR}]},{title:"Settings",items:[{label:"Board Settings",path:`/project/${e}/settings`,icon:sR},{label:"Import/Export",path:`/project/${e}/import-export`,icon:rR},{label:"Webhooks",path:`/project/${e}/webhooks`,icon:aR}]}]}function uv({projectId:e,projectName:r,collapsed:s=!1}){const i=Zn(),o=iR(e),u=d=>i.pathname===d;return n.jsxs("aside",{className:Se("flex flex-col border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 transition-all",s?"w-16":"w-56"),children:[r&&!s&&n.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white truncate",title:r,children:r})}),n.jsx("nav",{className:"flex-1 overflow-y-auto py-2",children:o.map((d,f)=>n.jsxs("div",{className:"mb-2",children:[d.title&&!s&&n.jsx("div",{className:"px-4 py-2",children:n.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:d.title})}),n.jsx("ul",{className:"space-y-0.5 px-2",children:d.items.map(h=>{const m=h.icon,x=u(h.path);return n.jsx("li",{children:n.jsxs(dt,{to:h.path,className:Se("flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",x?"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),title:s?h.label:void 0,children:[n.jsx(m,{className:"h-5 w-5 flex-shrink-0"}),!s&&n.jsx("span",{children:h.label})]})},h.path)})})]},f))})]})}function lR(){return n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}function oR(){return n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}function cR(){return n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function Qe({children:e}){const{projectId:r}=Jn(),s=Ct(),i=r?parseInt(r,10):null,[o,u]=v.useState(!1),[d,f]=v.useState(!1),{open:h}=Hm(),m=q.project.get.useQuery({projectId:i},{enabled:!!i,staleTime:300*1e3});wj({onShowHelp:()=>u(!0),onCommandPalette:h,onCloseModal:()=>u(!1)},{activeCategories:["global"],enabled:!0});const x=m.data?.name;return n.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"flex h-14 items-center px-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>s("/projects"),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Back to projects",children:n.jsx(lR,{})}),n.jsx("button",{onClick:()=>f(!d),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors md:hidden",title:d?"Show sidebar":"Hide sidebar",children:d?n.jsx(oR,{}):n.jsx(cR,{})}),n.jsx(dt,{className:"flex items-center space-x-2",to:"/",children:n.jsx("span",{className:"font-bold text-xl",children:"Kanbu"})}),x&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-gray-400",children:"/"}),n.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 truncate max-w-[200px]",children:x})]})]}),n.jsxs("div",{className:"flex flex-1 items-center justify-end space-x-4",children:[n.jsx("nav",{className:"hidden md:flex items-center space-x-6 text-sm font-medium",children:n.jsx(dt,{to:"/projects",className:"transition-colors hover:text-foreground/80 text-foreground/60",children:"Projects"})}),n.jsx(dj,{})]})]})}),n.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[n.jsx("div",{className:`hidden md:block ${d?"md:hidden":""}`,children:i&&n.jsx(uv,{projectId:i,projectName:x,collapsed:!1})}),!d&&n.jsx("div",{className:"md:hidden fixed inset-0 z-40 bg-black/50",onClick:()=>f(!0),children:n.jsx("div",{className:"w-56 h-full",onClick:y=>y.stopPropagation(),children:i&&n.jsx(uv,{projectId:i,projectName:x,collapsed:!1})})}),n.jsx("main",{className:"flex-1 overflow-auto",children:e})]}),n.jsx(fj,{}),n.jsx(hj,{isOpen:o,onClose:()=>u(!1)})]})}function uR({column:e,taskCount:r,isOverLimit:s,projectId:i,onTitleChange:o,onAddTask:u,onEditColumn:d,onDeleteColumn:f,onToggleCollapse:h,isEditable:m=!0,className:x}){const[y,b]=v.useState(!1),[j,S]=v.useState(e.title),[k,w]=v.useState(!1),C=v.useRef(null),A=v.useRef(null);v.useEffect(()=>{y&&C.current&&(C.current.focus(),C.current.select())},[y]),v.useEffect(()=>{function T(L){A.current&&!A.current.contains(L.target)&&w(!1)}return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const R=()=>{const T=j.trim();T&&T!==e.title&&o?o(e.id,T):S(e.title),b(!1)},O=T=>{T.key==="Enter"?R():T.key==="Escape"&&(S(e.title),b(!1))};return n.jsxs("div",{className:Se("flex items-center justify-between p-3 bg-muted/50 rounded-t-lg border-b",e.isCollapsed&&"opacity-75",x),children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[h&&n.jsx("button",{onClick:()=>h(e.id),className:"p-1 hover:bg-muted rounded transition-colors",title:e.isCollapsed?"Expand column":"Collapse column",children:n.jsx(fR,{className:Se("h-4 w-4 transition-transform",e.isCollapsed&&"-rotate-90")})}),y&&m?n.jsx(Ue,{ref:C,value:j,onChange:T=>S(T.target.value),onBlur:R,onKeyDown:O,className:"h-7 text-sm font-semibold"}):n.jsx("h3",{className:Se("font-semibold text-sm truncate",m&&"cursor-pointer hover:text-primary"),onClick:()=>m&&b(!0),title:e.title,children:e.title}),n.jsx(dR,{taskCount:r,taskLimit:e.taskLimit,isOverLimit:s})]}),n.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[u&&n.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>u(e.id),title:"Add task",children:n.jsx(hR,{className:"h-4 w-4"})}),(d||f)&&n.jsxs("div",{className:"relative",ref:A,children:[n.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>w(!k),title:"Column options",children:n.jsx(mR,{className:"h-4 w-4"})}),k&&n.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-popover border rounded-md shadow-lg z-10",children:[d&&n.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-muted flex items-center gap-2",onClick:()=>{w(!1),d(e.id)},children:[n.jsx(gR,{className:"h-4 w-4"}),"Edit column"]}),f&&n.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-muted text-destructive flex items-center gap-2",onClick:()=>{w(!1),f(e.id)},children:[n.jsx(pR,{className:"h-4 w-4"}),"Delete column"]})]})]})]})]})}function dR({taskCount:e,taskLimit:r,isOverLimit:s}){const i=r>0;return n.jsxs("span",{className:Se("px-2 py-0.5 text-xs rounded-full font-medium",!i&&"bg-muted text-muted-foreground",i&&!s&&"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",i&&s&&"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"),title:i?`${e} of ${r} (WIP limit)`:`${e} tasks`,children:[e,i&&` / ${r}`]})}function fR({className:e}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:n.jsx("path",{d:"m6 9 6 6 6-6"})})}function hR({className:e}){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[n.jsx("path",{d:"M5 12h14"}),n.jsx("path",{d:"M12 5v14"})]})}function mR({className:e}){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[n.jsx("circle",{cx:"12",cy:"12",r:"1"}),n.jsx("circle",{cx:"19",cy:"12",r:"1"}),n.jsx("circle",{cx:"5",cy:"12",r:"1"})]})}function gR({className:e}){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[n.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}function pR({className:e}){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),n.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}function xR(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return v.useMemo(()=>i=>{r.forEach(o=>o(i))},r)}const Mu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function di(e){const r=Object.prototype.toString.call(e);return r==="[object Window]"||r==="[object global]"}function Gm(e){return"nodeType"in e}function Kt(e){var r,s;return e?di(e)?e:Gm(e)&&(r=(s=e.ownerDocument)==null?void 0:s.defaultView)!=null?r:window:window}function Ym(e){const{Document:r}=Kt(e);return e instanceof r}function Bl(e){return di(e)?!1:e instanceof Kt(e).HTMLElement}function Nj(e){return e instanceof Kt(e).SVGElement}function fi(e){return e?di(e)?e.document:Gm(e)?Ym(e)?e:Bl(e)||Nj(e)?e.ownerDocument:document:document:document}const Yn=Mu?v.useLayoutEffect:v.useEffect;function Ru(e){const r=v.useRef(e);return Yn(()=>{r.current=e}),v.useCallback(function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r.current==null?void 0:r.current(...i)},[])}function yR(){const e=v.useRef(null),r=v.useCallback((i,o)=>{e.current=setInterval(i,o)},[]),s=v.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[r,s]}function Ml(e,r){r===void 0&&(r=[e]);const s=v.useRef(e);return Yn(()=>{s.current!==e&&(s.current=e)},r),s}function Hl(e,r){const s=v.useRef();return v.useMemo(()=>{const i=e(s.current);return s.current=i,i},[...r])}function tu(e){const r=Ru(e),s=v.useRef(null),i=v.useCallback(o=>{o!==s.current&&r?.(o,s.current),s.current=o},[]);return[s,i]}function nu(e){const r=v.useRef();return v.useEffect(()=>{r.current=e},[e]),r.current}let yh={};function $l(e,r){return v.useMemo(()=>{if(r)return r;const s=yh[e]==null?0:yh[e]+1;return yh[e]=s,e+"-"+s},[e,r])}function Sj(e){return function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return i.reduce((u,d)=>{const f=Object.entries(d);for(const[h,m]of f){const x=u[h];x!=null&&(u[h]=x+e*m)}return u},{...r})}}const Xs=Sj(1),Rl=Sj(-1);function vR(e){return"clientX"in e&&"clientY"in e}function Tu(e){if(!e)return!1;const{KeyboardEvent:r}=Kt(e.target);return r&&e instanceof r}function bR(e){if(!e)return!1;const{TouchEvent:r}=Kt(e.target);return r&&e instanceof r}function ru(e){if(bR(e)){if(e.touches&&e.touches.length){const{clientX:r,clientY:s}=e.touches[0];return{x:r,y:s}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:r,clientY:s}=e.changedTouches[0];return{x:r,y:s}}}return vR(e)?{x:e.clientX,y:e.clientY}:null}const va=Object.freeze({Translate:{toString(e){if(!e)return;const{x:r,y:s}=e;return"translate3d("+(r?Math.round(r):0)+"px, "+(s?Math.round(s):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:r,scaleY:s}=e;return"scaleX("+r+") scaleY("+s+")"}},Transform:{toString(e){if(e)return[va.Translate.toString(e),va.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:r,duration:s,easing:i}=e;return r+" "+s+"ms "+i}}}),dv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function jR(e){return e.matches(dv)?e:e.querySelector(dv)}const wR={display:"none"};function kR(e){let{id:r,value:s}=e;return ke.createElement("div",{id:r,style:wR},s)}function NR(e){let{id:r,announcement:s,ariaLiveType:i="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ke.createElement("div",{id:r,style:o,role:"status","aria-live":i,"aria-atomic":!0},s)}function SR(){const[e,r]=v.useState("");return{announce:v.useCallback(i=>{i!=null&&r(i)},[]),announcement:e}}const Cj=v.createContext(null);function CR(e){const r=v.useContext(Cj);v.useEffect(()=>{if(!r)throw new Error("useDndMonitor must be used within a children of <DndContext>");return r(e)},[e,r])}function ER(){const[e]=v.useState(()=>new Set),r=v.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[v.useCallback(i=>{let{type:o,event:u}=i;e.forEach(d=>{var f;return(f=d[o])==null?void 0:f.call(d,u)})},[e]),r]}const MR={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},RR={onDragStart(e){let{active:r}=e;return"Picked up draggable item "+r.id+"."},onDragOver(e){let{active:r,over:s}=e;return s?"Draggable item "+r.id+" was moved over droppable area "+s.id+".":"Draggable item "+r.id+" is no longer over a droppable area."},onDragEnd(e){let{active:r,over:s}=e;return s?"Draggable item "+r.id+" was dropped over droppable area "+s.id:"Draggable item "+r.id+" was dropped."},onDragCancel(e){let{active:r}=e;return"Dragging was cancelled. Draggable item "+r.id+" was dropped."}};function TR(e){let{announcements:r=RR,container:s,hiddenTextDescribedById:i,screenReaderInstructions:o=MR}=e;const{announce:u,announcement:d}=SR(),f=$l("DndLiveRegion"),[h,m]=v.useState(!1);if(v.useEffect(()=>{m(!0)},[]),CR(v.useMemo(()=>({onDragStart(y){let{active:b}=y;u(r.onDragStart({active:b}))},onDragMove(y){let{active:b,over:j}=y;r.onDragMove&&u(r.onDragMove({active:b,over:j}))},onDragOver(y){let{active:b,over:j}=y;u(r.onDragOver({active:b,over:j}))},onDragEnd(y){let{active:b,over:j}=y;u(r.onDragEnd({active:b,over:j}))},onDragCancel(y){let{active:b,over:j}=y;u(r.onDragCancel({active:b,over:j}))}}),[u,r])),!h)return null;const x=ke.createElement(ke.Fragment,null,ke.createElement(kR,{id:i,value:o.draggable}),ke.createElement(NR,{id:f,announcement:d}));return s?qa.createPortal(x,s):x}var St;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(St||(St={}));function au(){}function vh(e,r){return v.useMemo(()=>({sensor:e,options:r??{}}),[e,r])}function AR(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return v.useMemo(()=>[...r].filter(i=>i!=null),[...r])}const Kn=Object.freeze({x:0,y:0});function DR(e,r){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function OR(e,r){const s=ru(e);if(!s)return"0 0";const i={x:(s.x-r.left)/r.width*100,y:(s.y-r.top)/r.height*100};return i.x+"% "+i.y+"%"}function _R(e,r){let{data:{value:s}}=e,{data:{value:i}}=r;return s-i}function LR(e,r){let{data:{value:s}}=e,{data:{value:i}}=r;return i-s}function fv(e){let{left:r,top:s,height:i,width:o}=e;return[{x:r,y:s},{x:r+o,y:s},{x:r,y:s+i},{x:r+o,y:s+i}]}function Ej(e,r){if(!e||e.length===0)return null;const[s]=e;return s[r]}const Mj=e=>{let{collisionRect:r,droppableRects:s,droppableContainers:i}=e;const o=fv(r),u=[];for(const d of i){const{id:f}=d,h=s.get(f);if(h){const m=fv(h),x=o.reduce((b,j,S)=>b+DR(m[S],j),0),y=Number((x/4).toFixed(4));u.push({id:f,data:{droppableContainer:d,value:y}})}}return u.sort(_R)};function zR(e,r){const s=Math.max(r.top,e.top),i=Math.max(r.left,e.left),o=Math.min(r.left+r.width,e.left+e.width),u=Math.min(r.top+r.height,e.top+e.height),d=o-i,f=u-s;if(i<o&&s<u){const h=r.width*r.height,m=e.width*e.height,x=d*f,y=x/(h+m-x);return Number(y.toFixed(4))}return 0}const PR=e=>{let{collisionRect:r,droppableRects:s,droppableContainers:i}=e;const o=[];for(const u of i){const{id:d}=u,f=s.get(d);if(f){const h=zR(f,r);h>0&&o.push({id:d,data:{droppableContainer:u,value:h}})}}return o.sort(LR)};function IR(e,r,s){return{...e,scaleX:r&&s?r.width/s.width:1,scaleY:r&&s?r.height/s.height:1}}function Rj(e,r){return e&&r?{x:e.left-r.left,y:e.top-r.top}:Kn}function UR(e){return function(s){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];return o.reduce((d,f)=>({...d,top:d.top+e*f.y,bottom:d.bottom+e*f.y,left:d.left+e*f.x,right:d.right+e*f.x}),{...s})}}const BR=UR(1);function Tj(e){if(e.startsWith("matrix3d(")){const r=e.slice(9,-1).split(/, /);return{x:+r[12],y:+r[13],scaleX:+r[0],scaleY:+r[5]}}else if(e.startsWith("matrix(")){const r=e.slice(7,-1).split(/, /);return{x:+r[4],y:+r[5],scaleX:+r[0],scaleY:+r[3]}}return null}function HR(e,r,s){const i=Tj(r);if(!i)return e;const{scaleX:o,scaleY:u,x:d,y:f}=i,h=e.left-d-(1-o)*parseFloat(s),m=e.top-f-(1-u)*parseFloat(s.slice(s.indexOf(" ")+1)),x=o?e.width/o:e.width,y=u?e.height/u:e.height;return{width:x,height:y,top:m,right:h+x,bottom:m+y,left:h}}const $R={ignoreTransform:!1};function hi(e,r){r===void 0&&(r=$R);let s=e.getBoundingClientRect();if(r.ignoreTransform){const{transform:m,transformOrigin:x}=Kt(e).getComputedStyle(e);m&&(s=HR(s,m,x))}const{top:i,left:o,width:u,height:d,bottom:f,right:h}=s;return{top:i,left:o,width:u,height:d,bottom:f,right:h}}function hv(e){return hi(e,{ignoreTransform:!0})}function QR(e){const r=e.innerWidth,s=e.innerHeight;return{top:0,left:0,right:r,bottom:s,width:r,height:s}}function qR(e,r){return r===void 0&&(r=Kt(e).getComputedStyle(e)),r.position==="fixed"}function FR(e,r){r===void 0&&(r=Kt(e).getComputedStyle(e));const s=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=r[o];return typeof u=="string"?s.test(u):!1})}function Au(e,r){const s=[];function i(o){if(r!=null&&s.length>=r||!o)return s;if(Ym(o)&&o.scrollingElement!=null&&!s.includes(o.scrollingElement))return s.push(o.scrollingElement),s;if(!Bl(o)||Nj(o)||s.includes(o))return s;const u=Kt(e).getComputedStyle(o);return o!==e&&FR(o,u)&&s.push(o),qR(o,u)?s:i(o.parentNode)}return e?i(e):s}function Aj(e){const[r]=Au(e,1);return r??null}function bh(e){return!Mu||!e?null:di(e)?e:Gm(e)?Ym(e)||e===fi(e).scrollingElement?window:Bl(e)?e:null:null}function Dj(e){return di(e)?e.scrollX:e.scrollLeft}function Oj(e){return di(e)?e.scrollY:e.scrollTop}function om(e){return{x:Dj(e),y:Oj(e)}}var Tt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Tt||(Tt={}));function _j(e){return!Mu||!e?!1:e===document.scrollingElement}function Lj(e){const r={x:0,y:0},s=_j(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-s.width,y:e.scrollHeight-s.height},o=e.scrollTop<=r.y,u=e.scrollLeft<=r.x,d=e.scrollTop>=i.y,f=e.scrollLeft>=i.x;return{isTop:o,isLeft:u,isBottom:d,isRight:f,maxScroll:i,minScroll:r}}const VR={x:.2,y:.2};function GR(e,r,s,i,o){let{top:u,left:d,right:f,bottom:h}=s;i===void 0&&(i=10),o===void 0&&(o=VR);const{isTop:m,isBottom:x,isLeft:y,isRight:b}=Lj(e),j={x:0,y:0},S={x:0,y:0},k={height:r.height*o.y,width:r.width*o.x};return!m&&u<=r.top+k.height?(j.y=Tt.Backward,S.y=i*Math.abs((r.top+k.height-u)/k.height)):!x&&h>=r.bottom-k.height&&(j.y=Tt.Forward,S.y=i*Math.abs((r.bottom-k.height-h)/k.height)),!b&&f>=r.right-k.width?(j.x=Tt.Forward,S.x=i*Math.abs((r.right-k.width-f)/k.width)):!y&&d<=r.left+k.width&&(j.x=Tt.Backward,S.x=i*Math.abs((r.left+k.width-d)/k.width)),{direction:j,speed:S}}function YR(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:d}=window;return{top:0,left:0,right:u,bottom:d,width:u,height:d}}const{top:r,left:s,right:i,bottom:o}=e.getBoundingClientRect();return{top:r,left:s,right:i,bottom:o,width:e.clientWidth,height:e.clientHeight}}function zj(e){return e.reduce((r,s)=>Xs(r,om(s)),Kn)}function KR(e){return e.reduce((r,s)=>r+Dj(s),0)}function WR(e){return e.reduce((r,s)=>r+Oj(s),0)}function Pj(e,r){if(r===void 0&&(r=hi),!e)return;const{top:s,left:i,bottom:o,right:u}=r(e);Aj(e)&&(o<=0||u<=0||s>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const XR=[["x",["left","right"],KR],["y",["top","bottom"],WR]];class Km{constructor(r,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Au(s),o=zj(i);this.rect={...r},this.width=r.width,this.height=r.height;for(const[u,d,f]of XR)for(const h of d)Object.defineProperty(this,h,{get:()=>{const m=f(i),x=o[u]-m;return this.rect[h]+x},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class gl{constructor(r){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(s=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...s)})},this.target=r}add(r,s,i){var o;(o=this.target)==null||o.addEventListener(r,s,i),this.listeners.push([r,s,i])}}function ZR(e){const{EventTarget:r}=Kt(e);return e instanceof r?e:fi(e)}function jh(e,r){const s=Math.abs(e.x),i=Math.abs(e.y);return typeof r=="number"?Math.sqrt(s**2+i**2)>r:"x"in r&&"y"in r?s>r.x&&i>r.y:"x"in r?s>r.x:"y"in r?i>r.y:!1}var Pn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Pn||(Pn={}));function mv(e){e.preventDefault()}function JR(e){e.stopPropagation()}var He;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(He||(He={}));const Ij={start:[He.Space,He.Enter],cancel:[He.Esc],end:[He.Space,He.Enter,He.Tab]},eT=(e,r)=>{let{currentCoordinates:s}=r;switch(e.code){case He.Right:return{...s,x:s.x+25};case He.Left:return{...s,x:s.x-25};case He.Down:return{...s,y:s.y+25};case He.Up:return{...s,y:s.y-25}}};class Wm{constructor(r){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=r;const{event:{target:s}}=r;this.props=r,this.listeners=new gl(fi(s)),this.windowListeners=new gl(Kt(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Pn.Resize,this.handleCancel),this.windowListeners.add(Pn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Pn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:r,onStart:s}=this.props,i=r.node.current;i&&Pj(i),s(Kn)}handleKeyDown(r){if(Tu(r)){const{active:s,context:i,options:o}=this.props,{keyboardCodes:u=Ij,coordinateGetter:d=eT,scrollBehavior:f="smooth"}=o,{code:h}=r;if(u.end.includes(h)){this.handleEnd(r);return}if(u.cancel.includes(h)){this.handleCancel(r);return}const{collisionRect:m}=i.current,x=m?{x:m.left,y:m.top}:Kn;this.referenceCoordinates||(this.referenceCoordinates=x);const y=d(r,{active:s,context:i.current,currentCoordinates:x});if(y){const b=Rl(y,x),j={x:0,y:0},{scrollableAncestors:S}=i.current;for(const k of S){const w=r.code,{isTop:C,isRight:A,isLeft:R,isBottom:O,maxScroll:T,minScroll:L}=Lj(k),E=YR(k),D={x:Math.min(w===He.Right?E.right-E.width/2:E.right,Math.max(w===He.Right?E.left:E.left+E.width/2,y.x)),y:Math.min(w===He.Down?E.bottom-E.height/2:E.bottom,Math.max(w===He.Down?E.top:E.top+E.height/2,y.y))},P=w===He.Right&&!A||w===He.Left&&!R,K=w===He.Down&&!O||w===He.Up&&!C;if(P&&D.x!==y.x){const Y=k.scrollLeft+b.x,ae=w===He.Right&&Y<=T.x||w===He.Left&&Y>=L.x;if(ae&&!b.y){k.scrollTo({left:Y,behavior:f});return}ae?j.x=k.scrollLeft-Y:j.x=w===He.Right?k.scrollLeft-T.x:k.scrollLeft-L.x,j.x&&k.scrollBy({left:-j.x,behavior:f});break}else if(K&&D.y!==y.y){const Y=k.scrollTop+b.y,ae=w===He.Down&&Y<=T.y||w===He.Up&&Y>=L.y;if(ae&&!b.x){k.scrollTo({top:Y,behavior:f});return}ae?j.y=k.scrollTop-Y:j.y=w===He.Down?k.scrollTop-T.y:k.scrollTop-L.y,j.y&&k.scrollBy({top:-j.y,behavior:f});break}}this.handleMove(r,Xs(Rl(y,this.referenceCoordinates),j))}}}handleMove(r,s){const{onMove:i}=this.props;r.preventDefault(),i(s)}handleEnd(r){const{onEnd:s}=this.props;r.preventDefault(),this.detach(),s()}handleCancel(r){const{onCancel:s}=this.props;r.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Wm.activators=[{eventName:"onKeyDown",handler:(e,r,s)=>{let{keyboardCodes:i=Ij,onActivation:o}=r,{active:u}=s;const{code:d}=e.nativeEvent;if(i.start.includes(d)){const f=u.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function gv(e){return!!(e&&"distance"in e)}function pv(e){return!!(e&&"delay"in e)}class Xm{constructor(r,s,i){var o;i===void 0&&(i=ZR(r.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=r,this.events=s;const{event:u}=r,{target:d}=u;this.props=r,this.events=s,this.document=fi(d),this.documentListeners=new gl(this.document),this.listeners=new gl(i),this.windowListeners=new gl(Kt(d)),this.initialCoordinates=(o=ru(u))!=null?o:Kn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:r,props:{options:{activationConstraint:s,bypassActivationConstraint:i}}}=this;if(this.listeners.add(r.move.name,this.handleMove,{passive:!1}),this.listeners.add(r.end.name,this.handleEnd),r.cancel&&this.listeners.add(r.cancel.name,this.handleCancel),this.windowListeners.add(Pn.Resize,this.handleCancel),this.windowListeners.add(Pn.DragStart,mv),this.windowListeners.add(Pn.VisibilityChange,this.handleCancel),this.windowListeners.add(Pn.ContextMenu,mv),this.documentListeners.add(Pn.Keydown,this.handleKeydown),s){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(pv(s)){this.timeoutId=setTimeout(this.handleStart,s.delay),this.handlePending(s);return}if(gv(s)){this.handlePending(s);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(r,s){const{active:i,onPending:o}=this.props;o(i,r,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:r}=this,{onStart:s}=this.props;r&&(this.activated=!0,this.documentListeners.add(Pn.Click,JR,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Pn.SelectionChange,this.removeTextSelection),s(r))}handleMove(r){var s;const{activated:i,initialCoordinates:o,props:u}=this,{onMove:d,options:{activationConstraint:f}}=u;if(!o)return;const h=(s=ru(r))!=null?s:Kn,m=Rl(o,h);if(!i&&f){if(gv(f)){if(f.tolerance!=null&&jh(m,f.tolerance))return this.handleCancel();if(jh(m,f.distance))return this.handleStart()}if(pv(f)&&jh(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}r.cancelable&&r.preventDefault(),d(h)}handleEnd(){const{onAbort:r,onEnd:s}=this.props;this.detach(),this.activated||r(this.props.active),s()}handleCancel(){const{onAbort:r,onCancel:s}=this.props;this.detach(),this.activated||r(this.props.active),s()}handleKeydown(r){r.code===He.Esc&&this.handleCancel()}removeTextSelection(){var r;(r=this.document.getSelection())==null||r.removeAllRanges()}}const tT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Zm extends Xm{constructor(r){const{event:s}=r,i=fi(s.target);super(r,tT,i)}}Zm.activators=[{eventName:"onPointerDown",handler:(e,r)=>{let{nativeEvent:s}=e,{onActivation:i}=r;return!s.isPrimary||s.button!==0?!1:(i?.({event:s}),!0)}}];const nT={move:{name:"mousemove"},end:{name:"mouseup"}};var cm;(function(e){e[e.RightClick=2]="RightClick"})(cm||(cm={}));class rT extends Xm{constructor(r){super(r,nT,fi(r.event.target))}}rT.activators=[{eventName:"onMouseDown",handler:(e,r)=>{let{nativeEvent:s}=e,{onActivation:i}=r;return s.button===cm.RightClick?!1:(i?.({event:s}),!0)}}];const wh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Uj extends Xm{constructor(r){super(r,wh)}static setup(){return window.addEventListener(wh.move.name,r,{capture:!1,passive:!1}),function(){window.removeEventListener(wh.move.name,r)};function r(){}}}Uj.activators=[{eventName:"onTouchStart",handler:(e,r)=>{let{nativeEvent:s}=e,{onActivation:i}=r;const{touches:o}=s;return o.length>1?!1:(i?.({event:s}),!0)}}];var pl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(pl||(pl={}));var su;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(su||(su={}));function aT(e){let{acceleration:r,activator:s=pl.Pointer,canScroll:i,draggingRect:o,enabled:u,interval:d=5,order:f=su.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:x,delta:y,threshold:b}=e;const j=iT({delta:y,disabled:!u}),[S,k]=yR(),w=v.useRef({x:0,y:0}),C=v.useRef({x:0,y:0}),A=v.useMemo(()=>{switch(s){case pl.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case pl.DraggableRect:return o}},[s,o,h]),R=v.useRef(null),O=v.useCallback(()=>{const L=R.current;if(!L)return;const E=w.current.x*C.current.x,D=w.current.y*C.current.y;L.scrollBy(E,D)},[]),T=v.useMemo(()=>f===su.TreeOrder?[...m].reverse():m,[f,m]);v.useEffect(()=>{if(!u||!m.length||!A){k();return}for(const L of T){if(i?.(L)===!1)continue;const E=m.indexOf(L),D=x[E];if(!D)continue;const{direction:P,speed:K}=GR(L,D,A,r,b);for(const Y of["x","y"])j[Y][P[Y]]||(K[Y]=0,P[Y]=0);if(K.x>0||K.y>0){k(),R.current=L,S(O,d),w.current=K,C.current=P;return}}w.current={x:0,y:0},C.current={x:0,y:0},k()},[r,O,i,k,u,d,JSON.stringify(A),JSON.stringify(j),S,m,T,x,JSON.stringify(b)])}const sT={x:{[Tt.Backward]:!1,[Tt.Forward]:!1},y:{[Tt.Backward]:!1,[Tt.Forward]:!1}};function iT(e){let{delta:r,disabled:s}=e;const i=nu(r);return Hl(o=>{if(s||!i||!o)return sT;const u={x:Math.sign(r.x-i.x),y:Math.sign(r.y-i.y)};return{x:{[Tt.Backward]:o.x[Tt.Backward]||u.x===-1,[Tt.Forward]:o.x[Tt.Forward]||u.x===1},y:{[Tt.Backward]:o.y[Tt.Backward]||u.y===-1,[Tt.Forward]:o.y[Tt.Forward]||u.y===1}}},[s,r,i])}function lT(e,r){const s=r!=null?e.get(r):void 0,i=s?s.node.current:null;return Hl(o=>{var u;return r==null?null:(u=i??o)!=null?u:null},[i,r])}function oT(e,r){return v.useMemo(()=>e.reduce((s,i)=>{const{sensor:o}=i,u=o.activators.map(d=>({eventName:d.eventName,handler:r(d.handler,i)}));return[...s,...u]},[]),[e,r])}var ai;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ai||(ai={}));var um;(function(e){e.Optimized="optimized"})(um||(um={}));const xv=new Map;function cT(e,r){let{dragging:s,dependencies:i,config:o}=r;const[u,d]=v.useState(null),{frequency:f,measure:h,strategy:m}=o,x=v.useRef(e),y=w(),b=Ml(y),j=v.useCallback(function(C){C===void 0&&(C=[]),!b.current&&d(A=>A===null?C:A.concat(C.filter(R=>!A.includes(R))))},[b]),S=v.useRef(null),k=Hl(C=>{if(y&&!s)return xv;if(!C||C===xv||x.current!==e||u!=null){const A=new Map;for(let R of e){if(!R)continue;if(u&&u.length>0&&!u.includes(R.id)&&R.rect.current){A.set(R.id,R.rect.current);continue}const O=R.node.current,T=O?new Km(h(O),O):null;R.rect.current=T,T&&A.set(R.id,T)}return A}return C},[e,u,s,y,h]);return v.useEffect(()=>{x.current=e},[e]),v.useEffect(()=>{y||j()},[s,y]),v.useEffect(()=>{u&&u.length>0&&d(null)},[JSON.stringify(u)]),v.useEffect(()=>{y||typeof f!="number"||S.current!==null||(S.current=setTimeout(()=>{j(),S.current=null},f))},[f,y,j,...i]),{droppableRects:k,measureDroppableContainers:j,measuringScheduled:u!=null};function w(){switch(m){case ai.Always:return!1;case ai.BeforeDragging:return s;default:return!s}}}function Jm(e,r){return Hl(s=>e?s||(typeof r=="function"?r(e):e):null,[r,e])}function uT(e,r){return Jm(e,r)}function dT(e){let{callback:r,disabled:s}=e;const i=Ru(r),o=v.useMemo(()=>{if(s||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,s]);return v.useEffect(()=>()=>o?.disconnect(),[o]),o}function Du(e){let{callback:r,disabled:s}=e;const i=Ru(r),o=v.useMemo(()=>{if(s||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[s]);return v.useEffect(()=>()=>o?.disconnect(),[o]),o}function fT(e){return new Km(hi(e),e)}function yv(e,r,s){r===void 0&&(r=fT);const[i,o]=v.useState(null);function u(){o(h=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=h??s)!=null?m:null}const x=r(e);return JSON.stringify(h)===JSON.stringify(x)?h:x})}const d=dT({callback(h){if(e)for(const m of h){const{type:x,target:y}=m;if(x==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),f=Du({callback:u});return Yn(()=>{u(),e?(f?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),d?.disconnect())},[e]),i}function hT(e){const r=Jm(e);return Rj(e,r)}const vv=[];function mT(e){const r=v.useRef(e),s=Hl(i=>e?i&&i!==vv&&e&&r.current&&e.parentNode===r.current.parentNode?i:Au(e):vv,[e]);return v.useEffect(()=>{r.current=e},[e]),s}function gT(e){const[r,s]=v.useState(null),i=v.useRef(e),o=v.useCallback(u=>{const d=bh(u.target);d&&s(f=>f?(f.set(d,om(d)),new Map(f)):null)},[]);return v.useEffect(()=>{const u=i.current;if(e!==u){d(u);const f=e.map(h=>{const m=bh(h);return m?(m.addEventListener("scroll",o,{passive:!0}),[m,om(m)]):null}).filter(h=>h!=null);s(f.length?new Map(f):null),i.current=e}return()=>{d(e),d(u)};function d(f){f.forEach(h=>{const m=bh(h);m?.removeEventListener("scroll",o)})}},[o,e]),v.useMemo(()=>e.length?r?Array.from(r.values()).reduce((u,d)=>Xs(u,d),Kn):zj(e):Kn,[e,r])}function bv(e,r){r===void 0&&(r=[]);const s=v.useRef(null);return v.useEffect(()=>{s.current=null},r),v.useEffect(()=>{const i=e!==Kn;i&&!s.current&&(s.current=e),!i&&s.current&&(s.current=null)},[e]),s.current?Rl(e,s.current):Kn}function pT(e){v.useEffect(()=>{if(!Mu)return;const r=e.map(s=>{let{sensor:i}=s;return i.setup==null?void 0:i.setup()});return()=>{for(const s of r)s?.()}},e.map(r=>{let{sensor:s}=r;return s}))}function xT(e,r){return v.useMemo(()=>e.reduce((s,i)=>{let{eventName:o,handler:u}=i;return s[o]=d=>{u(d,r)},s},{}),[e,r])}function Bj(e){return v.useMemo(()=>e?QR(e):null,[e])}const jv=[];function yT(e,r){r===void 0&&(r=hi);const[s]=e,i=Bj(s?Kt(s):null),[o,u]=v.useState(jv);function d(){u(()=>e.length?e.map(h=>_j(h)?i:new Km(r(h),h)):jv)}const f=Du({callback:d});return Yn(()=>{f?.disconnect(),d(),e.forEach(h=>f?.observe(h))},[e]),o}function Hj(e){if(!e)return null;if(e.children.length>1)return e;const r=e.children[0];return Bl(r)?r:e}function vT(e){let{measure:r}=e;const[s,i]=v.useState(null),o=v.useCallback(m=>{for(const{target:x}of m)if(Bl(x)){i(y=>{const b=r(x);return y?{...y,width:b.width,height:b.height}:b});break}},[r]),u=Du({callback:o}),d=v.useCallback(m=>{const x=Hj(m);u?.disconnect(),x&&u?.observe(x),i(x?r(x):null)},[r,u]),[f,h]=tu(d);return v.useMemo(()=>({nodeRef:f,rect:s,setRef:h}),[s,f,h])}const bT=[{sensor:Zm,options:{}},{sensor:Wm,options:{}}],jT={current:{}},zc={draggable:{measure:hv},droppable:{measure:hv,strategy:ai.WhileDragging,frequency:um.Optimized},dragOverlay:{measure:hi}};class xl extends Map{get(r){var s;return r!=null&&(s=super.get(r))!=null?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(r=>{let{disabled:s}=r;return!s})}getNodeFor(r){var s,i;return(s=(i=this.get(r))==null?void 0:i.node.current)!=null?s:void 0}}const wT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new xl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:au},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zc,measureDroppableContainers:au,windowRect:null,measuringScheduled:!1},$j={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:au,draggableNodes:new Map,over:null,measureDroppableContainers:au},Ql=v.createContext($j),Qj=v.createContext(wT);function kT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new xl}}}function NT(e,r){switch(r.type){case St.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:r.initialCoordinates,active:r.active}};case St.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:r.coordinates.x-e.draggable.initialCoordinates.x,y:r.coordinates.y-e.draggable.initialCoordinates.y}}};case St.DragEnd:case St.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case St.RegisterDroppable:{const{element:s}=r,{id:i}=s,o=new xl(e.droppable.containers);return o.set(i,s),{...e,droppable:{...e.droppable,containers:o}}}case St.SetDroppableDisabled:{const{id:s,key:i,disabled:o}=r,u=e.droppable.containers.get(s);if(!u||i!==u.key)return e;const d=new xl(e.droppable.containers);return d.set(s,{...u,disabled:o}),{...e,droppable:{...e.droppable,containers:d}}}case St.UnregisterDroppable:{const{id:s,key:i}=r,o=e.droppable.containers.get(s);if(!o||i!==o.key)return e;const u=new xl(e.droppable.containers);return u.delete(s),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function ST(e){let{disabled:r}=e;const{active:s,activatorEvent:i,draggableNodes:o}=v.useContext(Ql),u=nu(i),d=nu(s?.id);return v.useEffect(()=>{if(!r&&!i&&u&&d!=null){if(!Tu(u)||document.activeElement===u.target)return;const f=o.get(d);if(!f)return;const{activatorNode:h,node:m}=f;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const x of[h.current,m.current]){if(!x)continue;const y=jR(x);if(y){y.focus();break}}})}},[i,r,o,d,u]),null}function qj(e,r){let{transform:s,...i}=r;return e!=null&&e.length?e.reduce((o,u)=>u({transform:o,...i}),s):s}function CT(e){return v.useMemo(()=>({draggable:{...zc.draggable,...e?.draggable},droppable:{...zc.droppable,...e?.droppable},dragOverlay:{...zc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function ET(e){let{activeNode:r,measure:s,initialRect:i,config:o=!0}=e;const u=v.useRef(!1),{x:d,y:f}=typeof o=="boolean"?{x:o,y:o}:o;Yn(()=>{if(!d&&!f||!r){u.current=!1;return}if(u.current||!i)return;const m=r?.node.current;if(!m||m.isConnected===!1)return;const x=s(m),y=Rj(x,i);if(d||(y.x=0),f||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const b=Aj(m);b&&b.scrollBy({top:y.y,left:y.x})}},[r,d,f,i,s])}const Ou=v.createContext({...Kn,scaleX:1,scaleY:1});var ga;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ga||(ga={}));const MT=v.memo(function(r){var s,i,o,u;let{id:d,accessibility:f,autoScroll:h=!0,children:m,sensors:x=bT,collisionDetection:y=PR,measuring:b,modifiers:j,...S}=r;const k=v.useReducer(NT,void 0,kT),[w,C]=k,[A,R]=ER(),[O,T]=v.useState(ga.Uninitialized),L=O===ga.Initialized,{draggable:{active:E,nodes:D,translate:P},droppable:{containers:K}}=w,Y=E!=null?D.get(E):null,ae=v.useRef({initial:null,translated:null}),ie=v.useMemo(()=>{var ft;return E!=null?{id:E,data:(ft=Y?.data)!=null?ft:jT,rect:ae}:null},[E,Y]),le=v.useRef(null),[ue,H]=v.useState(null),[Q,I]=v.useState(null),ne=Ml(S,Object.values(S)),ce=$l("DndDescribedBy",d),_=v.useMemo(()=>K.getEnabled(),[K]),B=CT(b),{droppableRects:X,measureDroppableContainers:ee,measuringScheduled:se}=cT(_,{dragging:L,dependencies:[P.x,P.y],config:B.droppable}),fe=lT(D,E),ye=v.useMemo(()=>Q?ru(Q):null,[Q]),et=as(),Le=uT(fe,B.draggable.measure);ET({activeNode:E!=null?D.get(E):null,config:et.layoutShiftCompensation,initialRect:Le,measure:B.draggable.measure});const Re=yv(fe,B.draggable.measure,Le),Xt=yv(fe?fe.parentElement:null),jt=v.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),fr=K.getNodeFor((s=jt.current.over)==null?void 0:s.id),At=vT({measure:B.dragOverlay.measure}),tr=(i=At.nodeRef.current)!=null?i:fe,nr=L?(o=At.rect)!=null?o:Re:null,Vl=!!(At.nodeRef.current&&At.rect),mi=hT(Vl?null:Re),ja=Bj(tr?Kt(tr):null),jn=mT(L?fr??fe:null),Hr=yT(jn),ns=qj(j,{transform:{x:P.x-mi.x,y:P.y-mi.y,scaleX:1,scaleY:1},activatorEvent:Q,active:ie,activeNodeRect:Re,containerNodeRect:Xt,draggingNodeRect:nr,over:jt.current.over,overlayNodeRect:At.rect,scrollableAncestors:jn,scrollableAncestorRects:Hr,windowRect:ja}),Gl=ye?Xs(ye,P):null,Bt=gT(jn),Iu=bv(Bt),Yl=bv(Bt,[Re]),hr=Xs(ns,Iu),Bn=nr?BR(nr,ns):null,wa=ie&&Bn?y({active:ie,collisionRect:Bn,droppableRects:X,droppableContainers:_,pointerCoordinates:Gl}):null,gi=Ej(wa,"id"),[rr,Kl]=v.useState(null),ka=Vl?ns:Xs(ns,Yl),Ft=IR(ka,(u=rr?.rect)!=null?u:null,Re),wn=v.useRef(null),Ht=v.useCallback((ft,ht)=>{let{sensor:Et,options:Zt}=ht;if(le.current==null)return;const Jt=D.get(le.current);if(!Jt)return;const $t=ft.nativeEvent,en=new Et({active:le.current,activeNode:Jt,event:$t,options:Zt,context:jt,onAbort(wt){if(!D.get(wt))return;const{onDragAbort:cn}=ne.current,Nn={id:wt};cn?.(Nn),A({type:"onDragAbort",event:Nn})},onPending(wt,Hn,cn,Nn){if(!D.get(wt))return;const{onDragPending:gr}=ne.current,$n={id:wt,constraint:Hn,initialCoordinates:cn,offset:Nn};gr?.($n),A({type:"onDragPending",event:$n})},onStart(wt){const Hn=le.current;if(Hn==null)return;const cn=D.get(Hn);if(!cn)return;const{onDragStart:Nn}=ne.current,mr={activatorEvent:$t,active:{id:Hn,data:cn.data,rect:ae}};qa.unstable_batchedUpdates(()=>{Nn?.(mr),T(ga.Initializing),C({type:St.DragStart,initialCoordinates:wt,active:Hn}),A({type:"onDragStart",event:mr}),H(wn.current),I($t)})},onMove(wt){C({type:St.DragMove,coordinates:wt})},onEnd:kn(St.DragEnd),onCancel:kn(St.DragCancel)});wn.current=en;function kn(wt){return async function(){const{active:cn,collisions:Nn,over:mr,scrollAdjustedTranslate:gr}=jt.current;let $n=null;if(cn&&gr){const{cancelDrop:$r}=ne.current;$n={activatorEvent:$t,active:cn,collisions:Nn,delta:gr,over:mr},wt===St.DragEnd&&typeof $r=="function"&&await Promise.resolve($r($n))&&(wt=St.DragCancel)}le.current=null,qa.unstable_batchedUpdates(()=>{C({type:wt}),T(ga.Uninitialized),Kl(null),H(null),I(null),wn.current=null;const $r=wt===St.DragEnd?"onDragEnd":"onDragCancel";if($n){const Sn=ne.current[$r];Sn?.($n),A({type:$r,event:$n})}})}}},[D]),Uu=v.useCallback((ft,ht)=>(Et,Zt)=>{const Jt=Et.nativeEvent,$t=D.get(Zt);if(le.current!==null||!$t||Jt.dndKit||Jt.defaultPrevented)return;const en={active:$t};ft(Et,ht.options,en)===!0&&(Jt.dndKit={capturedBy:ht.sensor},le.current=Zt,Ht(Et,ht))},[D,Ht]),Wl=oT(x,Uu);pT(x),Yn(()=>{Re&&O===ga.Initializing&&T(ga.Initialized)},[Re,O]),v.useEffect(()=>{const{onDragMove:ft}=ne.current,{active:ht,activatorEvent:Et,collisions:Zt,over:Jt}=jt.current;if(!ht||!Et)return;const $t={active:ht,activatorEvent:Et,collisions:Zt,delta:{x:hr.x,y:hr.y},over:Jt};qa.unstable_batchedUpdates(()=>{ft?.($t),A({type:"onDragMove",event:$t})})},[hr.x,hr.y]),v.useEffect(()=>{const{active:ft,activatorEvent:ht,collisions:Et,droppableContainers:Zt,scrollAdjustedTranslate:Jt}=jt.current;if(!ft||le.current==null||!ht||!Jt)return;const{onDragOver:$t}=ne.current,en=Zt.get(gi),kn=en&&en.rect.current?{id:en.id,rect:en.rect.current,data:en.data,disabled:en.disabled}:null,wt={active:ft,activatorEvent:ht,collisions:Et,delta:{x:Jt.x,y:Jt.y},over:kn};qa.unstable_batchedUpdates(()=>{Kl(kn),$t?.(wt),A({type:"onDragOver",event:wt})})},[gi]),Yn(()=>{jt.current={activatorEvent:Q,active:ie,activeNode:fe,collisionRect:Bn,collisions:wa,droppableRects:X,draggableNodes:D,draggingNode:tr,draggingNodeRect:nr,droppableContainers:K,over:rr,scrollableAncestors:jn,scrollAdjustedTranslate:hr},ae.current={initial:nr,translated:Bn}},[ie,fe,wa,Bn,D,tr,nr,X,K,rr,jn,hr]),aT({...et,delta:P,draggingRect:Bn,pointerCoordinates:Gl,scrollableAncestors:jn,scrollableAncestorRects:Hr});const Bu=v.useMemo(()=>({active:ie,activeNode:fe,activeNodeRect:Re,activatorEvent:Q,collisions:wa,containerNodeRect:Xt,dragOverlay:At,draggableNodes:D,droppableContainers:K,droppableRects:X,over:rr,measureDroppableContainers:ee,scrollableAncestors:jn,scrollableAncestorRects:Hr,measuringConfiguration:B,measuringScheduled:se,windowRect:ja}),[ie,fe,Re,Q,wa,Xt,At,D,K,X,rr,ee,jn,Hr,B,se,ja]),rs=v.useMemo(()=>({activatorEvent:Q,activators:Wl,active:ie,activeNodeRect:Re,ariaDescribedById:{draggable:ce},dispatch:C,draggableNodes:D,over:rr,measureDroppableContainers:ee}),[Q,Wl,ie,Re,C,ce,D,rr,ee]);return ke.createElement(Cj.Provider,{value:R},ke.createElement(Ql.Provider,{value:rs},ke.createElement(Qj.Provider,{value:Bu},ke.createElement(Ou.Provider,{value:Ft},m)),ke.createElement(ST,{disabled:f?.restoreFocus===!1})),ke.createElement(TR,{...f,hiddenTextDescribedById:ce}));function as(){const ft=ue?.autoScrollEnabled===!1,ht=typeof h=="object"?h.enabled===!1:h===!1,Et=L&&!ft&&!ht;return typeof h=="object"?{...h,enabled:Et}:{enabled:Et}}}),RT=v.createContext(null),wv="button",TT="Draggable";function AT(e){let{id:r,data:s,disabled:i=!1,attributes:o}=e;const u=$l(TT),{activators:d,activatorEvent:f,active:h,activeNodeRect:m,ariaDescribedById:x,draggableNodes:y,over:b}=v.useContext(Ql),{role:j=wv,roleDescription:S="draggable",tabIndex:k=0}=o??{},w=h?.id===r,C=v.useContext(w?Ou:RT),[A,R]=tu(),[O,T]=tu(),L=xT(d,r),E=Ml(s);Yn(()=>(y.set(r,{id:r,key:u,node:A,activatorNode:O,data:E}),()=>{const P=y.get(r);P&&P.key===u&&y.delete(r)}),[y,r]);const D=v.useMemo(()=>({role:j,tabIndex:k,"aria-disabled":i,"aria-pressed":w&&j===wv?!0:void 0,"aria-roledescription":S,"aria-describedby":x.draggable}),[i,j,k,w,S,x.draggable]);return{active:h,activatorEvent:f,activeNodeRect:m,attributes:D,isDragging:w,listeners:i?void 0:L,node:A,over:b,setNodeRef:R,setActivatorNodeRef:T,transform:C}}function Fj(){return v.useContext(Qj)}const DT="Droppable",OT={timeout:25};function Vj(e){let{data:r,disabled:s=!1,id:i,resizeObserverConfig:o}=e;const u=$l(DT),{active:d,dispatch:f,over:h,measureDroppableContainers:m}=v.useContext(Ql),x=v.useRef({disabled:s}),y=v.useRef(!1),b=v.useRef(null),j=v.useRef(null),{disabled:S,updateMeasurementsFor:k,timeout:w}={...OT,...o},C=Ml(k??i),A=v.useCallback(()=>{if(!y.current){y.current=!0;return}j.current!=null&&clearTimeout(j.current),j.current=setTimeout(()=>{m(Array.isArray(C.current)?C.current:[C.current]),j.current=null},w)},[w]),R=Du({callback:A,disabled:S||!d}),O=v.useCallback((D,P)=>{R&&(P&&(R.unobserve(P),y.current=!1),D&&R.observe(D))},[R]),[T,L]=tu(O),E=Ml(r);return v.useEffect(()=>{!R||!T.current||(R.disconnect(),y.current=!1,R.observe(T.current))},[T,R]),v.useEffect(()=>(f({type:St.RegisterDroppable,element:{id:i,key:u,disabled:s,node:T,rect:b,data:E}}),()=>f({type:St.UnregisterDroppable,key:u,id:i})),[i]),v.useEffect(()=>{s!==x.current.disabled&&(f({type:St.SetDroppableDisabled,id:i,key:u,disabled:s}),x.current.disabled=s)},[i,u,s,f]),{active:d,rect:b,isOver:h?.id===i,node:T,over:h,setNodeRef:L}}function _T(e){let{animation:r,children:s}=e;const[i,o]=v.useState(null),[u,d]=v.useState(null),f=nu(s);return!s&&!i&&f&&o(f),Yn(()=>{if(!u)return;const h=i?.key,m=i?.props.id;if(h==null||m==null){o(null);return}Promise.resolve(r(m,u)).then(()=>{o(null)})},[r,i,u]),ke.createElement(ke.Fragment,null,s,i?v.cloneElement(i,{ref:d}):null)}const LT={x:0,y:0,scaleX:1,scaleY:1};function zT(e){let{children:r}=e;return ke.createElement(Ql.Provider,{value:$j},ke.createElement(Ou.Provider,{value:LT},r))}const PT={position:"fixed",touchAction:"none"},IT=e=>Tu(e)?"transform 250ms ease":void 0,UT=v.forwardRef((e,r)=>{let{as:s,activatorEvent:i,adjustScale:o,children:u,className:d,rect:f,style:h,transform:m,transition:x=IT}=e;if(!f)return null;const y=o?m:{...m,scaleX:1,scaleY:1},b={...PT,width:f.width,height:f.height,top:f.top,left:f.left,transform:va.Transform.toString(y),transformOrigin:o&&i?OR(i,f):void 0,transition:typeof x=="function"?x(i):x,...h};return ke.createElement(s,{className:d,style:b,ref:r},u)}),BT=e=>r=>{let{active:s,dragOverlay:i}=r;const o={},{styles:u,className:d}=e;if(u!=null&&u.active)for(const[f,h]of Object.entries(u.active))h!==void 0&&(o[f]=s.node.style.getPropertyValue(f),s.node.style.setProperty(f,h));if(u!=null&&u.dragOverlay)for(const[f,h]of Object.entries(u.dragOverlay))h!==void 0&&i.node.style.setProperty(f,h);return d!=null&&d.active&&s.node.classList.add(d.active),d!=null&&d.dragOverlay&&i.node.classList.add(d.dragOverlay),function(){for(const[h,m]of Object.entries(o))s.node.style.setProperty(h,m);d!=null&&d.active&&s.node.classList.remove(d.active)}},HT=e=>{let{transform:{initial:r,final:s}}=e;return[{transform:va.Transform.toString(r)},{transform:va.Transform.toString(s)}]},$T={duration:250,easing:"ease",keyframes:HT,sideEffects:BT({styles:{active:{opacity:"0"}}})};function QT(e){let{config:r,draggableNodes:s,droppableContainers:i,measuringConfiguration:o}=e;return Ru((u,d)=>{if(r===null)return;const f=s.get(u);if(!f)return;const h=f.node.current;if(!h)return;const m=Hj(d);if(!m)return;const{transform:x}=Kt(d).getComputedStyle(d),y=Tj(x);if(!y)return;const b=typeof r=="function"?r:qT(r);return Pj(h,o.draggable.measure),b({active:{id:u,data:f.data,node:h,rect:o.draggable.measure(h)},draggableNodes:s,dragOverlay:{node:d,rect:o.dragOverlay.measure(m)},droppableContainers:i,measuringConfiguration:o,transform:y})})}function qT(e){const{duration:r,easing:s,sideEffects:i,keyframes:o}={...$T,...e};return u=>{let{active:d,dragOverlay:f,transform:h,...m}=u;if(!r)return;const x={x:f.rect.left-d.rect.left,y:f.rect.top-d.rect.top},y={scaleX:h.scaleX!==1?d.rect.width*h.scaleX/f.rect.width:1,scaleY:h.scaleY!==1?d.rect.height*h.scaleY/f.rect.height:1},b={x:h.x-x.x,y:h.y-x.y,...y},j=o({...m,active:d,dragOverlay:f,transform:{initial:h,final:b}}),[S]=j,k=j[j.length-1];if(JSON.stringify(S)===JSON.stringify(k))return;const w=i?.({active:d,dragOverlay:f,...m}),C=f.node.animate(j,{duration:r,easing:s,fill:"forwards"});return new Promise(A=>{C.onfinish=()=>{w?.(),A()}})}}let kv=0;function FT(e){return v.useMemo(()=>{if(e!=null)return kv++,kv},[e])}const VT=ke.memo(e=>{let{adjustScale:r=!1,children:s,dropAnimation:i,style:o,transition:u,modifiers:d,wrapperElement:f="div",className:h,zIndex:m=999}=e;const{activatorEvent:x,active:y,activeNodeRect:b,containerNodeRect:j,draggableNodes:S,droppableContainers:k,dragOverlay:w,over:C,measuringConfiguration:A,scrollableAncestors:R,scrollableAncestorRects:O,windowRect:T}=Fj(),L=v.useContext(Ou),E=FT(y?.id),D=qj(d,{activatorEvent:x,active:y,activeNodeRect:b,containerNodeRect:j,draggingNodeRect:w.rect,over:C,overlayNodeRect:w.rect,scrollableAncestors:R,scrollableAncestorRects:O,transform:L,windowRect:T}),P=Jm(b),K=QT({config:i,draggableNodes:S,droppableContainers:k,measuringConfiguration:A}),Y=P?w.setRef:void 0;return ke.createElement(zT,null,ke.createElement(_T,{animation:K},y&&E?ke.createElement(UT,{key:E,id:y.id,ref:Y,as:f,activatorEvent:x,adjustScale:r,className:h,transition:u,rect:P,style:{zIndex:m,...o},transform:D},s):null))});function Gj(e,r,s){const i=e.slice();return i.splice(s<0?i.length+s:s,0,i.splice(r,1)[0]),i}function GT(e,r){return e.reduce((s,i,o)=>{const u=r.get(i);return u&&(s[o]=u),s},Array(e.length))}function bc(e){return e!==null&&e>=0}function YT(e,r){if(e===r)return!0;if(e.length!==r.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==r[s])return!1;return!0}function KT(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Yj=e=>{let{rects:r,activeIndex:s,overIndex:i,index:o}=e;const u=Gj(r,i,s),d=r[o],f=u[o];return!f||!d?null:{x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height}},jc={scaleX:1,scaleY:1},WT=e=>{var r;let{activeIndex:s,activeNodeRect:i,index:o,rects:u,overIndex:d}=e;const f=(r=u[s])!=null?r:i;if(!f)return null;if(o===s){const m=u[d];return m?{x:0,y:s<d?m.top+m.height-(f.top+f.height):m.top-f.top,...jc}:null}const h=XT(u,o,s);return o>s&&o<=d?{x:0,y:-f.height-h,...jc}:o<s&&o>=d?{x:0,y:f.height+h,...jc}:{x:0,y:0,...jc}};function XT(e,r,s){const i=e[r],o=e[r-1],u=e[r+1];return i?s<r?o?i.top-(o.top+o.height):u?u.top-(i.top+i.height):0:u?u.top-(i.top+i.height):o?i.top-(o.top+o.height):0:0}const Kj="Sortable",Wj=ke.createContext({activeIndex:-1,containerId:Kj,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Yj,disabled:{draggable:!1,droppable:!1}});function ZT(e){let{children:r,id:s,items:i,strategy:o=Yj,disabled:u=!1}=e;const{active:d,dragOverlay:f,droppableRects:h,over:m,measureDroppableContainers:x}=Fj(),y=$l(Kj,s),b=f.rect!==null,j=v.useMemo(()=>i.map(L=>typeof L=="object"&&"id"in L?L.id:L),[i]),S=d!=null,k=d?j.indexOf(d.id):-1,w=m?j.indexOf(m.id):-1,C=v.useRef(j),A=!YT(j,C.current),R=w!==-1&&k===-1||A,O=KT(u);Yn(()=>{A&&S&&x(j)},[A,j,S,x]),v.useEffect(()=>{C.current=j},[j]);const T=v.useMemo(()=>({activeIndex:k,containerId:y,disabled:O,disableTransforms:R,items:j,overIndex:w,useDragOverlay:b,sortedRects:GT(j,h),strategy:o}),[k,y,O.draggable,O.droppable,R,j,w,h,b,o]);return ke.createElement(Wj.Provider,{value:T},r)}const JT=e=>{let{id:r,items:s,activeIndex:i,overIndex:o}=e;return Gj(s,i,o).indexOf(r)},eA=e=>{let{containerId:r,isSorting:s,wasDragging:i,index:o,items:u,newIndex:d,previousItems:f,previousContainerId:h,transition:m}=e;return!m||!i||f!==u&&o===d?!1:s?!0:d!==o&&r===h},tA={duration:200,easing:"ease"},Xj="transform",nA=va.Transition.toString({property:Xj,duration:0,easing:"linear"}),rA={roleDescription:"sortable"};function aA(e){let{disabled:r,index:s,node:i,rect:o}=e;const[u,d]=v.useState(null),f=v.useRef(s);return Yn(()=>{if(!r&&s!==f.current&&i.current){const h=o.current;if(h){const m=hi(i.current,{ignoreTransform:!0}),x={x:h.left-m.left,y:h.top-m.top,scaleX:h.width/m.width,scaleY:h.height/m.height};(x.x||x.y)&&d(x)}}s!==f.current&&(f.current=s)},[r,s,i,o]),v.useEffect(()=>{u&&d(null)},[u]),u}function sA(e){let{animateLayoutChanges:r=eA,attributes:s,disabled:i,data:o,getNewIndex:u=JT,id:d,strategy:f,resizeObserverConfig:h,transition:m=tA}=e;const{items:x,containerId:y,activeIndex:b,disabled:j,disableTransforms:S,sortedRects:k,overIndex:w,useDragOverlay:C,strategy:A}=v.useContext(Wj),R=iA(i,j),O=x.indexOf(d),T=v.useMemo(()=>({sortable:{containerId:y,index:O,items:x},...o}),[y,o,O,x]),L=v.useMemo(()=>x.slice(x.indexOf(d)),[x,d]),{rect:E,node:D,isOver:P,setNodeRef:K}=Vj({id:d,data:T,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:L,...h}}),{active:Y,activatorEvent:ae,activeNodeRect:ie,attributes:le,setNodeRef:ue,listeners:H,isDragging:Q,over:I,setActivatorNodeRef:ne,transform:ce}=AT({id:d,data:T,attributes:{...rA,...s},disabled:R.draggable}),_=xR(K,ue),B=!!Y,X=B&&!S&&bc(b)&&bc(w),ee=!C&&Q,se=ee&&X?ce:null,ye=X?se??(f??A)({rects:k,activeNodeRect:ie,activeIndex:b,overIndex:w,index:O}):null,et=bc(b)&&bc(w)?u({id:d,items:x,activeIndex:b,overIndex:w}):O,Le=Y?.id,Re=v.useRef({activeId:Le,items:x,newIndex:et,containerId:y}),Xt=x!==Re.current.items,jt=r({active:Y,containerId:y,isDragging:Q,isSorting:B,id:d,index:O,items:x,newIndex:Re.current.newIndex,previousItems:Re.current.items,previousContainerId:Re.current.containerId,transition:m,wasDragging:Re.current.activeId!=null}),fr=aA({disabled:!jt,index:O,node:D,rect:E});return v.useEffect(()=>{B&&Re.current.newIndex!==et&&(Re.current.newIndex=et),y!==Re.current.containerId&&(Re.current.containerId=y),x!==Re.current.items&&(Re.current.items=x)},[B,et,y,x]),v.useEffect(()=>{if(Le===Re.current.activeId)return;if(Le!=null&&Re.current.activeId==null){Re.current.activeId=Le;return}const tr=setTimeout(()=>{Re.current.activeId=Le},50);return()=>clearTimeout(tr)},[Le]),{active:Y,activeIndex:b,attributes:le,data:T,rect:E,index:O,newIndex:et,items:x,isOver:P,isSorting:B,isDragging:Q,listeners:H,node:D,overIndex:w,over:I,setNodeRef:_,setActivatorNodeRef:ne,setDroppableNodeRef:K,setDraggableNodeRef:ue,transform:fr??ye,transition:At()};function At(){if(fr||Xt&&Re.current.newIndex===O)return nA;if(!(ee&&!Tu(ae)||!m)&&(B||jt))return va.Transition.toString({...m,property:Xj})}}function iA(e,r){var s,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(s=e?.draggable)!=null?s:r.draggable,droppable:(i=e?.droppable)!=null?i:r.droppable}}function iu(e){if(!e)return!1;const r=e.data.current;return!!(r&&"sortable"in r&&typeof r.sortable=="object"&&"containerId"in r.sortable&&"items"in r.sortable&&"index"in r.sortable)}const lA=[He.Down,He.Right,He.Up,He.Left],oA=(e,r)=>{let{context:{active:s,collisionRect:i,droppableRects:o,droppableContainers:u,over:d,scrollableAncestors:f}}=r;if(lA.includes(e.code)){if(e.preventDefault(),!s||!i)return;const h=[];u.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const b=o.get(y.id);if(b)switch(e.code){case He.Down:i.top<b.top&&h.push(y);break;case He.Up:i.top>b.top&&h.push(y);break;case He.Left:i.left>b.left&&h.push(y);break;case He.Right:i.left<b.left&&h.push(y);break}});const m=Mj({collisionRect:i,droppableRects:o,droppableContainers:h});let x=Ej(m,"id");if(x===d?.id&&m.length>1&&(x=m[1].id),x!=null){const y=u.get(s.id),b=u.get(x),j=b?o.get(b.id):null,S=b?.node.current;if(S&&j&&y&&b){const w=Au(S).some((L,E)=>f[E]!==L),C=Zj(y,b),A=cA(y,b),R=w||!C?{x:0,y:0}:{x:A?i.width-j.width:0,y:A?i.height-j.height:0},O={x:j.left,y:j.top};return R.x&&R.y?O:Rl(O,R)}}}};function Zj(e,r){return!iu(e)||!iu(r)?!1:e.data.current.sortable.containerId===r.data.current.sortable.containerId}function cA(e,r){return!iu(e)||!iu(r)||!Zj(e,r)?!1:e.data.current.sortable.index<r.data.current.sortable.index}function uA(e,r){return r===null?`column-${e}`:`column-${e}-swimlane-${r}`}function dA(e,r){if(e.length===0)return 1;const s=[...e].sort((u,d)=>u-d);if(r<=0){const u=s[0]??1;return Math.max(.5,u/2)}if(r>=s.length)return(s[s.length-1]??0)+1;const i=s[r-1]??0,o=s[r]??i+2;return(i+o)/2}function fA(e,r){return r>0&&e>=r}function Nv({columnId:e,swimlaneId:r,tasks:s,taskLimit:i,children:o}){const u=uA(e,r),{isOver:d,setNodeRef:f}=Vj({id:u,data:{type:"column",columnId:e,swimlaneId:r}}),h=fA(s.length,i),m=s.map(y=>y.id),x=()=>{const y=["min-h-[100px]","rounded-md","transition-colors","duration-200"];return d&&(h?y.push("bg-red-50","dark:bg-red-900/20","ring-2","ring-red-400"):y.push("bg-blue-50","dark:bg-blue-900/20","ring-2","ring-blue-400")),y.join(" ")};return n.jsx(ZT,{items:m,strategy:WT,children:n.jsxs("div",{ref:f,className:x(),children:[o,s.length===0&&d&&!h&&n.jsx("div",{className:"border-2 border-dashed border-blue-400 rounded-lg p-4 text-center text-blue-500 dark:text-blue-400 text-sm",children:"Drop here"}),d&&h&&n.jsx("div",{className:"border-2 border-dashed border-red-400 rounded-lg p-4 text-center text-red-500 dark:text-red-400 text-sm",children:"WIP limit reached"})]})})}function hA(){return n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}function mA(){return n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}function gA(){return n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})}function pA(){return n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}const xA=[{value:0,label:"None",color:"bg-gray-400"},{value:1,label:"Low",color:"bg-blue-400"},{value:2,label:"Normal",color:"bg-yellow-400"},{value:3,label:"High",color:"bg-orange-400"},{value:4,label:"Urgent",color:"bg-red-500"}];function yA({taskId:e,projectId:r,currentPriority:s,isOpen:i,onClose:o}){const u=q.useUtils(),d=q.task.update.useMutation({onSuccess:()=>{u.task.list.invalidate({projectId:r}),o()}});return i?n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50 min-w-[120px]",children:xA.map(f=>n.jsxs("button",{className:Se("w-full px-3 py-1.5 text-left text-sm flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",s===f.value&&"bg-gray-50 dark:bg-gray-700/50"),onClick:()=>{d.mutate({taskId:e,priority:f.value})},disabled:d.isPending,children:[n.jsx("span",{className:Se("w-2 h-2 rounded-full",f.color)}),n.jsx("span",{children:f.label}),s===f.value&&n.jsx(pA,{})]},f.value))}):null}function vA({taskId:e,projectId:r,currentPriority:s,isVisible:i,onOpenDetail:o,onOpenContextMenu:u,className:d}){const[f,h]=v.useState(!1),m=v.useCallback(b=>{b.stopPropagation(),o?.()},[o]),x=v.useCallback(b=>{b.stopPropagation(),h(j=>!j)},[]),y=v.useCallback(b=>{b.stopPropagation(),u?.(b)},[u]);return i?n.jsxs("div",{className:Se("absolute top-1 right-1 flex items-center gap-0.5 bg-white dark:bg-gray-700 rounded shadow-sm border border-gray-200 dark:border-gray-600",d),onClick:b=>b.stopPropagation(),children:[n.jsx(re,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-gray-100 dark:hover:bg-gray-600",onClick:m,title:"Open task details",children:n.jsx(hA,{})}),n.jsxs("div",{className:"relative",children:[n.jsx(re,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-gray-100 dark:hover:bg-gray-600",onClick:x,title:"Change priority",children:n.jsx(mA,{})}),n.jsx(yA,{taskId:e,projectId:r,currentPriority:s,isOpen:f,onClose:()=>h(!1)})]}),n.jsx(re,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-gray-100 dark:hover:bg-gray-600",onClick:y,title:"More actions",children:n.jsx(gA,{})})]}):null}const Sv={0:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400",1:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",2:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",3:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"},bA={0:"Low",1:"Normal",2:"High",3:"Urgent"};function jA({priority:e}){return e===0?null:n.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${Sv[e]??Sv[0]}`,children:bA[e]??"Low"})}function wA({tag:e}){const r=e.color??"#6B7280";return n.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium text-white",style:{backgroundColor:r},children:e.name})}function kA({assignee:e}){const r=(e.name??e.username).split(" ").map(s=>s[0]).join("").slice(0,2).toUpperCase();return e.avatarUrl?n.jsx("img",{src:e.avatarUrl,alt:e.name??e.username,className:"h-6 w-6 rounded-full ring-2 ring-white dark:ring-gray-800",title:e.name??e.username}):n.jsx("div",{className:"h-6 w-6 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-xs font-medium text-gray-700 dark:text-gray-300 ring-2 ring-white dark:ring-gray-800",title:e.name??e.username,children:r})}function NA(){return n.jsx("svg",{className:"h-3.5 w-3.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}function SA(){return n.jsx("svg",{className:"h-3.5 w-3.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}function CA(){return n.jsx("svg",{className:"h-3.5 w-3.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}function EA(e){const r=new Date(e),s=new Date,i=Math.ceil((r.getTime()-s.getTime())/(1e3*60*60*24)),o=i<0,u=i>=0&&i<=2,d={month:"short",day:"numeric"};return{text:r.toLocaleDateString(void 0,d),isOverdue:o,isDueSoon:u}}function MA({task:e,projectId:r,onTaskClick:s,onContextMenu:i}){const[o,u]=v.useState(!1),d=()=>{s&&s(e.id)},f=m=>{i&&i(e.id,m)},h=e.dateDue?EA(e.dateDue):null;return n.jsxs("div",{className:"relative bg-white dark:bg-gray-700 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow cursor-pointer border border-transparent hover:border-blue-300 dark:hover:border-blue-600",onClick:d,onContextMenu:f,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),"data-task-id":e.id,"data-draggable":"true",children:[n.jsx(vA,{taskId:e.id,projectId:r,currentPriority:e.priority,isVisible:o,onOpenDetail:()=>s?.(e.id),onOpenContextMenu:m=>i?.(e.id,m)}),n.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[e.reference&&n.jsx("span",{className:"text-xs font-mono text-gray-400 dark:text-gray-500",children:e.reference}),n.jsx(jA,{priority:e.priority})]}),n.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2 line-clamp-2",children:e.title}),e.tags.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[e.tags.slice(0,3).map(m=>n.jsx(wA,{tag:m},m.id)),e.tags.length>3&&n.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:["+",e.tags.length-3]})]}),e.progress>0&&n.jsx("div",{className:"mb-2",children:n.jsx("div",{className:"h-1.5 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all",style:{width:`${e.progress}%`}})})}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400 dark:text-gray-500",children:[e.subtaskCount>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(NA,{}),e.subtaskCount]}),e.commentCount>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(SA,{}),e.commentCount]}),h&&n.jsxs("span",{className:`flex items-center gap-1 ${h.isOverdue?"text-red-500 dark:text-red-400":h.isDueSoon?"text-orange-500 dark:text-orange-400":""}`,children:[n.jsx(CA,{}),h.text]})]}),e.assignees.length>0&&n.jsxs("div",{className:"flex -space-x-2",children:[e.assignees.slice(0,3).map(m=>n.jsx(kA,{assignee:m},m.id)),e.assignees.length>3&&n.jsxs("div",{className:"h-6 w-6 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-xs font-medium text-gray-600 dark:text-gray-300 ring-2 ring-white dark:ring-gray-800",children:["+",e.assignees.length-3]})]})]})]})}function RA({task:e,projectId:r,onTaskClick:s,onTaskContextMenu:i}){const{attributes:o,listeners:u,setNodeRef:d,transform:f,transition:h,isDragging:m}=sA({id:e.id,data:{type:"task",task:e}}),x={transform:va.Transform.toString(f),transition:h,opacity:m?.5:1};return n.jsx("div",{ref:d,style:x,className:`touch-none ${m?"z-50":""}`,...o,...u,children:n.jsx(MA,{task:e,projectId:r,onTaskClick:s,onContextMenu:i})})}function kh(){return n.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-3 shadow-sm animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]})}function TA(){return n.jsx("div",{className:"flex items-center justify-center h-20 border-2 border-dashed border-gray-200 dark:border-gray-600 rounded-lg",children:n.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-500",children:"No tasks"})})}function Cv({tasks:e,columnId:r,swimlaneId:s,projectId:i,taskLimit:o=0,showEmpty:u=!0,isLoading:d=!1,onTaskClick:f,onTaskContextMenu:h}){return d?n.jsxs("div",{className:"space-y-2",children:[n.jsx(kh,{}),n.jsx(kh,{}),n.jsx(kh,{})]}):e.length===0?n.jsx(Nv,{columnId:r,swimlaneId:s,tasks:e,taskLimit:o,children:u?n.jsx(TA,{}):null}):n.jsx(Nv,{columnId:r,swimlaneId:s,tasks:e,taskLimit:o,children:n.jsx("div",{className:"space-y-2",children:e.map(m=>n.jsx(RA,{task:m,projectId:i,onTaskClick:f,onTaskContextMenu:h},m.id))})})}function AA({projectId:e,columnId:r,swimlaneId:s=null,onCancel:i,onCreated:o,className:u}){const[d,f]=v.useState(""),[h,m]=v.useState(!1),x=v.useRef(null),y=q.useUtils();v.useEffect(()=>{x.current?.focus()},[]);const b=q.task.create.useMutation({onSuccess:k=>{y.task.list.invalidate({projectId:e}),f(""),m(!1),o?.(k.id),x.current?.focus()},onError:()=>{m(!1)}}),j=v.useCallback(async()=>{const k=d.trim();!k||h||(m(!0),b.mutate({projectId:e,columnId:r,swimlaneId:s??void 0,title:k}))},[d,h,e,r,s,b]),S=v.useCallback(k=>{k.key==="Enter"&&!k.shiftKey?(k.preventDefault(),j()):k.key==="Escape"&&i()},[j,i]);return v.useEffect(()=>{const k=w=>{w.target.closest("[data-quick-add]")||d.trim()||i()};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[d,i]),n.jsxs("div",{"data-quick-add":!0,className:Se("p-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",u),children:[n.jsx(Ue,{ref:x,value:d,onChange:k=>f(k.target.value),onKeyDown:S,placeholder:"Task title...",disabled:h,className:"mb-2"}),n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enter to add, Esc to cancel"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(re,{variant:"ghost",size:"sm",onClick:i,disabled:h,className:"h-7 px-2 text-xs",children:"Cancel"}),n.jsx(re,{size:"sm",onClick:j,disabled:!d.trim()||h,className:"h-7 px-2 text-xs",children:h?"Adding...":"Add"})]})]}),b.error&&n.jsx("p",{className:"mt-2 text-xs text-red-500",children:b.error.message})]})}function DA({column:e,swimlanes:r,tasks:s,projectId:i,width:o,isOverLimit:u,taskCount:d,onTaskClick:f,onTaskContextMenu:h}){const[m,x]=v.useState(!1),y=r.length>1,b=y?r[0]?.id??null:null;return n.jsxs("div",{className:"flex-shrink-0 flex flex-col bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden",style:{width:o},children:[n.jsx(uR,{column:e,taskCount:d,isOverLimit:u,projectId:i,onAddTask:()=>x(!0)}),n.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 p-2",children:[y?n.jsx("div",{className:"space-y-4",children:r.map(j=>{const S=`${e.id}-${j.id}`,k=j.id===r[0]?.id,w=[...s[S]??[],...k?s[`${e.id}-default`]??[]:[]];return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400",children:[n.jsx("span",{children:j.name}),n.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["(",w.length,")"]})]}),n.jsx(Cv,{tasks:w,columnId:e.id,swimlaneId:j.id,projectId:i,taskLimit:e.taskLimit,showEmpty:!0,onTaskClick:f,onTaskContextMenu:h})]},j.id)})}):n.jsx(Cv,{tasks:s[`${e.id}-default`]??[],columnId:e.id,swimlaneId:null,projectId:i,taskLimit:e.taskLimit,showEmpty:!0,onTaskClick:f,onTaskContextMenu:h}),m&&n.jsx(AA,{projectId:i,columnId:e.id,swimlaneId:b,onCancel:()=>x(!1),onCreated:()=>{},className:"mt-2"})]}),n.jsx("div",{className:"h-2 transition-colors","data-column-id":e.id,"data-drop-zone":"true"})]})}const OA={droppable:{strategy:ai.Always}};function _A({children:e,tasks:r,onTaskMove:s}){const[i,o]=v.useState({activeTask:null,overColumnId:null,overSwimlaneId:null}),u=AR(vh(Zm,{activationConstraint:{distance:8}}),vh(Uj,{activationConstraint:{delay:250,tolerance:5}}),vh(Wm,{coordinateGetter:oA})),d=v.useCallback(x=>{const{active:y}=x,b=typeof y.id=="number"?y.id:parseInt(String(y.id),10),j=r.find(S=>S.id===b);j&&o({activeTask:j,overColumnId:j.columnId,overSwimlaneId:j.swimlaneId})},[r]),f=v.useCallback(x=>{const{over:y}=x;if(y){const b=String(y.id);if(b.startsWith("column-")){const j=b.split("-"),S=parseInt(j[1],10),k=j.length>3?parseInt(j[3],10):null;o(w=>({...w,overColumnId:S,overSwimlaneId:k}))}else{const j=typeof y.id=="number"?y.id:parseInt(b,10),S=r.find(k=>k.id===j);S&&o(k=>({...k,overColumnId:S.columnId,overSwimlaneId:S.swimlaneId}))}}},[r]),h=v.useCallback(async x=>{const{active:y,over:b}=x;if(!b||!i.activeTask){o({activeTask:null,overColumnId:null,overSwimlaneId:null});return}const j=typeof y.id=="number"?y.id:parseInt(String(y.id),10),S=String(b.id);let k,w,C=null;if(S.startsWith("column-")){const P=S.split("-");k=parseInt(P[1],10),w=P.length>3?parseInt(P[3],10):null}else{C=typeof b.id=="number"?b.id:parseInt(S,10);const P=r.find(K=>K.id===C);if(!P){o({activeTask:null,overColumnId:null,overSwimlaneId:null});return}k=P.columnId,w=P.swimlaneId}const A=i.activeTask,R=A.columnId===k&&A.swimlaneId===w,O=r.filter(P=>P.columnId===k&&P.swimlaneId===w&&P.id!==j).sort((P,K)=>P.position-K.position);let T,L=null;C!==null&&(L=O.findIndex(P=>P.id===C));const E=b.data.current?.sortable;if(E?.index!==void 0&&(L=E.index),L!==null&&L>=0){const P=O.map(K=>K.position);P.length===0?T=1:T=dA(P,L)}else O.length===0?T=1:T=Math.max(...O.map(K=>K.position))+1;if(T=Math.max(.001,Math.round(T*1e3)/1e3),!R||C!==null&&C!==j||L!==null&&L>=0)try{await s(j,k,w,T)}catch(P){console.error("Failed to move task:",P)}o({activeTask:null,overColumnId:null,overSwimlaneId:null})},[i.activeTask,r,s]),m=v.useCallback(()=>{o({activeTask:null,overColumnId:null,overSwimlaneId:null})},[]);return n.jsxs(MT,{sensors:u,collisionDetection:Mj,measuring:OA,onDragStart:d,onDragOver:f,onDragEnd:h,onDragCancel:m,children:[e,n.jsx(VT,{dropAnimation:null,children:i.activeTask?n.jsx(LA,{task:i.activeTask}):null})]})}function LA({task:e}){return n.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-3 shadow-xl border-2 border-blue-400 dark:border-blue-500 opacity-90 w-64",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-2",children:e.title}),e.reference&&n.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:e.reference})]})}function zA({projectId:e,tasks:r,onOptimisticUpdate:s}){const[i,o]=v.useState(!1),[u,d]=v.useState(null),f=q.useUtils(),h=q.task.move.useMutation({onMutate:async({taskId:y,columnId:b,swimlaneId:j,position:S})=>{await f.task.list.cancel({projectId:e,isActive:!0,limit:500});const k=f.task.list.getData({projectId:e,isActive:!0,limit:500});if(k){const w=k.map(C=>C.id===y?{...C,columnId:b,swimlaneId:j??null,position:S??C.position,column:{id:b,title:C.column.title},swimlane:j?{id:j,name:C.swimlane?.name??"Default"}:null}:C);f.task.list.setData({projectId:e,isActive:!0,limit:500},w),s&&s(w)}return{previousTasks:k}},onError:(y,b,j)=>{j?.previousTasks&&(f.task.list.setData({projectId:e,isActive:!0,limit:500},j.previousTasks),s&&s(j.previousTasks))},onSettled:()=>{f.task.list.invalidate({projectId:e,isActive:!0,limit:500})}}),m=v.useCallback(async(y,b,j,S)=>{o(!0),d(null);try{await h.mutateAsync({taskId:y,columnId:b,swimlaneId:j??void 0,position:S})}catch(k){const w=k instanceof Error?k.message:"Failed to move task";throw d(w),k}finally{o(!1)}},[h]),x=v.useCallback(()=>{d(null)},[]);return{isMoving:i,error:u,moveTask:m,clearError:x}}function Ut(e,r,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e?.(o),s===!1||!o.defaultPrevented)return r?.(o)}}function PA(e,r){const s=v.createContext(r),i=u=>{const{children:d,...f}=u,h=v.useMemo(()=>f,Object.values(f));return n.jsx(s.Provider,{value:h,children:d})};i.displayName=e+"Provider";function o(u){const d=v.useContext(s);if(d)return d;if(r!==void 0)return r;throw new Error(`\`${u}\` must be used within \`${e}\``)}return[i,o]}function _u(e,r=[]){let s=[];function i(u,d){const f=v.createContext(d),h=s.length;s=[...s,d];const m=y=>{const{scope:b,children:j,...S}=y,k=b?.[e]?.[h]||f,w=v.useMemo(()=>S,Object.values(S));return n.jsx(k.Provider,{value:w,children:j})};m.displayName=u+"Provider";function x(y,b){const j=b?.[e]?.[h]||f,S=v.useContext(j);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${y}\` must be used within \`${u}\``)}return[m,x]}const o=()=>{const u=s.map(d=>v.createContext(d));return function(f){const h=f?.[e]||u;return v.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return o.scopeName=e,[i,IA(o,...r)]}function IA(...e){const r=e[0];if(e.length===1)return r;const s=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const d=i.reduce((f,{useScope:h,scopeName:m})=>{const y=h(u)[`__scope${m}`];return{...f,...y}},{});return v.useMemo(()=>({[`__scope${r.scopeName}`]:d}),[d])}};return s.scopeName=r.scopeName,s}var Tl=globalThis?.document?v.useLayoutEffect:()=>{},UA=du[" useId ".trim().toString()]||(()=>{}),BA=0;function yl(e){const[r,s]=v.useState(UA());return Tl(()=>{s(i=>i??String(BA++))},[e]),r?`radix-${r}`:""}var HA=du[" useInsertionEffect ".trim().toString()]||Tl;function e0({prop:e,defaultProp:r,onChange:s=()=>{},caller:i}){const[o,u,d]=$A({defaultProp:r,onChange:s}),f=e!==void 0,h=f?e:o;{const x=v.useRef(e!==void 0);v.useEffect(()=>{const y=x.current;y!==f&&console.warn(`${i} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=f},[f,i])}const m=v.useCallback(x=>{if(f){const y=QA(x)?x(e):x;y!==e&&d.current?.(y)}else u(x)},[f,e,u,d]);return[h,m]}function $A({defaultProp:e,onChange:r}){const[s,i]=v.useState(e),o=v.useRef(s),u=v.useRef(r);return HA(()=>{u.current=r},[r]),v.useEffect(()=>{o.current!==s&&(u.current?.(s),o.current=s)},[s,o]),[s,i,u]}function QA(e){return typeof e=="function"}function lu(e){const r=qA(e),s=v.forwardRef((i,o)=>{const{children:u,...d}=i,f=v.Children.toArray(u),h=f.find(VA);if(h){const m=h.props.children,x=f.map(y=>y===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:y);return n.jsx(r,{...d,ref:o,children:v.isValidElement(m)?v.cloneElement(m,void 0,x):null})}return n.jsx(r,{...d,ref:o,children:u})});return s.displayName=`${e}.Slot`,s}function qA(e){const r=v.forwardRef((s,i)=>{const{children:o,...u}=s;if(v.isValidElement(o)){const d=YA(o),f=GA(u,o.props);return o.type!==v.Fragment&&(f.ref=i?Vm(i,d):d),v.cloneElement(o,f)}return v.Children.count(o)>1?v.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var FA=Symbol("radix.slottable");function VA(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FA}function GA(e,r){const s={...r};for(const i in r){const o=e[i],u=r[i];/^on[A-Z]/.test(i)?o&&u?s[i]=(...f)=>{const h=u(...f);return o(...f),h}:o&&(s[i]=o):i==="style"?s[i]={...o,...u}:i==="className"&&(s[i]=[o,u].filter(Boolean).join(" "))}return{...e,...s}}function YA(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var KA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wt=KA.reduce((e,r)=>{const s=lu(`Primitive.${r}`),i=v.forwardRef((o,u)=>{const{asChild:d,...f}=o,h=d?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(h,{...f,ref:u})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{});function WA(e,r){e&&qa.flushSync(()=>e.dispatchEvent(r))}function si(e){const r=v.useRef(e);return v.useEffect(()=>{r.current=e}),v.useMemo(()=>(...s)=>r.current?.(...s),[])}function XA(e,r=globalThis?.document){const s=si(e);v.useEffect(()=>{const i=o=>{o.key==="Escape"&&s(o)};return r.addEventListener("keydown",i,{capture:!0}),()=>r.removeEventListener("keydown",i,{capture:!0})},[s,r])}var ZA="DismissableLayer",dm="dismissableLayer.update",JA="dismissableLayer.pointerDownOutside",eD="dismissableLayer.focusOutside",Ev,Jj=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),e1=v.forwardRef((e,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:u,onInteractOutside:d,onDismiss:f,...h}=e,m=v.useContext(Jj),[x,y]=v.useState(null),b=x?.ownerDocument??globalThis?.document,[,j]=v.useState({}),S=ur(r,E=>y(E)),k=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=k.indexOf(w),A=x?k.indexOf(x):-1,R=m.layersWithOutsidePointerEventsDisabled.size>0,O=A>=C,T=rD(E=>{const D=E.target,P=[...m.branches].some(K=>K.contains(D));!O||P||(o?.(E),d?.(E),E.defaultPrevented||f?.())},b),L=aD(E=>{const D=E.target;[...m.branches].some(K=>K.contains(D))||(u?.(E),d?.(E),E.defaultPrevented||f?.())},b);return XA(E=>{A===m.layers.size-1&&(i?.(E),!E.defaultPrevented&&f&&(E.preventDefault(),f()))},b),v.useEffect(()=>{if(x)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Ev=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(x)),m.layers.add(x),Mv(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Ev)}},[x,b,s,m]),v.useEffect(()=>()=>{x&&(m.layers.delete(x),m.layersWithOutsidePointerEventsDisabled.delete(x),Mv())},[x,m]),v.useEffect(()=>{const E=()=>j({});return document.addEventListener(dm,E),()=>document.removeEventListener(dm,E)},[]),n.jsx(Wt.div,{...h,ref:S,style:{pointerEvents:R?O?"auto":"none":void 0,...e.style},onFocusCapture:Ut(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Ut(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ut(e.onPointerDownCapture,T.onPointerDownCapture)})});e1.displayName=ZA;var tD="DismissableLayerBranch",nD=v.forwardRef((e,r)=>{const s=v.useContext(Jj),i=v.useRef(null),o=ur(r,i);return v.useEffect(()=>{const u=i.current;if(u)return s.branches.add(u),()=>{s.branches.delete(u)}},[s.branches]),n.jsx(Wt.div,{...e,ref:o})});nD.displayName=tD;function rD(e,r=globalThis?.document){const s=si(e),i=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const u=f=>{if(f.target&&!i.current){let h=function(){t1(JA,s,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(r.removeEventListener("click",o.current),o.current=h,r.addEventListener("click",o.current,{once:!0})):h()}else r.removeEventListener("click",o.current);i.current=!1},d=window.setTimeout(()=>{r.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(d),r.removeEventListener("pointerdown",u),r.removeEventListener("click",o.current)}},[r,s]),{onPointerDownCapture:()=>i.current=!0}}function aD(e,r=globalThis?.document){const s=si(e),i=v.useRef(!1);return v.useEffect(()=>{const o=u=>{u.target&&!i.current&&t1(eD,s,{originalEvent:u},{discrete:!1})};return r.addEventListener("focusin",o),()=>r.removeEventListener("focusin",o)},[r,s]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Mv(){const e=new CustomEvent(dm);document.dispatchEvent(e)}function t1(e,r,s,{discrete:i}){const o=s.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});r&&o.addEventListener(e,r,{once:!0}),i?WA(o,u):o.dispatchEvent(u)}var Nh="focusScope.autoFocusOnMount",Sh="focusScope.autoFocusOnUnmount",Rv={bubbles:!1,cancelable:!0},sD="FocusScope",n1=v.forwardRef((e,r)=>{const{loop:s=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:u,...d}=e,[f,h]=v.useState(null),m=si(o),x=si(u),y=v.useRef(null),b=ur(r,k=>h(k)),j=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(i){let k=function(R){if(j.paused||!f)return;const O=R.target;f.contains(O)?y.current=O:ma(y.current,{select:!0})},w=function(R){if(j.paused||!f)return;const O=R.relatedTarget;O!==null&&(f.contains(O)||ma(y.current,{select:!0}))},C=function(R){if(document.activeElement===document.body)for(const T of R)T.removedNodes.length>0&&ma(f)};document.addEventListener("focusin",k),document.addEventListener("focusout",w);const A=new MutationObserver(C);return f&&A.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",w),A.disconnect()}}},[i,f,j.paused]),v.useEffect(()=>{if(f){Av.add(j);const k=document.activeElement;if(!f.contains(k)){const C=new CustomEvent(Nh,Rv);f.addEventListener(Nh,m),f.dispatchEvent(C),C.defaultPrevented||(iD(dD(r1(f)),{select:!0}),document.activeElement===k&&ma(f))}return()=>{f.removeEventListener(Nh,m),setTimeout(()=>{const C=new CustomEvent(Sh,Rv);f.addEventListener(Sh,x),f.dispatchEvent(C),C.defaultPrevented||ma(k??document.body,{select:!0}),f.removeEventListener(Sh,x),Av.remove(j)},0)}}},[f,m,x,j]);const S=v.useCallback(k=>{if(!s&&!i||j.paused)return;const w=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,C=document.activeElement;if(w&&C){const A=k.currentTarget,[R,O]=lD(A);R&&O?!k.shiftKey&&C===O?(k.preventDefault(),s&&ma(R,{select:!0})):k.shiftKey&&C===R&&(k.preventDefault(),s&&ma(O,{select:!0})):C===A&&k.preventDefault()}},[s,i,j.paused]);return n.jsx(Wt.div,{tabIndex:-1,...d,ref:b,onKeyDown:S})});n1.displayName=sD;function iD(e,{select:r=!1}={}){const s=document.activeElement;for(const i of e)if(ma(i,{select:r}),document.activeElement!==s)return}function lD(e){const r=r1(e),s=Tv(r,e),i=Tv(r.reverse(),e);return[s,i]}function r1(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function Tv(e,r){for(const s of e)if(!oD(s,{upTo:r}))return s}function oD(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cD(e){return e instanceof HTMLInputElement&&"select"in e}function ma(e,{select:r=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&cD(e)&&r&&e.select()}}var Av=uD();function uD(){let e=[];return{add(r){const s=e[0];r!==s&&s?.pause(),e=Dv(e,r),e.unshift(r)},remove(r){e=Dv(e,r),e[0]?.resume()}}}function Dv(e,r){const s=[...e],i=s.indexOf(r);return i!==-1&&s.splice(i,1),s}function dD(e){return e.filter(r=>r.tagName!=="A")}var fD="Portal",a1=v.forwardRef((e,r)=>{const{container:s,...i}=e,[o,u]=v.useState(!1);Tl(()=>u(!0),[]);const d=s||o&&globalThis?.document?.body;return d?nE.createPortal(n.jsx(Wt.div,{...i,ref:r}),d):null});a1.displayName=fD;function hD(e,r){return v.useReducer((s,i)=>r[s][i]??s,e)}var ql=e=>{const{present:r,children:s}=e,i=mD(r),o=typeof s=="function"?s({present:i.isPresent}):v.Children.only(s),u=ur(i.ref,gD(o));return typeof s=="function"||i.isPresent?v.cloneElement(o,{ref:u}):null};ql.displayName="Presence";function mD(e){const[r,s]=v.useState(),i=v.useRef(null),o=v.useRef(e),u=v.useRef("none"),d=e?"mounted":"unmounted",[f,h]=hD(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const m=wc(i.current);u.current=f==="mounted"?m:"none"},[f]),Tl(()=>{const m=i.current,x=o.current;if(x!==e){const b=u.current,j=wc(m);e?h("MOUNT"):j==="none"||m?.display==="none"?h("UNMOUNT"):h(x&&b!==j?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),Tl(()=>{if(r){let m;const x=r.ownerDocument.defaultView??window,y=j=>{const k=wc(i.current).includes(CSS.escape(j.animationName));if(j.target===r&&k&&(h("ANIMATION_END"),!o.current)){const w=r.style.animationFillMode;r.style.animationFillMode="forwards",m=x.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=w)})}},b=j=>{j.target===r&&(u.current=wc(i.current))};return r.addEventListener("animationstart",b),r.addEventListener("animationcancel",y),r.addEventListener("animationend",y),()=>{x.clearTimeout(m),r.removeEventListener("animationstart",b),r.removeEventListener("animationcancel",y),r.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[r,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:v.useCallback(m=>{i.current=m?getComputedStyle(m):null,s(m)},[])}}function wc(e){return e?.animationName||"none"}function gD(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Ch=0;function pD(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ov()),document.body.insertAdjacentElement("beforeend",e[1]??Ov()),Ch++,()=>{Ch===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ch--}},[])}function Ov(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cr=function(){return cr=Object.assign||function(r){for(var s,i=1,o=arguments.length;i<o;i++){s=arguments[i];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(r[u]=s[u])}return r},cr.apply(this,arguments)};function s1(e,r){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)r.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(s[i[o]]=e[i[o]]);return s}function xD(e,r,s){if(s||arguments.length===2)for(var i=0,o=r.length,u;i<o;i++)(u||!(i in r))&&(u||(u=Array.prototype.slice.call(r,0,i)),u[i]=r[i]);return e.concat(u||Array.prototype.slice.call(r))}var Pc="right-scroll-bar-position",Ic="width-before-scroll-bar",yD="with-scroll-bars-hidden",vD="--removed-body-scroll-bar-size";function Eh(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function bD(e,r){var s=v.useState(function(){return{value:e,callback:r,facade:{get current(){return s.value},set current(i){var o=s.value;o!==i&&(s.value=i,s.callback(i,o))}}}})[0];return s.callback=r,s.facade}var jD=typeof window<"u"?v.useLayoutEffect:v.useEffect,_v=new WeakMap;function wD(e,r){var s=bD(null,function(i){return e.forEach(function(o){return Eh(o,i)})});return jD(function(){var i=_v.get(s);if(i){var o=new Set(i),u=new Set(e),d=s.current;o.forEach(function(f){u.has(f)||Eh(f,null)}),u.forEach(function(f){o.has(f)||Eh(f,d)})}_v.set(s,e)},[e]),s}function kD(e){return e}function ND(e,r){r===void 0&&(r=kD);var s=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(u){var d=r(u,i);return s.push(d),function(){s=s.filter(function(f){return f!==d})}},assignSyncMedium:function(u){for(i=!0;s.length;){var d=s;s=[],d.forEach(u)}s={push:function(f){return u(f)},filter:function(){return s}}},assignMedium:function(u){i=!0;var d=[];if(s.length){var f=s;s=[],f.forEach(u),d=s}var h=function(){var x=d;d=[],x.forEach(u)},m=function(){return Promise.resolve().then(h)};m(),s={push:function(x){d.push(x),m()},filter:function(x){return d=d.filter(x),s}}}};return o}function SD(e){e===void 0&&(e={});var r=ND(null);return r.options=cr({async:!0,ssr:!1},e),r}var i1=function(e){var r=e.sideCar,s=s1(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=r.read();if(!i)throw new Error("Sidecar medium not found");return v.createElement(i,cr({},s))};i1.isSideCarExport=!0;function CD(e,r){return e.useMedium(r),i1}var l1=SD(),Mh=function(){},Lu=v.forwardRef(function(e,r){var s=v.useRef(null),i=v.useState({onScrollCapture:Mh,onWheelCapture:Mh,onTouchMoveCapture:Mh}),o=i[0],u=i[1],d=e.forwardProps,f=e.children,h=e.className,m=e.removeScrollBar,x=e.enabled,y=e.shards,b=e.sideCar,j=e.noRelative,S=e.noIsolation,k=e.inert,w=e.allowPinchZoom,C=e.as,A=C===void 0?"div":C,R=e.gapMode,O=s1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=b,L=wD([s,r]),E=cr(cr({},O),o);return v.createElement(v.Fragment,null,x&&v.createElement(T,{sideCar:l1,removeScrollBar:m,shards:y,noRelative:j,noIsolation:S,inert:k,setCallbacks:u,allowPinchZoom:!!w,lockRef:s,gapMode:R}),d?v.cloneElement(v.Children.only(f),cr(cr({},E),{ref:L})):v.createElement(A,cr({},E,{className:h,ref:L}),f))});Lu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lu.classNames={fullWidth:Ic,zeroRight:Pc};var ED=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=ED();return r&&e.setAttribute("nonce",r),e}function RD(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function TD(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var AD=function(){var e=0,r=null;return{add:function(s){e==0&&(r=MD())&&(RD(r,s),TD(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},DD=function(){var e=AD();return function(r,s){v.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&s])}},o1=function(){var e=DD(),r=function(s){var i=s.styles,o=s.dynamic;return e(i,o),null};return r},OD={left:0,top:0,right:0,gap:0},Rh=function(e){return parseInt(e||"",10)||0},_D=function(e){var r=window.getComputedStyle(document.body),s=r[e==="padding"?"paddingLeft":"marginLeft"],i=r[e==="padding"?"paddingTop":"marginTop"],o=r[e==="padding"?"paddingRight":"marginRight"];return[Rh(s),Rh(i),Rh(o)]},LD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return OD;var r=_D(e),s=document.documentElement.clientWidth,i=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,i-s+r[2]-r[0])}},zD=o1(),Zs="data-scroll-locked",PD=function(e,r,s,i){var o=e.left,u=e.top,d=e.right,f=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(yD,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(Zs,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(i,";"),s==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pc,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Ic,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Pc," .").concat(Pc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Zs,`] {
    `).concat(vD,": ").concat(f,`px;
  }
`)},Lv=function(){var e=parseInt(document.body.getAttribute(Zs)||"0",10);return isFinite(e)?e:0},ID=function(){v.useEffect(function(){return document.body.setAttribute(Zs,(Lv()+1).toString()),function(){var e=Lv()-1;e<=0?document.body.removeAttribute(Zs):document.body.setAttribute(Zs,e.toString())}},[])},UD=function(e){var r=e.noRelative,s=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;ID();var u=v.useMemo(function(){return LD(o)},[o]);return v.createElement(zD,{styles:PD(u,!r,o,s?"":"!important")})},fm=!1;if(typeof window<"u")try{var kc=Object.defineProperty({},"passive",{get:function(){return fm=!0,!0}});window.addEventListener("test",kc,kc),window.removeEventListener("test",kc,kc)}catch{fm=!1}var Fs=fm?{passive:!1}:!1,BD=function(e){return e.tagName==="TEXTAREA"},c1=function(e,r){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!BD(e)&&s[r]==="visible")},HD=function(e){return c1(e,"overflowY")},$D=function(e){return c1(e,"overflowX")},zv=function(e,r){var s=r.ownerDocument,i=r;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=u1(e,i);if(o){var u=d1(e,i),d=u[1],f=u[2];if(d>f)return!0}i=i.parentNode}while(i&&i!==s.body);return!1},QD=function(e){var r=e.scrollTop,s=e.scrollHeight,i=e.clientHeight;return[r,s,i]},qD=function(e){var r=e.scrollLeft,s=e.scrollWidth,i=e.clientWidth;return[r,s,i]},u1=function(e,r){return e==="v"?HD(r):$D(r)},d1=function(e,r){return e==="v"?QD(r):qD(r)},FD=function(e,r){return e==="h"&&r==="rtl"?-1:1},VD=function(e,r,s,i,o){var u=FD(e,window.getComputedStyle(r).direction),d=u*i,f=s.target,h=r.contains(f),m=!1,x=d>0,y=0,b=0;do{if(!f)break;var j=d1(e,f),S=j[0],k=j[1],w=j[2],C=k-w-u*S;(S||C)&&u1(e,f)&&(y+=C,b+=S);var A=f.parentNode;f=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!h&&f!==document.body||h&&(r.contains(f)||r===f));return(x&&Math.abs(y)<1||!x&&Math.abs(b)<1)&&(m=!0),m},Nc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Pv=function(e){return[e.deltaX,e.deltaY]},Iv=function(e){return e&&"current"in e?e.current:e},GD=function(e,r){return e[0]===r[0]&&e[1]===r[1]},YD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KD=0,Vs=[];function WD(e){var r=v.useRef([]),s=v.useRef([0,0]),i=v.useRef(),o=v.useState(KD++)[0],u=v.useState(o1)[0],d=v.useRef(e);v.useEffect(function(){d.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var k=xD([e.lockRef.current],(e.shards||[]).map(Iv),!0).filter(Boolean);return k.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),k.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=v.useCallback(function(k,w){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!d.current.allowPinchZoom;var C=Nc(k),A=s.current,R="deltaX"in k?k.deltaX:A[0]-C[0],O="deltaY"in k?k.deltaY:A[1]-C[1],T,L=k.target,E=Math.abs(R)>Math.abs(O)?"h":"v";if("touches"in k&&E==="h"&&L.type==="range")return!1;var D=window.getSelection(),P=D&&D.anchorNode,K=P?P===L||P.contains(L):!1;if(K)return!1;var Y=zv(E,L);if(!Y)return!0;if(Y?T=E:(T=E==="v"?"h":"v",Y=zv(E,L)),!Y)return!1;if(!i.current&&"changedTouches"in k&&(R||O)&&(i.current=T),!T)return!0;var ae=i.current||T;return VD(ae,w,k,ae==="h"?R:O)},[]),h=v.useCallback(function(k){var w=k;if(!(!Vs.length||Vs[Vs.length-1]!==u)){var C="deltaY"in w?Pv(w):Nc(w),A=r.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&GD(T.delta,C)})[0];if(A&&A.should){w.cancelable&&w.preventDefault();return}if(!A){var R=(d.current.shards||[]).map(Iv).filter(Boolean).filter(function(T){return T.contains(w.target)}),O=R.length>0?f(w,R[0]):!d.current.noIsolation;O&&w.cancelable&&w.preventDefault()}}},[]),m=v.useCallback(function(k,w,C,A){var R={name:k,delta:w,target:C,should:A,shadowParent:XD(C)};r.current.push(R),setTimeout(function(){r.current=r.current.filter(function(O){return O!==R})},1)},[]),x=v.useCallback(function(k){s.current=Nc(k),i.current=void 0},[]),y=v.useCallback(function(k){m(k.type,Pv(k),k.target,f(k,e.lockRef.current))},[]),b=v.useCallback(function(k){m(k.type,Nc(k),k.target,f(k,e.lockRef.current))},[]);v.useEffect(function(){return Vs.push(u),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",h,Fs),document.addEventListener("touchmove",h,Fs),document.addEventListener("touchstart",x,Fs),function(){Vs=Vs.filter(function(k){return k!==u}),document.removeEventListener("wheel",h,Fs),document.removeEventListener("touchmove",h,Fs),document.removeEventListener("touchstart",x,Fs)}},[]);var j=e.removeScrollBar,S=e.inert;return v.createElement(v.Fragment,null,S?v.createElement(u,{styles:YD(o)}):null,j?v.createElement(UD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function XD(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const ZD=CD(l1,WD);var f1=v.forwardRef(function(e,r){return v.createElement(Lu,cr({},e,{ref:r,sideCar:ZD}))});f1.classNames=Lu.classNames;var JD=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},Gs=new WeakMap,Sc=new WeakMap,Cc={},Th=0,h1=function(e){return e&&(e.host||h1(e.parentNode))},e7=function(e,r){return r.map(function(s){if(e.contains(s))return s;var i=h1(s);return i&&e.contains(i)?i:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},t7=function(e,r,s,i){var o=e7(r,Array.isArray(e)?e:[e]);Cc[s]||(Cc[s]=new WeakMap);var u=Cc[s],d=[],f=new Set,h=new Set(o),m=function(y){!y||f.has(y)||(f.add(y),m(y.parentNode))};o.forEach(m);var x=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(b){if(f.has(b))x(b);else try{var j=b.getAttribute(i),S=j!==null&&j!=="false",k=(Gs.get(b)||0)+1,w=(u.get(b)||0)+1;Gs.set(b,k),u.set(b,w),d.push(b),k===1&&S&&Sc.set(b,!0),w===1&&b.setAttribute(s,"true"),S||b.setAttribute(i,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return x(r),f.clear(),Th++,function(){d.forEach(function(y){var b=Gs.get(y)-1,j=u.get(y)-1;Gs.set(y,b),u.set(y,j),b||(Sc.has(y)||y.removeAttribute(i),Sc.delete(y)),j||y.removeAttribute(s)}),Th--,Th||(Gs=new WeakMap,Gs=new WeakMap,Sc=new WeakMap,Cc={})}},n7=function(e,r,s){s===void 0&&(s="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=JD(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),t7(i,o,s,"aria-hidden")):function(){return null}},zu="Dialog",[m1]=_u(zu),[r7,er]=m1(zu),g1=e=>{const{__scopeDialog:r,children:s,open:i,defaultOpen:o,onOpenChange:u,modal:d=!0}=e,f=v.useRef(null),h=v.useRef(null),[m,x]=e0({prop:i,defaultProp:o??!1,onChange:u,caller:zu});return n.jsx(r7,{scope:r,triggerRef:f,contentRef:h,contentId:yl(),titleId:yl(),descriptionId:yl(),open:m,onOpenChange:x,onOpenToggle:v.useCallback(()=>x(y=>!y),[x]),modal:d,children:s})};g1.displayName=zu;var p1="DialogTrigger",a7=v.forwardRef((e,r)=>{const{__scopeDialog:s,...i}=e,o=er(p1,s),u=ur(r,o.triggerRef);return n.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":r0(o.open),...i,ref:u,onClick:Ut(e.onClick,o.onOpenToggle)})});a7.displayName=p1;var t0="DialogPortal",[s7,x1]=m1(t0,{forceMount:void 0}),y1=e=>{const{__scopeDialog:r,forceMount:s,children:i,container:o}=e,u=er(t0,r);return n.jsx(s7,{scope:r,forceMount:s,children:v.Children.map(i,d=>n.jsx(ql,{present:s||u.open,children:n.jsx(a1,{asChild:!0,container:o,children:d})}))})};y1.displayName=t0;var ou="DialogOverlay",v1=v.forwardRef((e,r)=>{const s=x1(ou,e.__scopeDialog),{forceMount:i=s.forceMount,...o}=e,u=er(ou,e.__scopeDialog);return u.modal?n.jsx(ql,{present:i||u.open,children:n.jsx(l7,{...o,ref:r})}):null});v1.displayName=ou;var i7=lu("DialogOverlay.RemoveScroll"),l7=v.forwardRef((e,r)=>{const{__scopeDialog:s,...i}=e,o=er(ou,s);return n.jsx(f1,{as:i7,allowPinchZoom:!0,shards:[o.contentRef],children:n.jsx(Wt.div,{"data-state":r0(o.open),...i,ref:r,style:{pointerEvents:"auto",...i.style}})})}),Wa="DialogContent",b1=v.forwardRef((e,r)=>{const s=x1(Wa,e.__scopeDialog),{forceMount:i=s.forceMount,...o}=e,u=er(Wa,e.__scopeDialog);return n.jsx(ql,{present:i||u.open,children:u.modal?n.jsx(o7,{...o,ref:r}):n.jsx(c7,{...o,ref:r})})});b1.displayName=Wa;var o7=v.forwardRef((e,r)=>{const s=er(Wa,e.__scopeDialog),i=v.useRef(null),o=ur(r,s.contentRef,i);return v.useEffect(()=>{const u=i.current;if(u)return n7(u)},[]),n.jsx(j1,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(e.onCloseAutoFocus,u=>{u.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Ut(e.onPointerDownOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&u.preventDefault()}),onFocusOutside:Ut(e.onFocusOutside,u=>u.preventDefault())})}),c7=v.forwardRef((e,r)=>{const s=er(Wa,e.__scopeDialog),i=v.useRef(!1),o=v.useRef(!1);return n.jsx(j1,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{e.onCloseAutoFocus?.(u),u.defaultPrevented||(i.current||s.triggerRef.current?.focus(),u.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:u=>{e.onInteractOutside?.(u),u.defaultPrevented||(i.current=!0,u.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=u.target;s.triggerRef.current?.contains(d)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.current&&u.preventDefault()}})}),j1=v.forwardRef((e,r)=>{const{__scopeDialog:s,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:u,...d}=e,f=er(Wa,s),h=v.useRef(null),m=ur(r,h);return pD(),n.jsxs(n.Fragment,{children:[n.jsx(n1,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:u,children:n.jsx(e1,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":r0(f.open),...d,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(u7,{titleId:f.titleId}),n.jsx(f7,{contentRef:h,descriptionId:f.descriptionId})]})]})}),n0="DialogTitle",w1=v.forwardRef((e,r)=>{const{__scopeDialog:s,...i}=e,o=er(n0,s);return n.jsx(Wt.h2,{id:o.titleId,...i,ref:r})});w1.displayName=n0;var k1="DialogDescription",N1=v.forwardRef((e,r)=>{const{__scopeDialog:s,...i}=e,o=er(k1,s);return n.jsx(Wt.p,{id:o.descriptionId,...i,ref:r})});N1.displayName=k1;var S1="DialogClose",C1=v.forwardRef((e,r)=>{const{__scopeDialog:s,...i}=e,o=er(S1,s);return n.jsx(Wt.button,{type:"button",...i,ref:r,onClick:Ut(e.onClick,()=>o.onOpenChange(!1))})});C1.displayName=S1;function r0(e){return e?"open":"closed"}var E1="DialogTitleWarning",[ZL,M1]=PA(E1,{contentName:Wa,titleName:n0,docsSlug:"dialog"}),u7=({titleId:e})=>{const r=M1(E1),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},d7="DialogDescriptionWarning",f7=({contentRef:e,descriptionId:r})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${M1(d7).contentName}}.`;return v.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");r&&o&&(document.getElementById(r)||console.warn(i))},[i,e,r]),null},h7=g1,m7=y1,R1=v1,T1=b1,A1=w1,D1=N1,g7=C1;const p7=h7,x7=m7,O1=v.forwardRef(({className:e,...r},s)=>n.jsx(R1,{ref:s,className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));O1.displayName=R1.displayName;const _1=v.forwardRef(({className:e,children:r,...s},i)=>n.jsxs(x7,{children:[n.jsx(O1,{}),n.jsxs(T1,{ref:i,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-4xl translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[r,n.jsxs(g7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ts,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_1.displayName=T1.displayName;const L1=({className:e,...r})=>n.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});L1.displayName="DialogHeader";const y7=v.forwardRef(({className:e,...r},s)=>n.jsx(A1,{ref:s,className:Se("text-lg font-semibold leading-none tracking-tight",e),...r}));y7.displayName=A1.displayName;const v7=v.forwardRef(({className:e,...r},s)=>n.jsx(D1,{ref:s,className:Se("text-sm text-muted-foreground",e),...r}));v7.displayName=D1.displayName;function b7(e){const r=e+"CollectionProvider",[s,i]=_u(r),[o,u]=s(r,{collectionRef:{current:null},itemMap:new Map}),d=k=>{const{scope:w,children:C}=k,A=ke.useRef(null),R=ke.useRef(new Map).current;return n.jsx(o,{scope:w,itemMap:R,collectionRef:A,children:C})};d.displayName=r;const f=e+"CollectionSlot",h=lu(f),m=ke.forwardRef((k,w)=>{const{scope:C,children:A}=k,R=u(f,C),O=ur(w,R.collectionRef);return n.jsx(h,{ref:O,children:A})});m.displayName=f;const x=e+"CollectionItemSlot",y="data-radix-collection-item",b=lu(x),j=ke.forwardRef((k,w)=>{const{scope:C,children:A,...R}=k,O=ke.useRef(null),T=ur(w,O),L=u(x,C);return ke.useEffect(()=>(L.itemMap.set(O,{ref:O,...R}),()=>{L.itemMap.delete(O)})),n.jsx(b,{[y]:"",ref:T,children:A})});j.displayName=x;function S(k){const w=u(e+"CollectionConsumer",k);return ke.useCallback(()=>{const A=w.collectionRef.current;if(!A)return[];const R=Array.from(A.querySelectorAll(`[${y}]`));return Array.from(w.itemMap.values()).sort((L,E)=>R.indexOf(L.ref.current)-R.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:d,Slot:m,ItemSlot:j},S,i]}var j7=v.createContext(void 0);function z1(e){const r=v.useContext(j7);return e||r||"ltr"}var Ah="rovingFocusGroup.onEntryFocus",w7={bubbles:!1,cancelable:!0},Fl="RovingFocusGroup",[hm,P1,k7]=b7(Fl),[N7,I1]=_u(Fl,[k7]),[S7,C7]=N7(Fl),U1=v.forwardRef((e,r)=>n.jsx(hm.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(hm.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(E7,{...e,ref:r})})}));U1.displayName=Fl;var E7=v.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,orientation:i,loop:o=!1,dir:u,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:x=!1,...y}=e,b=v.useRef(null),j=ur(r,b),S=z1(u),[k,w]=e0({prop:d,defaultProp:f??null,onChange:h,caller:Fl}),[C,A]=v.useState(!1),R=si(m),O=P1(s),T=v.useRef(!1),[L,E]=v.useState(0);return v.useEffect(()=>{const D=b.current;if(D)return D.addEventListener(Ah,R),()=>D.removeEventListener(Ah,R)},[R]),n.jsx(S7,{scope:s,orientation:i,dir:S,loop:o,currentTabStopId:k,onItemFocus:v.useCallback(D=>w(D),[w]),onItemShiftTab:v.useCallback(()=>A(!0),[]),onFocusableItemAdd:v.useCallback(()=>E(D=>D+1),[]),onFocusableItemRemove:v.useCallback(()=>E(D=>D-1),[]),children:n.jsx(Wt.div,{tabIndex:C||L===0?-1:0,"data-orientation":i,...y,ref:j,style:{outline:"none",...e.style},onMouseDown:Ut(e.onMouseDown,()=>{T.current=!0}),onFocus:Ut(e.onFocus,D=>{const P=!T.current;if(D.target===D.currentTarget&&P&&!C){const K=new CustomEvent(Ah,w7);if(D.currentTarget.dispatchEvent(K),!K.defaultPrevented){const Y=O().filter(H=>H.focusable),ae=Y.find(H=>H.active),ie=Y.find(H=>H.id===k),ue=[ae,ie,...Y].filter(Boolean).map(H=>H.ref.current);$1(ue,x)}}T.current=!1}),onBlur:Ut(e.onBlur,()=>A(!1))})})}),B1="RovingFocusGroupItem",H1=v.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,focusable:i=!0,active:o=!1,tabStopId:u,children:d,...f}=e,h=yl(),m=u||h,x=C7(B1,s),y=x.currentTabStopId===m,b=P1(s),{onFocusableItemAdd:j,onFocusableItemRemove:S,currentTabStopId:k}=x;return v.useEffect(()=>{if(i)return j(),()=>S()},[i,j,S]),n.jsx(hm.ItemSlot,{scope:s,id:m,focusable:i,active:o,children:n.jsx(Wt.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...f,ref:r,onMouseDown:Ut(e.onMouseDown,w=>{i?x.onItemFocus(m):w.preventDefault()}),onFocus:Ut(e.onFocus,()=>x.onItemFocus(m)),onKeyDown:Ut(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){x.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const C=T7(w,x.orientation,x.dir);if(C!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let R=b().filter(O=>O.focusable).map(O=>O.ref.current);if(C==="last")R.reverse();else if(C==="prev"||C==="next"){C==="prev"&&R.reverse();const O=R.indexOf(w.currentTarget);R=x.loop?A7(R,O+1):R.slice(O+1)}setTimeout(()=>$1(R))}}),children:typeof d=="function"?d({isCurrentTabStop:y,hasTabStop:k!=null}):d})})});H1.displayName=B1;var M7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R7(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function T7(e,r,s){const i=R7(e.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return M7[i]}function $1(e,r=!1){const s=document.activeElement;for(const i of e)if(i===s||(i.focus({preventScroll:r}),document.activeElement!==s))return}function A7(e,r){return e.map((s,i)=>e[(r+i)%e.length])}var D7=U1,O7=H1,Pu="Tabs",[_7]=_u(Pu,[I1]),Q1=I1(),[L7,a0]=_7(Pu),q1=v.forwardRef((e,r)=>{const{__scopeTabs:s,value:i,onValueChange:o,defaultValue:u,orientation:d="horizontal",dir:f,activationMode:h="automatic",...m}=e,x=z1(f),[y,b]=e0({prop:i,onChange:o,defaultProp:u??"",caller:Pu});return n.jsx(L7,{scope:s,baseId:yl(),value:y,onValueChange:b,orientation:d,dir:x,activationMode:h,children:n.jsx(Wt.div,{dir:x,"data-orientation":d,...m,ref:r})})});q1.displayName=Pu;var F1="TabsList",V1=v.forwardRef((e,r)=>{const{__scopeTabs:s,loop:i=!0,...o}=e,u=a0(F1,s),d=Q1(s);return n.jsx(D7,{asChild:!0,...d,orientation:u.orientation,dir:u.dir,loop:i,children:n.jsx(Wt.div,{role:"tablist","aria-orientation":u.orientation,...o,ref:r})})});V1.displayName=F1;var G1="TabsTrigger",Y1=v.forwardRef((e,r)=>{const{__scopeTabs:s,value:i,disabled:o=!1,...u}=e,d=a0(G1,s),f=Q1(s),h=X1(d.baseId,i),m=Z1(d.baseId,i),x=i===d.value;return n.jsx(O7,{asChild:!0,...f,focusable:!o,active:x,children:n.jsx(Wt.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...u,ref:r,onMouseDown:Ut(e.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?d.onValueChange(i):y.preventDefault()}),onKeyDown:Ut(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&d.onValueChange(i)}),onFocus:Ut(e.onFocus,()=>{const y=d.activationMode!=="manual";!x&&!o&&y&&d.onValueChange(i)})})})});Y1.displayName=G1;var K1="TabsContent",W1=v.forwardRef((e,r)=>{const{__scopeTabs:s,value:i,forceMount:o,children:u,...d}=e,f=a0(K1,s),h=X1(f.baseId,i),m=Z1(f.baseId,i),x=i===f.value,y=v.useRef(x);return v.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),n.jsx(ql,{present:o||x,children:({present:b})=>n.jsx(Wt.div,{"data-state":x?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":h,hidden:!b,id:m,tabIndex:0,...d,ref:r,style:{...e.style,animationDuration:y.current?"0s":void 0},children:b&&u})})});W1.displayName=K1;function X1(e,r){return`${e}-trigger-${r}`}function Z1(e,r){return`${e}-content-${r}`}var z7=q1,J1=V1,ew=Y1,tw=W1;const nw=z7,s0=v.forwardRef(({className:e,...r},s)=>n.jsx(J1,{ref:s,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));s0.displayName=J1.displayName;const Js=v.forwardRef(({className:e,...r},s)=>n.jsx(ew,{ref:s,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));Js.displayName=ew.displayName;const ei=v.forwardRef(({className:e,...r},s)=>n.jsx(tw,{ref:s,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));ei.displayName=tw.displayName;function P7({taskId:e,enabled:r=!0}){const s=q.useUtils(),i=q.task.get.useQuery({taskId:e},{enabled:r&&e>0}),o=q.subtask.list.useQuery({taskId:e},{enabled:r&&e>0}),u=q.comment.list.useQuery({taskId:e},{enabled:r&&e>0}),d=q.task.update.useMutation({onSuccess:()=>{s.task.get.invalidate({taskId:e}),s.task.list.invalidate()}}),f=q.task.close.useMutation({onSuccess:()=>{s.task.get.invalidate({taskId:e}),s.task.list.invalidate()}}),h=q.task.reopen.useMutation({onSuccess:()=>{s.task.get.invalidate({taskId:e}),s.task.list.invalidate()}}),m=q.subtask.create.useMutation({onSuccess:()=>{s.subtask.list.invalidate({taskId:e}),s.task.get.invalidate({taskId:e})}}),x=q.subtask.update.useMutation({onSuccess:()=>{s.subtask.list.invalidate({taskId:e}),s.task.get.invalidate({taskId:e})}}),y=q.subtask.delete.useMutation({onSuccess:()=>{s.subtask.list.invalidate({taskId:e}),s.task.get.invalidate({taskId:e})}}),b=q.comment.create.useMutation({onSuccess:()=>{s.comment.list.invalidate({taskId:e}),s.task.get.invalidate({taskId:e})}}),j=q.comment.update.useMutation({onSuccess:()=>{s.comment.list.invalidate({taskId:e})}}),S=q.comment.delete.useMutation({onSuccess:()=>{s.comment.list.invalidate({taskId:e}),s.task.get.invalidate({taskId:e})}});return{task:i.data,isLoading:i.isLoading,isError:i.isError,error:i.error,subtasks:o.data??[],isLoadingSubtasks:o.isLoading,comments:u.data?.comments??[],isLoadingComments:u.isLoading,updateTask:d.mutateAsync,isUpdating:d.isPending,closeTask:f.mutateAsync,reopenTask:h.mutateAsync,createSubtask:m.mutateAsync,updateSubtask:x.mutateAsync,deleteSubtask:y.mutateAsync,isCreatingSubtask:m.isPending,createComment:b.mutateAsync,updateComment:j.mutateAsync,deleteComment:S.mutateAsync,isCreatingComment:b.isPending,refetch:()=>{i.refetch(),o.refetch(),u.refetch()}}}const Dh=[{value:0,label:"Low",color:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"},{value:1,label:"Normal",color:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300"},{value:2,label:"High",color:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300"},{value:3,label:"Urgent",color:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"}];function I7({task:e,onTitleUpdate:r,onPriorityUpdate:s,onClose:i,onReopen:o,isUpdating:u}){const[d,f]=v.useState(!1),[h,m]=v.useState(e.title),[x,y]=v.useState(!1),b=v.useRef(null);v.useEffect(()=>{d&&b.current&&(b.current.focus(),b.current.select())},[d]),v.useEffect(()=>{m(e.title)},[e.title]);const j=v.useCallback(async()=>{h.trim()&&h!==e.title&&await r(h),f(!1)},[h,e.title,r]),S=v.useCallback(C=>{C.key==="Enter"?j():C.key==="Escape"&&(m(e.title),f(!1))},[j,e.title]),k=v.useCallback(async C=>{await s(C),y(!1)},[s]),w=Dh.find(C=>C.value===e.priority)??Dh[0];return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[e.reference&&n.jsx("span",{className:"text-sm font-mono text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded",children:e.reference}),!e.isActive&&n.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded",children:"Closed"})]}),n.jsx("div",{className:"flex items-start gap-3",children:d?n.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[n.jsx("input",{ref:b,type:"text",value:h,onChange:C=>m(C.target.value),onKeyDown:S,onBlur:j,className:"flex-1 text-xl font-semibold bg-transparent border-b-2 border-blue-500 focus:outline-none text-gray-900 dark:text-white",disabled:u}),n.jsx(re,{size:"sm",variant:"ghost",onClick:j,disabled:u,children:n.jsx(Ya,{className:"h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>{m(e.title),f(!1)},children:n.jsx(ts,{className:"h-4 w-4"})})]}):n.jsx("h2",{className:"flex-1 text-xl font-semibold text-gray-900 dark:text-white cursor-pointer hover:text-blue-600 dark:hover:text-blue-400",onClick:()=>f(!0),children:e.title})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>y(!x),className:`inline-flex items-center px-2.5 py-1 rounded text-sm font-medium ${w?.color}`,disabled:u,children:[w?.label,n.jsx("svg",{className:"ml-1.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),x&&n.jsx("div",{className:"absolute z-10 mt-1 w-36 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700",children:Dh.map(C=>n.jsx("button",{onClick:()=>k(C.value),className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 first:rounded-t-md last:rounded-b-md ${C.value===e.priority?"bg-gray-50 dark:bg-gray-750":""}`,children:n.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-medium ${C.color}`,children:C.label})},C.value))})]}),n.jsx("div",{className:"flex items-center gap-2",children:e.isActive?n.jsxs(re,{size:"sm",variant:"outline",onClick:i,disabled:u,className:"text-gray-600 dark:text-gray-400",children:[n.jsx(fM,{className:"h-4 w-4 mr-1"}),"Close Task"]}):n.jsxs(re,{size:"sm",variant:"outline",onClick:o,disabled:u,className:"text-green-600 dark:text-green-400",children:[n.jsx(t6,{className:"h-4 w-4 mr-1"}),"Reopen"]})})]})]})}function U7({description:e,onUpdate:r,isUpdating:s}){const[i,o]=v.useState(!1),[u,d]=v.useState(e),f=v.useRef(null);v.useEffect(()=>{i||d(e)},[e,i]),v.useEffect(()=>{i&&f.current&&(f.current.focus(),h())},[i]);const h=v.useCallback(()=>{f.current&&(f.current.style.height="auto",f.current.style.height=`${Math.max(200,f.current.scrollHeight)}px`)},[]),m=v.useCallback(async()=>{u!==e&&await r(u),o(!1)},[u,e,r]),x=v.useCallback(()=>{d(e),o(!1)},[e]),y=v.useCallback(b=>{b.key==="Escape"?x():b.key==="s"&&(b.ctrlKey||b.metaKey)&&(b.preventDefault(),m())},[x,m]);return i?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(re,{size:"sm",variant:"ghost",onClick:x,disabled:s,children:[n.jsx(ts,{className:"h-4 w-4 mr-1"}),"Cancel"]}),n.jsxs(re,{size:"sm",onClick:m,disabled:s,children:[n.jsx(Ya,{className:"h-4 w-4 mr-1"}),"Save"]})]})]}),n.jsx("textarea",{ref:f,value:u,onChange:b=>{d(b.target.value),h()},onKeyDown:y,className:"w-full min-h-[200px] p-3 text-sm font-mono bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Add a description... (Markdown supported)",disabled:s}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ctrl+S to save, Escape to cancel"})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),n.jsxs(re,{size:"sm",variant:"ghost",onClick:()=>o(!0),children:[n.jsx(vj,{className:"h-4 w-4 mr-1"}),"Edit"]})]}),e?n.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none p-3 bg-gray-50 dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-750",onClick:()=>o(!0),children:e.split(`
`).map((b,j)=>b.startsWith("# ")?n.jsx("h1",{className:"text-lg font-bold",children:b.slice(2)},j):b.startsWith("## ")?n.jsx("h2",{className:"text-base font-semibold",children:b.slice(3)},j):b.startsWith("- ")?n.jsx("li",{className:"ml-4",children:b.slice(2)},j):b.startsWith("* ")?n.jsx("li",{className:"ml-4",children:b.slice(2)},j):b.trim()===""?n.jsx("br",{},j):n.jsx("p",{children:b},j))}):n.jsx("div",{className:"p-4 text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-750 border-2 border-dashed border-gray-300 dark:border-gray-600",onClick:()=>o(!0),children:"Click to add a description..."})]})}const B7={TODO:"IN_PROGRESS",IN_PROGRESS:"DONE",DONE:"TODO"};function Uv(e){if(e===0)return"";if(e<1)return`${Math.round(e*60)}m`;const r=Math.floor(e),s=Math.round((e-r)*60);return s>0?`${r}h ${s}m`:`${r}h`}function H7({subtask:e,onUpdate:r,onDelete:s}){const[i,o]=v.useState(!1),[u,d]=v.useState(e.title),f=v.useCallback(async()=>{const j=B7[e.status];await r({subtaskId:e.id,status:j})},[e.id,e.status,r]),h=v.useCallback(async()=>{u.trim()&&u!==e.title&&await r({subtaskId:e.id,title:u.trim()}),o(!1)},[u,e.id,e.title,r]),m=v.useCallback(j=>{j.key==="Enter"?h():j.key==="Escape"&&(d(e.title),o(!1))},[h,e.title]),x=v.useCallback(async()=>{confirm("Delete this subtask?")&&await s({subtaskId:e.id})},[e.id,s]),y=e.status==="DONE",b=e.status==="IN_PROGRESS";return n.jsxs("div",{className:"group flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:[n.jsxs("button",{onClick:f,className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${y?"bg-green-500 border-green-500 text-white":b?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:[y&&n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 12 12",fill:"none",children:n.jsx("path",{d:"M2 6L5 9L10 3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),b&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})]}),n.jsx("div",{className:"flex-1 min-w-0",children:i?n.jsx("input",{type:"text",value:u,onChange:j=>d(j.target.value),onBlur:h,onKeyDown:m,className:"w-full bg-transparent border-b border-blue-500 focus:outline-none text-sm",autoFocus:!0}):n.jsx("span",{className:`text-sm cursor-pointer ${y?"text-gray-400 line-through":"text-gray-900 dark:text-white"}`,onClick:()=>o(!0),children:e.title})}),b&&n.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-1.5 py-0.5 rounded",children:"In Progress"}),(e.timeEstimated>0||e.timeSpent>0)&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[n.jsx(ni,{className:"w-3 h-3"}),e.timeSpent>0&&n.jsx("span",{children:Uv(e.timeSpent)}),e.timeSpent>0&&e.timeEstimated>0&&n.jsx("span",{children:"/"}),e.timeEstimated>0&&n.jsx("span",{className:"text-gray-400",children:Uv(e.timeEstimated)})]}),e.user&&n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.user.name??e.user.username}),n.jsx("button",{onClick:x,className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-500 transition-opacity",children:n.jsx(Eu,{className:"w-4 h-4"})})]})}function $7({taskId:e,onCreate:r,isCreating:s}){const[i,o]=v.useState(""),[u,d]=v.useState(!1),f=v.useCallback(async()=>{i.trim()&&(await r({taskId:e,title:i.trim()}),o(""))},[e,i,r]),h=v.useCallback(m=>{m.key==="Enter"?f():m.key==="Escape"&&(o(""),d(!1))},[f]);return u?n.jsxs("div",{className:"flex items-center gap-2 p-2",children:[n.jsx("div",{className:"w-5 h-5 rounded border-2 border-gray-300 dark:border-gray-600"}),n.jsx("input",{type:"text",value:i,onChange:m=>o(m.target.value),onBlur:()=>{i.trim()||d(!1)},onKeyDown:h,placeholder:"Subtask title...",className:"flex-1 bg-transparent border-b border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:outline-none text-sm",autoFocus:!0,disabled:s}),n.jsx(re,{size:"sm",onClick:f,disabled:s||!i.trim(),children:"Add"})]}):n.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 w-full p-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[n.jsx(Ka,{className:"w-4 h-4"}),"Add subtask"]})}function Q7({taskId:e,subtasks:r,isLoading:s,onCreate:i,onUpdate:o,onDelete:u,isCreating:d}){const f=r.filter(m=>m.status==="DONE").length,h=r.length>0?Math.round(f/r.length*100):0;return s?n.jsx("div",{className:"space-y-2 animate-pulse",children:[1,2,3].map(m=>n.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded"},m))}):n.jsxs("div",{className:"space-y-4",children:[r.length>0&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),n.jsxs("span",{className:"font-medium",children:[f,"/",r.length," (",h,"%)"]})]}),n.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all",style:{width:`${h}%`}})})]}),n.jsx("div",{className:"space-y-1",children:r.sort((m,x)=>m.position-x.position).map(m=>n.jsx(H7,{subtask:m,onUpdate:o,onDelete:u},m.id))}),n.jsx($7,{taskId:e,onCreate:i,isCreating:d})]})}function q7(e){const r=new Date(e),s=new Date,i=s.getTime()-r.getTime(),o=Math.floor(i/6e4),u=Math.floor(i/36e5),d=Math.floor(i/864e5);return o<1?"just now":o<60?`${o}m ago`:u<24?`${u}h ago`:d<7?`${d}d ago`:r.toLocaleDateString(void 0,{month:"short",day:"numeric",year:r.getFullYear()!==s.getFullYear()?"numeric":void 0})}function F7({comment:e,onUpdate:r,onDelete:s}){const[i,o]=v.useState(!1),[u,d]=v.useState(e.content),[f,h]=v.useState(!1),m=v.useCallback(async()=>{u.trim()&&u!==e.content&&await r({commentId:e.id,content:u.trim()}),o(!1)},[e.id,e.content,u,r]),x=v.useCallback(async()=>{confirm("Delete this comment?")&&await s({commentId:e.id}),h(!1)},[e.id,s]),y=v.useCallback(S=>{S.key==="Escape"?(d(e.content),o(!1)):S.key==="Enter"&&(S.ctrlKey||S.metaKey)&&m()},[e.content,m]),b=(e.user.name??e.user.username).split(" ").map(S=>S[0]).join("").slice(0,2).toUpperCase(),j=e.createdAt!==e.updatedAt;return n.jsxs("div",{className:"flex gap-3",children:[e.user.avatarUrl?n.jsx("img",{src:e.user.avatarUrl,alt:e.user.name??e.user.username,className:"w-8 h-8 rounded-full"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-xs font-medium text-gray-700 dark:text-gray-300",children:b}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.user.name??e.user.username}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:q7(e.createdAt)}),j&&n.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"(edited)"}),n.jsxs("div",{className:"relative ml-auto",children:[n.jsx("button",{onClick:()=>h(!f),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",children:n.jsx(OM,{className:"w-4 h-4"})}),f&&n.jsxs("div",{className:"absolute right-0 z-10 mt-1 w-32 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700",children:[n.jsxs("button",{onClick:()=>{o(!0),h(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[n.jsx(vj,{className:"w-4 h-4"}),"Edit"]}),n.jsxs("button",{onClick:x,className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[n.jsx(Eu,{className:"w-4 h-4"}),"Delete"]})]})]})]}),i?n.jsxs("div",{className:"space-y-2",children:[n.jsx("textarea",{value:u,onChange:S=>d(S.target.value),onKeyDown:y,className:"w-full p-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,autoFocus:!0}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(re,{size:"sm",onClick:m,children:"Save"}),n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>{d(e.content),o(!1)},children:"Cancel"})]})]}):n.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:e.content})]})]})}function V7({taskId:e,onCreate:r,isCreating:s}){const[i,o]=v.useState(""),u=v.useCallback(async()=>{i.trim()&&(await r({taskId:e,content:i.trim()}),o(""))},[e,i,r]),d=v.useCallback(f=>{f.key==="Enter"&&(f.ctrlKey||f.metaKey)&&u()},[u]);return n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-xs font-medium text-white",children:"You"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("textarea",{value:i,onChange:f=>o(f.target.value),onKeyDown:d,placeholder:"Add a comment...",className:"w-full p-3 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,disabled:s}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ctrl+Enter to submit"}),n.jsxs(re,{size:"sm",onClick:u,disabled:s||!i.trim(),children:[n.jsx(r6,{className:"w-4 h-4 mr-1"}),"Send"]})]})]})]})}function G7({taskId:e,comments:r,isLoading:s,onCreate:i,onUpdate:o,onDelete:u,isCreating:d}){return s?n.jsx("div",{className:"space-y-4 animate-pulse",children:[1,2].map(f=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),n.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded"})]})]},f))}):n.jsxs("div",{className:"space-y-6",children:[r.length>0?n.jsx("div",{className:"space-y-6",children:r.sort((f,h)=>new Date(f.createdAt).getTime()-new Date(h.createdAt).getTime()).map(f=>n.jsx(F7,{comment:f,onUpdate:o,onDelete:u},f.id))}):n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No comments yet. Be the first to comment!"}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700"}),n.jsx(V7,{taskId:e,onCreate:i,isCreating:d})]})}function Bv({className:e="h-4 w-4"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}function Y7({className:e="h-4 w-4"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function Hv({className:e="h-4 w-4"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function K7({className:e="h-4 w-4"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}function $v(){return n.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}function W7(e){return e>=100?"bg-green-500":e>=75?"bg-blue-500":e>=50?"bg-yellow-500":"bg-gray-400"}function X7(e){switch(e){case"overdue":return"border-l-2 border-red-500";case"due_soon":return"border-l-2 border-orange-500";case"on_track":return"border-l-2 border-green-500";default:return""}}function Z7({projectId:e,taskId:r,currentMilestoneId:s,onMilestoneChange:i,disabled:o=!1,className:u=""}){const[d,f]=v.useState(!1),h=v.useRef(null),m=q.useUtils(),{data:x,isLoading:y}=q.milestone.list.useQuery({projectId:e,includeCompleted:!1},{enabled:e>0}),b=q.milestone.setForTask.useMutation({onSuccess:()=>{m.task.get.invalidate(),m.milestone.list.invalidate(),f(!1)}}),j=x?.find(k=>k.id===s);v.useEffect(()=>{function k(w){h.current&&!h.current.contains(w.target)&&f(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const S=k=>{if(k===s){f(!1);return}b.mutate({taskId:r,milestoneId:k},{onSuccess:()=>{i?.(k)}})};return n.jsxs("div",{ref:h,className:`relative ${u}`,children:[n.jsxs("button",{onClick:()=>!o&&f(!d),disabled:o||b.isPending,className:`flex items-center gap-2 pl-0 pr-2 py-0 w-full text-left transition-colors ${o?"text-gray-400 cursor-not-allowed":"hover:bg-gray-50 cursor-pointer rounded"}`,children:[n.jsx(Bv,{className:`h-4 w-4 flex-shrink-0 ${j?"text-blue-500":"text-gray-400"}`}),n.jsx("div",{className:"flex-1 min-w-0",children:b.isPending?n.jsxs("span",{className:"text-gray-400 flex items-center gap-2",children:[n.jsx($v,{}),"Saving..."]}):j?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-900 truncate",children:j.name}),n.jsxs("span",{className:"text-xs text-gray-500",children:["(",j.progress,"%)"]})]}):n.jsx("span",{className:"text-gray-400",children:"No milestone"})}),j&&!o&&!b.isPending&&n.jsx("button",{onClick:k=>{k.stopPropagation(),S(null)},className:"p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-gray-600",title:"Remove from milestone",children:n.jsx(K7,{})}),n.jsx(Y7,{className:`h-4 w-4 flex-shrink-0 text-gray-400 transition-transform ${d?"rotate-180":""}`})]}),d&&n.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:y?n.jsx("div",{className:"p-4 text-center text-gray-500",children:n.jsx($v,{})}):x&&x.length>0?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>S(null),className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 ${s?"":"bg-blue-50"}`,children:[n.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:!s&&n.jsx(Hv,{className:"text-blue-500"})}),n.jsx("span",{className:"text-gray-500 italic",children:"No milestone"})]}),x.map(k=>n.jsxs("button",{onClick:()=>S(k.id),className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 ${k.id===s?"bg-blue-50":""} ${X7(k.dueStatus)}`,children:[n.jsx("div",{className:"w-4 h-4 flex items-center justify-center flex-shrink-0",children:k.id===s&&n.jsx(Hv,{className:"text-blue-500"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"text-gray-900 truncate",children:k.name})}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n.jsx("div",{className:"w-16 h-1 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full ${W7(k.progress)}`,style:{width:`${k.progress}%`}})}),n.jsxs("span",{className:"text-xs text-gray-500",children:[k.completedTasks,"/",k.totalTasks," tasks"]})]})]})]},k.id))]}):n.jsxs("div",{className:"p-4 text-center text-gray-500",children:[n.jsx(Bv,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{className:"text-sm",children:"No milestones in this project"})]})})]})}const J7="#6B7280",Qv={sm:"px-1 py-0.5 text-xs",md:"px-1.5 py-0.5 text-xs",lg:"px-2 py-1 text-sm"};function eO(e){const r=e.replace("#",""),s=parseInt(r.substring(0,2),16),i=parseInt(r.substring(2,4),16),o=parseInt(r.substring(4,6),16);return(.299*s+.587*i+.114*o)/255>.5?"#1F2937":"#FFFFFF"}function tO({className:e="h-3 w-3"}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function rw({tag:e,size:r="md",removable:s=!1,onRemove:i}){const o=e.color??J7,u=eO(o),d=Qv[r]??Qv.md,f=h=>{h.stopPropagation(),i?.(e.id)};return n.jsxs("span",{className:`inline-flex items-center gap-1 rounded font-medium ${d}`,style:{backgroundColor:o,color:u},children:[e.name,s&&i&&n.jsx("button",{onClick:f,className:"opacity-70 hover:opacity-100 transition-opacity",title:"Remove tag",children:n.jsx(tO,{className:"h-3 w-3"})})]})}const qv=["#EF4444","#F97316","#EAB308","#22C55E","#06B6D4","#3B82F6","#8B5CF6","#EC4899","#6B7280"];function nO({projectId:e,taskId:r,selectedTags:s,onTagsChange:i,disabled:o=!1}){const[u,d]=v.useState(!1),[f,h]=v.useState(!1),[m,x]=v.useState(""),[y,b]=v.useState(qv[0]),j=v.useRef(null),{data:S,isLoading:k}=q.tag.list.useQuery({projectId:e},{enabled:!!e}),w=q.useUtils(),C=q.tag.create.useMutation({onSuccess:P=>{w.tag.list.invalidate({projectId:e}),A.mutate({taskId:r,tagId:P.id}),x(""),h(!1)}}),A=q.tag.addToTask.useMutation({onSuccess:()=>{w.task.get.invalidate({taskId:r})}}),R=q.tag.removeFromTask.useMutation({onSuccess:()=>{w.task.get.invalidate({taskId:r})}});v.useEffect(()=>{function P(K){j.current&&!j.current.contains(K.target)&&(d(!1),h(!1))}return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const O=new Set(s.map(P=>P.id)),T=P=>{o||(O.has(P.id)?(R.mutate({taskId:r,tagId:P.id}),i?.(s.filter(K=>K.id!==P.id))):(A.mutate({taskId:r,tagId:P.id}),i?.([...s,P])))},L=P=>{o||(R.mutate({taskId:r,tagId:P}),i?.(s.filter(K=>K.id!==P)))},E=()=>{m.trim()&&C.mutate({projectId:e,name:m.trim(),color:y})},D=A.isPending||R.isPending||C.isPending;return n.jsxs("div",{ref:j,className:"relative",children:[n.jsxs("div",{className:"flex flex-wrap gap-1 min-h-[32px] items-center",children:[s.map(P=>n.jsx(rw,{tag:P,size:"sm",removable:!o,onRemove:L},P.id)),!o&&n.jsxs("button",{onClick:()=>d(!u),className:"inline-flex items-center gap-1 px-2 py-1 text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 border border-dashed border-gray-300 dark:border-gray-600 rounded hover:border-gray-400 dark:hover:border-gray-500 transition-colors",disabled:D,children:[D?n.jsx(st,{className:"w-3 h-3 animate-spin"}):n.jsx(Ka,{className:"w-3 h-3"}),"Add tag"]})]}),u&&n.jsxs("div",{className:"absolute z-50 mt-1 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg",children:[n.jsx("div",{className:"max-h-48 overflow-y-auto p-2",children:k?n.jsx("div",{className:"flex items-center justify-center py-4",children:n.jsx(st,{className:"w-5 h-5 animate-spin text-gray-400"})}):S&&S.length>0?n.jsx("div",{className:"space-y-1",children:S.map(P=>{const K=O.has(P.id);return n.jsxs("button",{onClick:()=>T({id:P.id,name:P.name,color:P.color}),className:`w-full flex items-center gap-2 px-2 py-1.5 rounded text-left text-sm transition-colors ${K?"bg-blue-50 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,disabled:D,children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:P.color??"#6B7280"}}),n.jsx("span",{className:"flex-1 text-gray-900 dark:text-white",children:P.name}),K&&n.jsx(Ya,{className:"w-4 h-4 text-blue-500"})]},P.id)})}):n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-2",children:"No tags yet"})}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700"}),f?n.jsxs("div",{className:"p-2 space-y-2",children:[n.jsx("input",{type:"text",value:m,onChange:P=>x(P.target.value),placeholder:"Tag name",className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:P=>{P.key==="Enter"&&E(),P.key==="Escape"&&h(!1)},autoFocus:!0}),n.jsx("div",{className:"flex gap-1 flex-wrap",children:qv.map(P=>n.jsx("button",{onClick:()=>b(P),className:`w-5 h-5 rounded-full transition-transform ${y===P?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:P}},P))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:E,disabled:!m.trim()||C.isPending,className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[C.isPending?n.jsx(st,{className:"w-4 h-4 animate-spin"}):n.jsx(Ya,{className:"w-4 h-4"}),"Create"]}),n.jsx("button",{onClick:()=>h(!1),className:"px-2 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:n.jsx(ts,{className:"w-4 h-4"})})]})]}):n.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[n.jsx(Ka,{className:"w-4 h-4"}),"Create new tag"]})]})]})}function rO(e){return e?new Date(e).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"}):""}function Fv(e){return e?new Date(e).toISOString().split("T")[0]??"":""}function aO(e){return e?new Date(e)<new Date:!1}function Vv({taskId:e,dateType:r,currentDate:s,onDateChange:i,disabled:o=!1}){const[u,d]=v.useState(!1),[f,h]=v.useState(""),m=v.useRef(null),x=v.useRef(null),y=q.useUtils(),b=q.task.update.useMutation({onSuccess:()=>{y.task.get.invalidate({taskId:e}),d(!1)}});v.useEffect(()=>{u&&(h(Fv(s)),setTimeout(()=>m.current?.focus(),0))},[u,s]),v.useEffect(()=>{function R(O){x.current&&!x.current.contains(O.target)&&u&&j()}return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[u,f]);const j=()=>{const R=f.trim()||null;if(Fv(s)!==(R||"")){const O=r==="due"?{taskId:e,dateDue:R}:{taskId:e,dateStarted:R};b.mutate(O,{onSuccess:()=>{i?.(R)}})}else d(!1)},S=R=>{R.stopPropagation();const O=r==="due"?{taskId:e,dateDue:null}:{taskId:e,dateStarted:null};b.mutate(O,{onSuccess:()=>{i?.(null),d(!1)}})},k=R=>{R.key==="Enter"?j():R.key==="Escape"&&d(!1)},w=r==="due"&&aO(s),C={due:{icon:Qm,placeholder:"Set due date",clearTitle:"Clear due date"},start:{icon:Fm,placeholder:"Set start date",clearTitle:"Clear start date"}}[r],A=C.icon;return u?n.jsxs("div",{ref:x,className:"flex items-center gap-2",children:[n.jsx("input",{ref:m,type:"date",value:f,onChange:R=>h(R.target.value),onKeyDown:k,disabled:b.isPending,className:"flex-1 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),b.isPending&&n.jsx(st,{className:"w-4 h-4 animate-spin text-gray-400"})]}):n.jsx("div",{ref:x,className:"group",children:n.jsx("button",{onClick:()=>!o&&d(!0),disabled:o||b.isPending,className:`flex items-center gap-2 w-full text-left py-0 transition-colors ${o?"cursor-not-allowed":"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded"}`,children:b.isPending?n.jsxs("span",{className:"text-sm text-gray-400 flex items-center gap-2",children:[n.jsx(st,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):s?n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsxs("span",{className:`text-sm ${w?"text-red-500 font-medium":"text-gray-900 dark:text-white"}`,children:[rO(s),w&&" (Overdue)"]}),!o&&n.jsx("button",{onClick:S,className:"p-0.5 opacity-0 group-hover:opacity-100 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-opacity",title:C.clearTitle,children:n.jsx(ts,{className:"w-3 h-3"})})]}):n.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[n.jsx(A,{className:"w-4 h-4"}),C.placeholder]})})})}function Gv({user:e,size:r="sm"}){const s=r==="sm"?"w-6 h-6 text-xs":"w-8 h-8 text-sm";return e.avatarUrl?n.jsx("img",{src:e.avatarUrl,alt:e.name??e.username,className:`${s} rounded-full`}):n.jsx("div",{className:`${s} rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center font-medium text-gray-700 dark:text-gray-300`,children:(e.name??e.username).charAt(0).toUpperCase()})}function sO({projectId:e,taskId:r,assignees:s,onAssigneesChange:i,disabled:o=!1}){const[u,d]=v.useState(!1),f=v.useRef(null),h=q.useUtils(),{data:m,isLoading:x}=q.project.getMembers.useQuery({projectId:e},{enabled:e>0}),y=q.task.setAssignees.useMutation({onSuccess:()=>{h.task.get.invalidate({taskId:r})}});v.useEffect(()=>{function w(C){f.current&&!f.current.contains(C.target)&&d(!1)}return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const b=new Set(s.map(w=>w.id)),j=w=>{if(o)return;let C,A;b.has(w.id)?(C=s.filter(R=>R.id!==w.id).map(R=>R.id),A=s.filter(R=>R.id!==w.id)):(C=[...s.map(R=>R.id),w.id],A=[...s,w]),y.mutate({taskId:r,assigneeIds:C},{onSuccess:()=>{i?.(A)}})},S=w=>{if(o)return;const C=s.filter(R=>R.id!==w).map(R=>R.id),A=s.filter(R=>R.id!==w);y.mutate({taskId:r,assigneeIds:C},{onSuccess:()=>{i?.(A)}})},k=y.isPending;return n.jsxs("div",{ref:f,className:"relative",children:[n.jsxs("div",{className:"space-y-2",children:[s.length>0?s.map(w=>n.jsxs("div",{className:"flex items-center gap-2 group",children:[n.jsx(Gv,{user:w}),n.jsx("span",{className:"text-sm text-gray-900 dark:text-white flex-1",children:w.name??w.username}),!o&&n.jsx("button",{onClick:()=>S(w.id),disabled:k,className:"p-0.5 opacity-0 group-hover:opacity-100 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-opacity",title:"Remove assignee",children:n.jsx(ts,{className:"w-3 h-3"})})]},w.id)):n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No assignees"}),!o&&n.jsxs("button",{onClick:()=>d(!u),disabled:k,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:[k?n.jsx(st,{className:"w-4 h-4 animate-spin"}):n.jsx(m6,{className:"w-4 h-4"}),"Add assignee"]})]}),u&&n.jsx("div",{className:"absolute z-50 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-60 overflow-auto",children:x?n.jsx("div",{className:"flex items-center justify-center py-4",children:n.jsx(st,{className:"w-5 h-5 animate-spin text-gray-400"})}):m&&m.length>0?n.jsx("div",{className:"p-1",children:m.map(w=>{const C=b.has(w.id);return n.jsxs("button",{onClick:()=>j({id:w.id,username:w.username,name:w.name,avatarUrl:w.avatarUrl}),disabled:k,className:`w-full flex items-center gap-2 px-2 py-1.5 rounded text-left text-sm transition-colors ${C?"bg-blue-50 dark:bg-blue-900/30":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx(Gv,{user:{id:w.id,username:w.username,name:w.name,avatarUrl:w.avatarUrl}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-gray-900 dark:text-white truncate",children:w.name??w.username}),w.name&&n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["@",w.username]})]}),C&&n.jsx(Ya,{className:"w-4 h-4 text-blue-500 flex-shrink-0"})]},w.id)})}):n.jsx("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No project members found"})})]})}function Yv({label:e,value:r,options:s,getOptionId:i,getOptionLabel:o,selectedId:u,onSelect:d,disabled:f=!1,isLoading:h=!1,emptyMessage:m="No options available"}){const[x,y]=v.useState(!1),b=v.useRef(null);return v.useEffect(()=>{function j(S){b.current&&!b.current.contains(S.target)&&y(!1)}return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),n.jsxs("div",{ref:b,className:"relative",children:[n.jsxs("button",{onClick:()=>!f&&y(!x),disabled:f,className:`flex items-center justify-between w-full text-sm py-0.5 transition-colors ${f?"cursor-not-allowed text-gray-400":"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded"}`,children:[n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[e,":"]}),n.jsxs("span",{className:"flex items-center gap-1 text-gray-900 dark:text-white",children:[r,!f&&n.jsx(vM,{className:`w-3 h-3 transition-transform ${x?"rotate-180":""}`})]})]}),x&&n.jsx("div",{className:"absolute right-0 z-50 mt-1 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-48 overflow-auto",children:h?n.jsx("div",{className:"flex items-center justify-center py-4",children:n.jsx(st,{className:"w-5 h-5 animate-spin text-gray-400"})}):s.length>0?n.jsx("div",{className:"p-1",children:s.map(j=>{const S=i(j),k=S===u;return n.jsx("button",{onClick:()=>{d(j),y(!1)},className:`w-full flex items-center gap-2 px-2 py-1.5 rounded text-left text-sm transition-colors ${k?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-900 dark:text-white"}`,children:o(j)},S)})}):n.jsx("div",{className:"p-3 text-center text-sm text-gray-500 dark:text-gray-400",children:m})})]})}function iO({taskId:e,projectId:r,currentColumn:s,currentSwimlane:i,onLocationChange:o,disabled:u=!1}){const d=q.useUtils(),{data:f,isLoading:h}=q.project.get.useQuery({projectId:r},{enabled:r>0}),m=q.task.move.useMutation({onSuccess:()=>{d.task.get.invalidate({taskId:e}),d.task.list.invalidate()}}),x=f?.columns??[],y=f?.swimlanes??[],b=y.length>1,j=w=>{w.id!==s.id&&m.mutate({taskId:e,columnId:w.id,swimlaneId:i?.id??null},{onSuccess:()=>{o?.(w.id,i?.id??null)}})},S=w=>{w.id!==i?.id&&m.mutate({taskId:e,columnId:s.id,swimlaneId:w.id},{onSuccess:()=>{o?.(s.id,w.id)}})},k=u||m.isPending;return n.jsxs("div",{className:"space-y-1",children:[m.isPending&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-1",children:[n.jsx(st,{className:"w-4 h-4 animate-spin"}),"Moving..."]}),n.jsx(Yv,{label:"Column",value:s.title,options:x,getOptionId:w=>w.id,getOptionLabel:w=>w.title,selectedId:s.id,onSelect:j,disabled:k,isLoading:h}),b&&n.jsx(Yv,{label:"Swimlane",value:i?.name??"None",options:y,getOptionId:w=>w.id,getOptionLabel:w=>w.name,selectedId:i?.id??null,onSelect:S,disabled:k,isLoading:h})]})}function lO(e){if(e===0)return"Not set";if(e<1)return`${Math.round(e*60)}m`;const r=Math.floor(e),s=Math.round((e-r)*60);return s>0?`${r}h ${s}m`:`${r}h`}function oO(e){const r=e.trim().toLowerCase();if(!r)return 0;const s=r.match(/^(\d+(?:\.\d+)?)\s*h(?:\s+(\d+)\s*m)?$/);if(s){const d=parseFloat(s[1]??"0"),f=parseInt(s[2]??"0",10);return d+f/60}const i=r.match(/^(\d+)\s*m$/);if(i)return parseInt(i[1]??"0",10)/60;const o=r.match(/^(\d+):(\d+)$/);if(o){const d=parseInt(o[1]??"0",10),f=parseInt(o[2]??"0",10);return d+f/60}const u=parseFloat(r);return isNaN(u)?0:u}function cO({taskId:e,currentHours:r,onTimeChange:s,disabled:i=!1}){const[o,u]=v.useState(!1),[d,f]=v.useState(""),h=v.useRef(null),m=v.useRef(null),x=q.useUtils(),y=q.task.update.useMutation({onSuccess:()=>{x.task.get.invalidate({taskId:e}),u(!1)}});v.useEffect(()=>{if(o){if(r===0)f("");else if(r<1)f(`${Math.round(r*60)}m`);else{const k=Math.floor(r),w=Math.round((r-k)*60);f(w>0?`${k}h ${w}m`:`${k}h`)}setTimeout(()=>h.current?.focus(),0)}},[o,r]),v.useEffect(()=>{function k(w){m.current&&!m.current.contains(w.target)&&o&&b()}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[o,d]);const b=()=>{const k=oO(d);Math.abs(k-r)>.001?y.mutate({taskId:e,timeEstimated:k},{onSuccess:()=>{s?.(k)}}):u(!1)},j=k=>{k.stopPropagation(),y.mutate({taskId:e,timeEstimated:0},{onSuccess:()=>{s?.(0),u(!1)}})},S=k=>{k.key==="Enter"?b():k.key==="Escape"&&u(!1)};return o?n.jsxs("div",{ref:m,className:"flex items-center gap-2",children:[n.jsx("input",{ref:h,type:"text",value:d,onChange:k=>f(k.target.value),onKeyDown:S,disabled:y.isPending,placeholder:"e.g. 2h, 30m, 2h 30m",className:"flex-1 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.isPending&&n.jsx(st,{className:"w-4 h-4 animate-spin text-gray-400"})]}):n.jsxs("div",{ref:m,className:"group flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Estimated:"}),n.jsx("button",{onClick:()=>!i&&u(!0),disabled:i||y.isPending,className:`flex items-center gap-1 transition-colors ${i?"cursor-not-allowed":"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded px-1"}`,children:y.isPending?n.jsx("span",{className:"text-gray-400 flex items-center gap-1",children:n.jsx(st,{className:"w-3 h-3 animate-spin"})}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:`text-sm ${r===0?"text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-white"}`,children:lO(r)}),r>0&&!i&&n.jsx("button",{onClick:j,className:"p-0.5 opacity-0 group-hover:opacity-100 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-opacity",title:"Clear estimate",children:n.jsx(ts,{className:"w-3 h-3"})})]})})]})}function uO(e){return e?new Date(e).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"}):null}function dO(e){if(e===0)return"Not set";if(e<1)return`${Math.round(e*60)}m`;const r=Math.floor(e),s=Math.round((e-r)*60);return s>0?`${r}h ${s}m`:`${r}h`}function Kv(e){return new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ha({icon:e,label:r,children:s}){return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-400",children:[n.jsx(e,{className:"w-4 h-4"}),r]}),n.jsx("div",{className:"pl-6",children:s})]})}function fO({task:e,projectId:r,onUpdate:s,isUpdating:i}){const o=uO(e.dateCompleted);return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ha,{icon:jj,label:"Assignees",children:n.jsx(sO,{projectId:r,taskId:e.id,assignees:e.assignees.map(({user:u})=>({id:u.id,username:u.username,name:u.name,avatarUrl:u.avatarUrl}))})}),n.jsx(ha,{icon:Fm,label:"Start Date",children:n.jsx(Vv,{taskId:e.id,dateType:"start",currentDate:e.dateStarted})}),n.jsx(ha,{icon:Qm,label:"Due Date",children:n.jsx(Vv,{taskId:e.id,dateType:"due",currentDate:e.dateDue})}),n.jsx(ha,{icon:UM,label:"Milestone",children:n.jsx(Z7,{projectId:r,taskId:e.id,currentMilestoneId:e.milestone?.id??null})}),n.jsx(ha,{icon:l6,label:"Tags",children:n.jsx(nO,{projectId:r,taskId:e.id,selectedTags:e.tags.map(({tag:u})=>({id:u.id,name:u.name,color:u.color}))})}),n.jsx(ha,{icon:ni,label:"Time Tracking",children:n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsx(cO,{taskId:e.id,currentHours:e.timeEstimated}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Spent:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:dO(e.timeSpent)})]})]})}),n.jsx(ha,{icon:MM,label:"Location",children:n.jsx(iO,{taskId:e.id,projectId:r,currentColumn:e.column,currentSwimlane:e.swimlane})}),n.jsx(ha,{icon:HM,label:"Activity",children:n.jsxs("div",{className:"space-y-1 text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("div",{children:["Created: ",Kv(e.createdAt)]}),n.jsxs("div",{children:["Updated: ",Kv(e.updatedAt)]}),o&&n.jsxs("div",{children:["Completed: ",o]})]})})]})}function hO(){return n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),n.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),n.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})]})}function mO({message:e}){return n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-500 dark:text-red-400 text-lg font-medium mb-2",children:"Error loading task"}),n.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:e})]})})}function gO({taskId:e,projectId:r,isOpen:s,onClose:i}){const{task:o,isLoading:u,isError:d,error:f,subtasks:h,isLoadingSubtasks:m,comments:x,isLoadingComments:y,updateTask:b,isUpdating:j,closeTask:S,reopenTask:k,createSubtask:w,updateSubtask:C,deleteSubtask:A,isCreatingSubtask:R,createComment:O,updateComment:T,deleteComment:L,isCreatingComment:E}=P7({taskId:e??0,enabled:s&&e!==null});v.useEffect(()=>{const ie=le=>{le.key==="Escape"&&s&&i()};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[s,i]);const D=v.useCallback(async ie=>{!e||!ie.trim()||await b({taskId:e,title:ie.trim()})},[e,b]),P=v.useCallback(async ie=>{e&&await b({taskId:e,description:ie})},[e,b]),K=v.useCallback(async ie=>{e&&await b({taskId:e,priority:ie})},[e,b]),Y=v.useCallback(async()=>{e&&await S({taskId:e})},[e,S]),ae=v.useCallback(async()=>{e&&await k({taskId:e})},[e,k]);return n.jsx(p7,{open:s,onOpenChange:ie=>!ie&&i(),children:n.jsx(_1,{className:"max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:u?n.jsx(hO,{}):d?n.jsx(mO,{message:f?.message??"Unknown error"}):o?n.jsxs(n.Fragment,{children:[n.jsx(L1,{className:"flex-shrink-0",children:n.jsx(I7,{task:o,onTitleUpdate:D,onPriorityUpdate:K,onClose:Y,onReopen:ae,isUpdating:j})}),n.jsxs("div",{className:"flex-1 overflow-hidden flex gap-6",children:[n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs(nw,{defaultValue:"details",className:"w-full",children:[n.jsxs(s0,{className:"mb-4",children:[n.jsx(Js,{value:"details",children:"Details"}),n.jsxs(Js,{value:"subtasks",children:["Subtasks (",h.length,")"]}),n.jsxs(Js,{value:"comments",children:["Comments (",x.length,")"]})]}),n.jsx(ei,{value:"details",className:"mt-0",children:n.jsx(U7,{description:o.description??"",onUpdate:P,isUpdating:j})}),n.jsx(ei,{value:"subtasks",className:"mt-0",children:n.jsx(Q7,{taskId:e,subtasks:h,isLoading:m,onCreate:w,onUpdate:C,onDelete:A,isCreating:R})}),n.jsx(ei,{value:"comments",className:"mt-0",children:n.jsx(G7,{taskId:e,comments:x,isLoading:y,onCreate:O,onUpdate:T,onDelete:L,isCreating:E})})]})}),n.jsx("div",{className:"w-64 flex-shrink-0 border-l border-gray-200 dark:border-gray-700 pl-6 overflow-y-auto",children:n.jsx(fO,{task:o,projectId:r,onUpdate:b,isUpdating:j})})]})]}):null})})}const pO=[{value:0,label:"None",color:"bg-gray-400"},{value:1,label:"Low",color:"bg-blue-400"},{value:2,label:"Normal",color:"bg-yellow-400"},{value:3,label:"High",color:"bg-orange-400"},{value:4,label:"Urgent",color:"bg-red-500"}];function xO({taskId:e,projectId:r,currentColumnId:s,currentPriority:i,isOpen:o,position:u,columns:d,onClose:f,onOpenDetail:h}){const m=v.useRef(null),[x,y]=v.useState(null),b=q.useUtils(),j=q.task.move.useMutation({onSuccess:()=>{b.task.list.invalidate({projectId:r}),f()}}),S=q.task.update.useMutation({onSuccess:()=>{b.task.list.invalidate({projectId:r}),f()}}),k=q.task.close.useMutation({onSuccess:()=>{b.task.list.invalidate({projectId:r}),f()}}),w=q.task.delete.useMutation({onSuccess:()=>{b.task.list.invalidate({projectId:r}),f()}});v.useEffect(()=>{if(!o)return;const E=P=>{m.current&&!m.current.contains(P.target)&&f()},D=P=>{P.key==="Escape"&&f()};return document.addEventListener("mousedown",E),document.addEventListener("keydown",D),()=>{document.removeEventListener("mousedown",E),document.removeEventListener("keydown",D)}},[o,f]);const C=v.useCallback(E=>{E!==s&&j.mutate({taskId:e,columnId:E,position:1})},[e,s,j]),A=v.useCallback(E=>{E!==i&&S.mutate({taskId:e,priority:E})},[e,i,S]),R=v.useCallback(()=>{k.mutate({taskId:e})},[e,k]),O=v.useCallback(()=>{confirm("Are you sure you want to delete this task?")&&w.mutate({taskId:e})},[e,w]);if(!o)return null;const T=[{label:"Open",icon:n.jsx(yO,{}),onClick:h},{divider:!0,label:""},{label:"Move to",icon:n.jsx(vO,{}),submenu:d.filter(E=>E.id!==s).map(E=>({label:E.title,onClick:()=>C(E.id)}))},{label:"Priority",icon:n.jsx(bO,{}),submenu:pO.map(E=>({label:E.label,icon:n.jsx("span",{className:Se("w-2 h-2 rounded-full",E.color)}),onClick:()=>A(E.value),disabled:E.value===i}))},{divider:!0,label:""},{label:"Close task",icon:n.jsx(jO,{}),onClick:R},{label:"Delete",icon:n.jsx(wO,{}),onClick:O,danger:!0}],L={...u};return typeof window<"u"&&(u.x+200>window.innerWidth&&(L.x=window.innerWidth-200-10),u.y+250>window.innerHeight&&(L.y=window.innerHeight-250-10)),n.jsx("div",{ref:m,className:"fixed z-50 min-w-[180px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1",style:{left:L.x,top:L.y},children:T.map((E,D)=>E.divider?n.jsx("div",{className:"my-1 border-t border-gray-200 dark:border-gray-700"},D):E.submenu?n.jsxs("div",{className:"relative",onMouseEnter:()=>y(E.label),onMouseLeave:()=>y(null),children:[n.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[E.icon,E.label]}),n.jsx(kO,{})]}),x===E.label&&n.jsx("div",{className:"absolute left-full top-0 min-w-[140px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 ml-1",children:E.submenu.map((P,K)=>n.jsxs("button",{className:Se("w-full px-3 py-2 text-sm text-left flex items-center gap-2",P.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-700"),onClick:P.disabled?void 0:P.onClick,disabled:P.disabled,children:[P.icon,P.label]},K))})]},D):n.jsxs("button",{className:Se("w-full px-3 py-2 text-sm text-left flex items-center gap-2",E.danger?"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-gray-100 dark:hover:bg-gray-700",E.disabled&&"opacity-50 cursor-not-allowed"),onClick:E.disabled?void 0:E.onClick,disabled:E.disabled,children:[E.icon,E.label]},D))})}function yO(){return n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}function vO(){return n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}function bO(){return n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}function jO(){return n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function wO(){return n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function kO(){return n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function NO(e,r){const s={};return e.forEach(i=>{const o=`${i.columnId}-${i.swimlaneId??"default"}`;s[o]||(s[o]=[]),s[o].push(i)}),Object.keys(s).forEach(i=>{s[i].sort((o,u)=>o.position-u.position)}),s}function SO({columns:e,swimlanes:r,tasks:s,projectId:i}){const[o,u]=v.useState(s),[d,f]=v.useState(null),[h,m]=v.useState({isOpen:!1,position:{x:0,y:0},taskId:null,columnId:0,priority:0}),x=v.useCallback(E=>{f(E)},[]),y=v.useCallback(()=>{f(null)},[]),b=v.useCallback((E,D)=>{D.preventDefault();const P=o.find(K=>K.id===E);P&&m({isOpen:!0,position:{x:D.clientX,y:D.clientY},taskId:E,columnId:P.columnId,priority:P.priority})},[o]),j=v.useCallback(()=>{m(E=>({...E,isOpen:!1}))},[]);v.useEffect(()=>{u(s)},[s]);const{moveTask:S,error:k,clearError:w}=zA({projectId:i,tasks:o,onOptimisticUpdate:u}),C=v.useCallback(async(E,D,P,K)=>{await S(E,D,P,K)},[S]),A=v.useMemo(()=>[...e].sort((E,D)=>E.position-D.position),[e]),R=v.useMemo(()=>[...r].sort((E,D)=>E.position-D.position),[r]),O=v.useMemo(()=>NO(o),[o,r]),T=v.useMemo(()=>Math.max(280,Math.min(360,window.innerWidth/(e.length+1))),[e.length]),L=R.length>1;return n.jsxs(_A,{tasks:o,onTaskMove:C,children:[k&&n.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 flex items-center gap-2",children:[n.jsx("span",{children:"Failed to move task"}),n.jsx("button",{onClick:w,className:"text-white hover:text-red-100",children:""})]}),n.jsx("div",{className:"h-full overflow-x-auto overflow-y-hidden bg-gray-50 dark:bg-gray-900",children:n.jsxs("div",{className:"flex h-full p-4 gap-4",style:{minWidth:`${A.length*(T+16)}px`},children:[A.map(E=>{const D=o.filter(K=>K.columnId===E.id),P=E.taskLimit>0&&D.length>=E.taskLimit;return n.jsx(DA,{column:E,swimlanes:L?R:[],tasks:O,projectId:i,width:T,isOverLimit:P,taskCount:D.length,onTaskClick:x,onTaskContextMenu:b},E.id)}),n.jsx("div",{className:"flex-shrink-0 flex items-start",style:{width:T},children:n.jsxs("button",{className:"w-full h-12 flex items-center justify-center gap-2 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:border-gray-400 dark:hover:border-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",onClick:()=>{console.log("Add column clicked")},children:[n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),n.jsx("span",{className:"font-medium",children:"Add Column"})]})})]})}),n.jsx(gO,{taskId:d,projectId:i,isOpen:d!==null,onClose:y}),h.taskId!==null&&n.jsx(xO,{taskId:h.taskId,projectId:i,currentColumnId:h.columnId,currentPriority:h.priority,isOpen:h.isOpen,position:h.position,columns:A,onClose:j,onOpenDetail:()=>{const E=h.taskId;j(),E!==null&&x(E)}})]})}function CO(){return n.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function EO(){return n.jsx("svg",{className:"h-6 w-6 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}function MO(){return n.jsxs("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function RO(){return n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}function TO(){return n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}function AO(){return n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function DO(){return n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function OO(){return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(CO,{}),n.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"Loading board..."})]})})}function Ec({message:e,onRetry:r}){return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(EO,{}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"Failed to load board"}),n.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:e}),n.jsx("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Try Again"})]})})}function _O({projectName:e}){return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx("div",{className:"mx-auto h-16 w-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:n.jsx("svg",{className:"h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No columns yet"}),n.jsxs("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:['Get started by adding columns to your board in "',e,'".']})]})})}function Wv({projectName:e,projectId:r,onBack:s,tags:i=[],selectedTagIds:o,onTagToggle:u,onClearFilters:d}){const f=Ct(),[h,m]=v.useState(!1),x=o.length>0;return n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Back to projects",children:n.jsx(RO,{})}),n.jsx("div",{children:n.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>m(!h),className:`p-2 rounded-md transition-colors flex items-center gap-1 ${x?"text-blue-600 bg-blue-50 hover:bg-blue-100 dark:text-blue-400 dark:bg-blue-900/30 dark:hover:bg-blue-900/50":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:"Filter by tags",children:[n.jsx(TO,{}),x&&n.jsx("span",{className:"text-xs font-medium",children:o.length})]}),h&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),n.jsxs("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[n.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filter by Tag"}),x&&n.jsx("button",{onClick:()=>{d(),m(!1)},className:"text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400",children:"Clear all"})]}),n.jsx("div",{className:"max-h-64 overflow-y-auto p-1",children:i.length===0?n.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No tags in this project"}):i.map(y=>{const b=o.includes(y.id);return n.jsxs("button",{onClick:()=>u(y.id),className:"w-full flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:[n.jsx("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:y.color??"#6B7280"}}),n.jsx("span",{className:"flex-1 text-left text-gray-700 dark:text-gray-300",children:y.name}),b&&n.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:n.jsx(AO,{})})]},y.id)})})]})]})]}),x&&n.jsxs("div",{className:"flex items-center gap-1",children:[o.slice(0,2).map(y=>{const b=i.find(j=>j.id===y);return b?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:b.color??"#6B7280",color:"#fff"},children:[b.name,n.jsx("button",{onClick:()=>u(b.id),className:"opacity-70 hover:opacity-100",children:n.jsx(DO,{})})]},b.id):null}),o.length>2&&n.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",o.length-2]})]}),n.jsx("button",{onClick:()=>f(`/project/${r}/settings`),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Board settings",children:n.jsx(MO,{})})]})]})}function LO(){const{projectId:e}=Jn(),r=Ct(),s=e?parseInt(e,10):null,[i,o]=v.useState([]),u=q.project.get.useQuery({projectId:s},{enabled:!!s,staleTime:300*1e3}),d=q.task.list.useQuery({projectId:s,isActive:!0,limit:500},{enabled:!!s,staleTime:30*1e3}),f=q.tag.list.useQuery({projectId:s},{enabled:!!s,staleTime:300*1e3}),h=k=>{o(w=>w.includes(k)?w.filter(C=>C!==k):[...w,k])},m=()=>{o([])},x=v.useMemo(()=>{const k=d.data??[];return i.length===0?k:k.filter(w=>i.some(C=>w.tags?.some(A=>A.id===C)))},[d.data,i]);if(!s||isNaN(s))return n.jsx(Qe,{children:n.jsx(Ec,{message:"Invalid project ID",onRetry:()=>r("/projects")})});if(u.isLoading||d.isLoading)return n.jsx(Qe,{children:n.jsx(OO,{})});if(u.error)return n.jsx(Qe,{children:n.jsx(Ec,{message:u.error.message,onRetry:()=>u.refetch()})});if(d.error)return n.jsx(Qe,{children:n.jsx(Ec,{message:d.error.message,onRetry:()=>d.refetch()})});if(!u.data)return n.jsx(Qe,{children:n.jsx(Ec,{message:"Project not found",onRetry:()=>r("/projects")})});const y=u.data,b=y.columns??[],j=y.swimlanes??[],S=f.data??[];return b.length===0?n.jsxs(Qe,{children:[n.jsx(Wv,{projectName:y.name,projectId:y.id,onBack:()=>r("/projects"),tags:S,selectedTagIds:i,onTagToggle:h,onClearFilters:m}),n.jsx(_O,{projectName:y.name})]}):n.jsx(Qe,{children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx(Wv,{projectName:y.name,projectId:y.id,onBack:()=>r("/projects"),tags:S,selectedTagIds:i,onTagToggle:h,onClearFilters:m}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx(SO,{columns:b,swimlanes:j,tasks:x,projectId:y.id})})]})})}const Xv={0:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400",1:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",2:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",3:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"},zO={0:"Low",1:"Normal",2:"High",3:"Urgent"},PO={0:"",1:"",2:"",3:""},Zv={sm:"px-1 py-0.5 text-xs",md:"px-1.5 py-0.5 text-xs",lg:"px-2 py-1 text-sm"};function i0({priority:e,showLow:r=!1,size:s="md"}){if(e===0&&!r)return null;const i=Xv[e]??Xv[0],o=zO[e]??"Low",u=PO[e]??"",d=Zv[s]??Zv.md;return n.jsxs("span",{className:`inline-flex items-center gap-1 rounded font-medium ${i} ${d}`,title:`Priority: ${o}`,children:[n.jsx("span",{className:"opacity-75",children:u}),o]})}function IO({className:e="h-3.5 w-3.5"}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}function UO({className:e="h-3.5 w-3.5"}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function BO(e){const r=typeof e=="string"?new Date(e):e,s=new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()),o=new Date(s.getFullYear(),s.getMonth(),s.getDate()),u=i.getTime()-o.getTime(),d=Math.ceil(u/(1e3*60*60*24)),f=d<0,h=d===0,m=d>=0&&d<=2;let x;if(f){const y=Math.abs(d);x=y===1?"Yesterday":`${y}d overdue`}else if(h)x="Today";else if(d===1)x="Tomorrow";else if(d<=7)x=`${d}d`;else{const y={month:"short",day:"numeric"};x=r.toLocaleDateString(void 0,y)}return{text:x,isOverdue:f,isDueToday:h,isDueSoon:m,daysUntilDue:d}}const Jv={sm:{container:"text-xs gap-0.5",icon:"h-3 w-3"},md:{container:"text-xs gap-1",icon:"h-3.5 w-3.5"},lg:{container:"text-sm gap-1",icon:"h-4 w-4"}};function HO({dueDate:e,showIcon:r=!0,size:s="md",variant:i="text"}){const o=BO(e),u=Jv[s]??Jv.md;let d,f="";o.isOverdue?(d="text-red-500 dark:text-red-400",i==="pill"&&(f="bg-red-100 dark:bg-red-900/30")):o.isDueToday?(d="text-orange-600 dark:text-orange-400 font-medium",i==="pill"&&(f="bg-orange-100 dark:bg-orange-900/30")):o.isDueSoon?(d="text-orange-500 dark:text-orange-400",i==="pill"&&(f="bg-orange-50 dark:bg-orange-900/20")):(d="text-gray-500 dark:text-gray-400",i==="pill"&&(f="bg-gray-100 dark:bg-gray-800"));const h=o.isOverdue?UO:IO,m=i==="pill"?"px-2 py-0.5 rounded-full":"";return n.jsxs("span",{className:`inline-flex items-center ${d} ${f} ${m} ${u.container}`,title:`Due: ${new Date(e).toLocaleDateString()}`,children:[r&&n.jsx(h,{className:u.icon}),o.text]})}const eb={sm:{bar:"h-1",text:"text-xs"},md:{bar:"h-1.5",text:"text-xs"},lg:{bar:"h-2",text:"text-sm"}};function $O(e){return e===100?"bg-green-500 dark:bg-green-400":e>0?"bg-blue-500 dark:bg-blue-400":"bg-gray-300 dark:bg-gray-500"}function QO({progress:e,showPercentage:r=!1,size:s="md",animated:i=!0}){const o=Math.max(0,Math.min(100,e)),u=eb[s]??eb.md,d=$O(o);return n.jsxs("div",{className:"w-full",children:[n.jsx("div",{className:`${u.bar} bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden`,children:n.jsx("div",{className:`h-full ${d} rounded-full ${i?"transition-all duration-300":""}`,style:{width:`${o}%`},role:"progressbar","aria-valuenow":o,"aria-valuemin":0,"aria-valuemax":100})}),r&&n.jsxs("span",{className:`${u.text} text-gray-500 dark:text-gray-400 mt-0.5`,children:[Math.round(o),"%"]})]})}function qO(){return n.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function FO(){return n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}function VO({direction:e}){return e?n.jsx("svg",{className:"h-4 w-4 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:e==="asc"?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})}):n.jsx("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})}function GO(){return n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function YO(){return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(qO,{}),n.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"Loading tasks..."})]})})}function Oh({message:e,onRetry:r}){return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Failed to load tasks"}),n.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:e}),n.jsx("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Try Again"})]})})}function KO(){return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No tasks found"}),n.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Create your first task to get started."})]})})}function WO({projectName:e,projectId:r,onBack:s,selectedCount:i,onBulkClose:o,includeCompleted:u,onToggleCompleted:d}){const f=Ct();return n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Back to projects",children:n.jsx(FO,{})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"List View"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[i>0&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i," selected"]}),n.jsx("button",{onClick:o,className:"px-3 py-1.5 text-sm bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 rounded-md hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:"Close Tasks"})]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("input",{type:"checkbox",checked:u,onChange:d,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Show completed"]}),n.jsx("button",{onClick:()=>f(`/project/${r}/board`),className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Board View"})]})]})}function XO({sortConfig:e,onSort:r,allSelected:s,onSelectAll:i}){const o=[{field:"title",label:"Title",width:"w-1/3"},{field:"column",label:"Status",width:"w-24"},{field:"priority",label:"Priority",width:"w-24"},{field:"dateDue",label:"Due Date",width:"w-32"},{field:"progress",label:"Progress",width:"w-28"},{field:"createdAt",label:"Created",width:"w-28"}];return n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"w-10 px-4 py-3",children:n.jsx("input",{type:"checkbox",checked:s,onChange:i,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),o.map(u=>n.jsx("th",{className:`${u.width} px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700`,onClick:()=>r(u.field),children:n.jsxs("div",{className:"flex items-center gap-1",children:[u.label,n.jsx(VO,{direction:e.field===u.field?e.direction:null})]})},u.field)),n.jsx("th",{className:"w-20 px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tags"})]})})}function ZO({task:e,selected:r,onSelect:s,onTaskClick:i}){const o=e.column?.title??"Unknown";return n.jsxs("tr",{className:`border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer ${e.isActive?"":"opacity-50"} ${r?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[n.jsx("td",{className:"px-4 py-3",onClick:u=>u.stopPropagation(),children:n.jsx("input",{type:"checkbox",checked:r,onChange:()=>s(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),n.jsx("td",{className:"px-4 py-3",onClick:()=>i(e.id),children:n.jsxs("div",{className:"flex items-center gap-2",children:[!e.isActive&&n.jsx("span",{className:"text-green-500",children:n.jsx(GO,{})}),n.jsx("span",{className:`text-sm font-medium ${e.isActive?"text-gray-900 dark:text-white":"line-through text-gray-500"}`,children:e.title})]})}),n.jsx("td",{className:"px-4 py-3",onClick:()=>i(e.id),children:n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:o})}),n.jsx("td",{className:"px-4 py-3",onClick:()=>i(e.id),children:n.jsx(i0,{priority:e.priority,showLow:!0,size:"sm"})}),n.jsx("td",{className:"px-4 py-3",onClick:()=>i(e.id),children:e.dateDue?n.jsx(HO,{dueDate:e.dateDue,size:"sm"}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("td",{className:"px-4 py-3",onClick:()=>i(e.id),children:n.jsx(QO,{progress:e.progress,size:"sm",showPercentage:!0})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400",onClick:()=>i(e.id),children:new Date(e.createdAt).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3",onClick:()=>i(e.id),children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags?.slice(0,2).map(u=>n.jsx(rw,{tag:u,size:"sm"},u.id)),(e.tags?.length??0)>2&&n.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",(e.tags?.length??0)-2]})]})})]})}function JO(){const{projectId:e}=Jn(),r=Ct(),s=e?parseInt(e,10):null,[i,o]=v.useState({field:"createdAt",direction:"desc"}),[u,d]=v.useState(new Set),[f,h]=v.useState(!1),m=q.project.get.useQuery({projectId:s},{enabled:!!s}),x=q.task.list.useQuery({projectId:s,isActive:f?void 0:!0,limit:500},{enabled:!!s}),y=q.useUtils(),b=q.task.close.useMutation({onSuccess:()=>{y.task.list.invalidate({projectId:s}),d(new Set)}}),j=R=>{o(O=>({field:R,direction:O.field===R&&O.direction==="asc"?"desc":"asc"}))},S=v.useMemo(()=>[...x.data??[]].sort((O,T)=>{const L=i.direction==="asc"?1:-1;switch(i.field){case"title":return L*O.title.localeCompare(T.title);case"priority":return L*(O.priority-T.priority);case"dateDue":return!O.dateDue&&!T.dateDue?0:O.dateDue?T.dateDue?L*(new Date(O.dateDue).getTime()-new Date(T.dateDue).getTime()):-1:1;case"progress":return L*(O.progress-T.progress);case"column":return L*(O.column?.title??"").localeCompare(T.column?.title??"");case"createdAt":return L*(new Date(O.createdAt).getTime()-new Date(T.createdAt).getTime());default:return 0}}),[x.data,i]),k=()=>{u.size===S.length?d(new Set):d(new Set(S.map(R=>R.id)))},w=R=>{d(O=>{const T=new Set(O);return T.has(R)?T.delete(R):T.add(R),T})},C=async()=>{for(const R of u)await b.mutateAsync({taskId:R})};if(!s||isNaN(s))return n.jsx(Qe,{children:n.jsx(Oh,{message:"Invalid project ID",onRetry:()=>r("/projects")})});if(m.isLoading||x.isLoading)return n.jsx(Qe,{children:n.jsx(YO,{})});if(m.error)return n.jsx(Qe,{children:n.jsx(Oh,{message:m.error.message,onRetry:()=>m.refetch()})});if(!m.data)return n.jsx(Qe,{children:n.jsx(Oh,{message:"Project not found",onRetry:()=>r("/projects")})});const A=m.data;return n.jsx(Qe,{children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx(WO,{projectName:A.name,projectId:A.id,onBack:()=>r("/projects"),selectedCount:u.size,onBulkClose:C,includeCompleted:f,onToggleCompleted:()=>h(!f)}),n.jsx("div",{className:"flex-1 overflow-auto",children:S.length===0?n.jsx(KO,{}):n.jsxs("table",{className:"min-w-full",children:[n.jsx(XO,{sortConfig:i,onSort:j,allSelected:u.size===S.length&&S.length>0,onSelectAll:k}),n.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:S.map(R=>n.jsx(ZO,{task:R,selected:u.has(R.id),onSelect:w,onTaskClick:O=>r(`/project/${A.id}/board?task=${O}`)},R.id))})]})})]})})}function e8(){return n.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function t8(){return n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}function n8(){return n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}function r8(){return n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function a8(){return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(e8,{}),n.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"Loading calendar..."})]})})}function _h({message:e,onRetry:r}){return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Failed to load calendar"}),n.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:e}),n.jsx("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Try Again"})]})})}function s8(e,r){const s=new Date(e,r,1),i=new Date(e,r+1,0),o=[],u=s.getDay(),d=u===0?6:u-1;for(let h=d;h>0;h--)o.push(new Date(e,r,1-h));for(let h=1;h<=i.getDate();h++)o.push(new Date(e,r,h));const f=42-o.length;for(let h=1;h<=f;h++)o.push(new Date(e,r+1,h));return o}function i8(e){const r=[],s=e.getDay(),i=s===0?6:s-1;for(let o=0;o<7;o++){const u=new Date(e);u.setDate(e.getDate()-i+o),r.push(u)}return r}function l0(e,r){return e.getFullYear()===r.getFullYear()&&e.getMonth()===r.getMonth()&&e.getDate()===r.getDate()}function l8(e){return e.toLocaleDateString("en-US",{month:"long",year:"numeric"})}function o8({projectName:e,projectId:r,onBack:s,currentDate:i,viewMode:o,onViewModeChange:u,onPrevious:d,onNext:f,onToday:h}){const m=Ct();return n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Back to projects",children:n.jsx(t8,{})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Calendar View"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:d,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:n.jsx(n8,{})}),n.jsx("span",{className:"text-lg font-medium text-gray-900 dark:text-white min-w-[180px] text-center",children:l8(i)}),n.jsx("button",{onClick:f,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:n.jsx(r8,{})})]}),n.jsx("button",{onClick:h,className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Today"}),n.jsx("div",{className:"flex rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:["month","week","day"].map(x=>n.jsx("button",{onClick:()=>u(x),className:`px-3 py-1.5 text-sm ${o===x?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))}),n.jsx("button",{onClick:()=>m(`/project/${r}/board`),className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Board View"})]})]})}function c8({task:e,onClick:r}){const s=["bg-gray-100 dark:bg-gray-700","bg-blue-100 dark:bg-blue-900/30","bg-yellow-100 dark:bg-yellow-900/30","bg-red-100 dark:bg-red-900/30"];return n.jsx("button",{onClick:r,className:`w-full text-left px-2 py-1 rounded text-xs truncate ${s[e.priority]} ${e.isActive?"":"opacity-50 line-through"} hover:ring-2 hover:ring-blue-400`,children:e.title})}function u8({days:e,currentDate:r,tasksByDate:s,onTaskClick:i,onDayClick:o}){const u=new Date,d=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200 dark:border-gray-700",children:d.map(f=>n.jsx("div",{className:"py-2 text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:f},f))}),n.jsx("div",{className:"flex-1 grid grid-cols-7 grid-rows-6",children:e.map((f,h)=>{const m=f.toISOString().split("T")[0]??"",x=s.get(m)??[],y=f.getMonth()===r.getMonth(),b=l0(f,u);return n.jsxs("div",{className:`border-b border-r border-gray-200 dark:border-gray-700 p-1 min-h-[100px] ${y?"":"bg-gray-50 dark:bg-gray-800/50"} cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/30`,onClick:()=>o(f),children:[n.jsx("div",{className:`text-sm font-medium mb-1 ${b?"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center":y?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500"}`,children:f.getDate()}),n.jsxs("div",{className:"space-y-0.5 overflow-hidden",children:[x.slice(0,3).map(j=>n.jsx(c8,{task:j,onClick:()=>i(j.id)},j.id)),x.length>3&&n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 px-2",children:["+",x.length-3," more"]})]})]},h)})})]})}function d8({days:e,tasksByDate:r,onTaskClick:s}){const i=new Date;return n.jsx("div",{className:"flex flex-col h-full",children:n.jsx("div",{className:"grid grid-cols-7 flex-1",children:e.map((o,u)=>{const d=o.toISOString().split("T")[0]??"",f=r.get(d)??[],h=l0(o,i);return n.jsxs("div",{className:"border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[n.jsxs("div",{className:`p-2 text-center border-b border-gray-200 dark:border-gray-700 ${h?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.toLocaleDateString("en-US",{weekday:"short"})}),n.jsx("div",{className:`text-lg font-medium ${h?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:o.getDate()})]}),n.jsx("div",{className:"flex-1 p-2 space-y-1 overflow-auto",children:f.map(m=>n.jsxs("div",{onClick:()=>s(m.id),className:`p-2 rounded border-l-4 bg-white dark:bg-gray-800 shadow-sm cursor-pointer hover:shadow-md transition-shadow ${m.priority===3?"border-red-500":m.priority===2?"border-yellow-500":m.priority===1?"border-blue-500":"border-gray-300"} ${m.isActive?"":"opacity-50"}`,children:[n.jsx("div",{className:`text-sm font-medium text-gray-900 dark:text-white ${m.isActive?"":"line-through"}`,children:m.title}),m.column&&n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:m.column.title})]},m.id))})]},u)})})})}function f8({date:e,tasks:r,onTaskClick:s}){const o=l0(e,new Date);return n.jsxs("div",{className:"flex flex-col h-full p-4",children:[n.jsxs("div",{className:`text-center mb-4 p-4 rounded-lg ${o?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-gray-800"}`,children:[n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.toLocaleDateString("en-US",{weekday:"long"})}),n.jsx("div",{className:`text-3xl font-bold ${o?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:e.getDate()}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.toLocaleDateString("en-US",{month:"long",year:"numeric"})})]}),n.jsx("div",{className:"flex-1 space-y-2 overflow-auto",children:r.length===0?n.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No tasks due on this day"}):r.map(u=>n.jsx("div",{onClick:()=>s(u.id),className:`p-4 rounded-lg border bg-white dark:bg-gray-800 cursor-pointer hover:shadow-md transition-shadow ${u.isActive?"":"opacity-50"}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(i0,{priority:u.priority}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:`font-medium text-gray-900 dark:text-white ${u.isActive?"":"line-through"}`,children:u.title}),u.column&&n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u.column.title})]})]})},u.id))})]})}function h8(){const{projectId:e}=Jn(),r=Ct(),s=e?parseInt(e,10):null,[i,o]=v.useState(new Date),[u,d]=v.useState("month"),f=q.project.get.useQuery({projectId:s},{enabled:!!s}),h=q.task.list.useQuery({projectId:s,limit:500},{enabled:!!s}),m=v.useMemo(()=>{const R=new Map;return(h.data??[]).forEach(T=>{if(T.dateDue){const L=new Date(T.dateDue).toISOString().split("T")[0]??"",E=R.get(L)??[];E.push({id:T.id,title:T.title,priority:T.priority,dateDue:T.dateDue,isActive:T.isActive,column:T.column}),R.set(L,E)}}),R.forEach(T=>T.sort((L,E)=>E.priority-L.priority)),R},[h.data]),x=()=>{o(R=>{const O=new Date(R);return u==="month"?O.setMonth(R.getMonth()-1):u==="week"?O.setDate(R.getDate()-7):O.setDate(R.getDate()-1),O})},y=()=>{o(R=>{const O=new Date(R);return u==="month"?O.setMonth(R.getMonth()+1):u==="week"?O.setDate(R.getDate()+7):O.setDate(R.getDate()+1),O})},b=()=>o(new Date),j=R=>{o(R),d("day")},S=R=>{r(`/project/${s}/board?task=${R}`)},k=v.useMemo(()=>u==="month"?s8(i.getFullYear(),i.getMonth()):u==="week"?i8(i):[i],[i,u]);if(!s||isNaN(s))return n.jsx(Qe,{children:n.jsx(_h,{message:"Invalid project ID",onRetry:()=>r("/projects")})});if(f.isLoading||h.isLoading)return n.jsx(Qe,{children:n.jsx(a8,{})});if(f.error)return n.jsx(Qe,{children:n.jsx(_h,{message:f.error.message,onRetry:()=>f.refetch()})});if(!f.data)return n.jsx(Qe,{children:n.jsx(_h,{message:"Project not found",onRetry:()=>r("/projects")})});const w=f.data,C=i.toISOString().split("T")[0]??"",A=m.get(C)??[];return n.jsx(Qe,{children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx(o8,{projectName:w.name,projectId:w.id,onBack:()=>r("/projects"),currentDate:i,viewMode:u,onViewModeChange:d,onPrevious:x,onNext:y,onToday:b}),n.jsxs("div",{className:"flex-1 overflow-hidden",children:[u==="month"&&n.jsx(u8,{days:k,currentDate:i,tasksByDate:m,onTaskClick:S,onDayClick:j}),u==="week"&&n.jsx(d8,{days:k,tasksByDate:m,onTaskClick:S}),u==="day"&&n.jsx(f8,{date:i,tasks:A,onTaskClick:S})]})]})})}function m8(){return n.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function g8(){return n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}function p8(){return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(m8,{}),n.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"Loading timeline..."})]})})}function Lh({message:e,onRetry:r}){return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Failed to load timeline"}),n.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:e}),n.jsx("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Try Again"})]})})}function x8(){return n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No tasks with dates"}),n.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Add start or due dates to your tasks to see them on the timeline."})]})})}function y8(e,r){const s=new Date;s.setHours(0,0,0,0);let i=new Date(s);i.setDate(i.getDate()-7);let o=new Date(s);return o.setDate(o.getDate()+r*7),e.forEach(u=>{if(u.dateStarted){const d=new Date(u.dateStarted);d<i&&(i=new Date(d))}if(u.dateDue){const d=new Date(u.dateDue);d>o&&(o=new Date(d))}}),i.setDate(i.getDate()-3),o.setDate(o.getDate()+7),{start:i,end:o}}function v8(e,r){const s=[],i=new Date(e);for(;i<=r;)s.push(new Date(i)),i.setDate(i.getDate()+1);return s}function tb(e,r){return e.getFullYear()===r.getFullYear()&&e.getMonth()===r.getMonth()&&e.getDate()===r.getDate()}function Mc(e,r){return Math.floor((e.getTime()-r.getTime())/864e5)}function b8({projectName:e,projectId:r,onBack:s,zoomLevel:i,onZoomChange:o,onScrollToToday:u}){const d=Ct();return n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Back to projects",children:n.jsx(g8,{})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Timeline View"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:u,className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Today"}),n.jsx("div",{className:"flex rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:["day","week","month"].map(f=>n.jsx("button",{onClick:()=>o(f),className:`px-3 py-1.5 text-sm ${i===f?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))}),n.jsx("button",{onClick:()=>d(`/project/${r}/board`),className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Board View"})]})]})}function j8({days:e,tasks:r,startDate:s,cellWidth:i,onTaskClick:o,todayRef:u}){const d=new Date;d.setHours(0,0,0,0);const f=v.useMemo(()=>{const m=[];let x="",y=0;return e.forEach(b=>{const j=b.toLocaleDateString("en-US",{month:"short",year:"numeric"});j!==x?(x&&m.push({month:x,days:y}),x=j,y=1):y++}),x&&m.push({month:x,days:y}),m},[e]),h=["bg-gray-400","bg-blue-500","bg-yellow-500","bg-red-500"];return n.jsxs("div",{className:"flex h-full",children:[n.jsxs("div",{className:"w-64 flex-shrink-0 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsx("div",{className:"h-16 border-b border-gray-200 dark:border-gray-700"}),r.map(m=>n.jsxs("div",{className:"h-12 px-3 flex items-center gap-2 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50",onClick:()=>o(m.id),children:[n.jsx(i0,{priority:m.priority,size:"sm"}),n.jsx("span",{className:`text-sm truncate ${m.isActive?"text-gray-900 dark:text-white":"line-through text-gray-400"}`,children:m.title})]},m.id))]}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("div",{style:{width:e.length*i,minWidth:"100%"},children:[n.jsx("div",{className:"flex h-8 border-b border-gray-200 dark:border-gray-700",children:f.map((m,x)=>n.jsx("div",{style:{width:m.days*i},className:"text-xs font-medium text-gray-500 dark:text-gray-400 text-center py-1 border-r border-gray-200 dark:border-gray-700",children:m.month},x))}),n.jsx("div",{className:"flex h-8 border-b border-gray-200 dark:border-gray-700",children:e.map((m,x)=>{const y=m.getDay()===0||m.getDay()===6,b=tb(m,d);return n.jsx("div",{ref:b?u:void 0,style:{width:i},className:`text-xs text-center py-1 border-r border-gray-100 dark:border-gray-700 ${b?"bg-blue-100 dark:bg-blue-900/30 font-bold text-blue-600":y?"bg-gray-50 dark:bg-gray-800/50 text-gray-400":"text-gray-500 dark:text-gray-400"}`,children:m.getDate()},x)})}),r.map(m=>{let x=0,y=i;if(m.dateStarted&&m.dateDue){const b=new Date(m.dateStarted),j=new Date(m.dateDue);b.setHours(0,0,0,0),j.setHours(0,0,0,0),x=Mc(b,s)*i,y=Math.max(1,Mc(j,b)+1)*i}else if(m.dateDue){const b=new Date(m.dateDue);b.setHours(0,0,0,0),x=Mc(b,s)*i,y=i}else if(m.dateStarted){const b=new Date(m.dateStarted);b.setHours(0,0,0,0),x=Mc(b,s)*i,y=i}return n.jsxs("div",{className:"h-12 relative border-b border-gray-100 dark:border-gray-700",children:[n.jsx("div",{className:"absolute inset-0 flex",children:e.map((b,j)=>{const S=b.getDay()===0||b.getDay()===6,k=tb(b,d);return n.jsx("div",{style:{width:i},className:`border-r border-gray-100 dark:border-gray-700 ${k?"bg-blue-50 dark:bg-blue-900/10":S?"bg-gray-50 dark:bg-gray-800/30":""}`},j)})}),(m.dateStarted||m.dateDue)&&n.jsxs("div",{className:`absolute top-2 h-8 rounded cursor-pointer ${h[m.priority]} ${m.isActive?"":"opacity-50"} hover:ring-2 hover:ring-blue-400 transition-all`,style:{left:x,width:y,minWidth:20},onClick:()=>o(m.id),title:m.title,children:[m.progress>0&&n.jsx("div",{className:"absolute inset-y-0 left-0 bg-black/20 rounded-l",style:{width:`${m.progress}%`}}),y>60&&n.jsx("span",{className:"absolute inset-0 flex items-center px-2 text-xs text-white truncate font-medium",children:m.title})]})]},m.id)})]})})]})}function w8(){const{projectId:e}=Jn(),r=Ct(),s=e?parseInt(e,10):null,i=v.useRef(null),[o,u]=v.useState("day"),d=q.project.get.useQuery({projectId:s},{enabled:!!s}),f=q.task.list.useQuery({projectId:s,limit:500},{enabled:!!s}),h=o==="day"?40:o==="week"?20:10,m=v.useMemo(()=>(f.data??[]).filter(C=>C.dateStarted||C.dateDue).map(C=>({id:C.id,title:C.title,priority:C.priority,dateStarted:C.dateStarted,dateDue:C.dateDue,isActive:C.isActive,progress:C.progress,column:C.column})).sort((C,A)=>{const R=C.dateStarted??C.dateDue??"",O=A.dateStarted??A.dateDue??"";return R!==O?R.localeCompare(O):A.priority-C.priority}),[f.data]),{start:x,end:y}=v.useMemo(()=>y8(m,6),[m]),b=v.useMemo(()=>v8(x,y),[x,y]),j=()=>{i.current?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})};v.useEffect(()=>{const w=setTimeout(j,100);return()=>clearTimeout(w)},[]);const S=w=>{r(`/project/${s}/board?task=${w}`)};if(!s||isNaN(s))return n.jsx(Qe,{children:n.jsx(Lh,{message:"Invalid project ID",onRetry:()=>r("/projects")})});if(d.isLoading||f.isLoading)return n.jsx(Qe,{children:n.jsx(p8,{})});if(d.error)return n.jsx(Qe,{children:n.jsx(Lh,{message:d.error.message,onRetry:()=>d.refetch()})});if(!d.data)return n.jsx(Qe,{children:n.jsx(Lh,{message:"Project not found",onRetry:()=>r("/projects")})});const k=d.data;return n.jsx(Qe,{children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx(b8,{projectName:k.name,projectId:k.id,onBack:()=>r("/projects"),zoomLevel:o,onZoomChange:u,onScrollToToday:j}),n.jsx("div",{className:"flex-1 overflow-hidden",children:m.length===0?n.jsx(x8,{}):n.jsx(j8,{days:b,tasks:m,startDate:x,cellWidth:h,onTaskClick:S,todayRef:i})})]})})}function k8({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}function nb({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}function N8({className:e="h-4 w-4"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}function S8({className:e="h-4 w-4"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}function C8({className:e="h-4 w-4"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}function E8({className:e="h-4 w-4"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function M8(e){return e?(typeof e=="string"?new Date(e):e).toLocaleDateString("nl-NL",{day:"numeric",month:"short",year:"numeric"}):""}function R8(e){switch(e){case"overdue":return"text-red-600 bg-red-50";case"due_soon":return"text-orange-600 bg-orange-50";case"on_track":return"text-green-600 bg-green-50";default:return"text-gray-500 bg-gray-50"}}function T8(e){switch(e){case"overdue":return"Overdue";case"due_soon":return"Due soon";case"on_track":return"On track";default:return""}}function A8(e){return e>=100?"bg-green-500":e>=75?"bg-blue-500":e>=50?"bg-yellow-500":e>=25?"bg-orange-500":"bg-gray-400"}function D8({milestone:e,onEdit:r,onDelete:s,onClick:i}){const[o,u]=v.useState(!1),d=q.useUtils(),f=q.milestone.update.useMutation({onSuccess:()=>{d.milestone.list.invalidate()}}),h=m=>{m.stopPropagation(),f.mutate({milestoneId:e.id,isCompleted:!e.isCompleted})};return n.jsxs("div",{className:`bg-white rounded-lg border ${e.isCompleted?"border-green-200 bg-green-50/30":"border-gray-200"} p-4 hover:shadow-md transition-shadow cursor-pointer`,onClick:()=>i?.(e.id),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[e.isCompleted?n.jsx(nb,{className:"h-5 w-5 text-green-500 flex-shrink-0"}):n.jsx(k8,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),n.jsx("h3",{className:`font-medium ${e.isCompleted?"text-gray-500 line-through":"text-gray-900"}`,children:e.name})]}),n.jsxs("div",{className:`flex items-center gap-1 transition-opacity ${o?"opacity-100":"opacity-0"}`,children:[n.jsx("button",{onClick:h,className:`p-1 rounded hover:bg-gray-100 ${e.isCompleted?"text-gray-400":"text-green-500"}`,title:e.isCompleted?"Mark as incomplete":"Mark as complete",children:n.jsx(nb,{className:"h-4 w-4"})}),r&&n.jsx("button",{onClick:m=>{m.stopPropagation(),r(e.id)},className:"p-1 rounded hover:bg-gray-100 text-gray-400 hover:text-gray-600",title:"Edit milestone",children:n.jsx(C8,{})}),s&&n.jsx("button",{onClick:m=>{m.stopPropagation(),s(e.id)},className:"p-1 rounded hover:bg-gray-100 text-gray-400 hover:text-red-500",title:"Delete milestone",children:n.jsx(E8,{})})]})]}),e.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[e.progress,"%"]})]}),n.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full ${A8(e.progress)} transition-all duration-300`,style:{width:`${e.progress}%`}})})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(S8,{}),n.jsxs("span",{children:[e.completedTasks,"/",e.totalTasks," tasks"]})]}),e.dateDue&&n.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs ${R8(e.dueStatus)}`,children:[n.jsx(N8,{}),n.jsx("span",{children:M8(e.dateDue)}),e.dueStatus!=="no_date"&&!e.isCompleted&&n.jsxs("span",{className:"font-medium ml-1",children:["(",T8(e.dueStatus),")"]})]})]})]})}function O8(){return n.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function _8(){return n.jsx("svg",{className:"h-6 w-6 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}function rb({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}function L8({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}function ab({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}function z8({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function P8({isOpen:e,onClose:r,projectId:s,milestone:i}){const[o,u]=v.useState(""),[d,f]=v.useState(""),[h,m]=v.useState(""),[x,y]=v.useState("");v.useEffect(()=>{if(e){if(u(i?.name??""),f(i?.description??""),i?.dateDue){const w=typeof i.dateDue=="string"?new Date(i.dateDue):i.dateDue;m(w.toISOString().split("T")[0]??"")}else m("");y("")}},[i,e]);const b=q.useUtils(),j=q.milestone.create.useMutation({onSuccess:()=>{b.milestone.list.invalidate(),r()},onError:w=>y(w.message)}),S=q.milestone.update.useMutation({onSuccess:()=>{b.milestone.list.invalidate(),r()},onError:w=>y(w.message)}),k=w=>{if(w.preventDefault(),y(""),!o.trim()){y("Name is required");return}i?S.mutate({milestoneId:i.id,name:o.trim(),description:d.trim()||void 0,dateDue:h||null}):j.mutate({projectId:s,name:o.trim(),description:d.trim()||void 0,dateDue:h||void 0})};return e?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[n.jsx("h2",{className:"text-lg font-semibold",children:i?"Edit Milestone":"Create Milestone"}),n.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(z8,{})})]}),n.jsxs("form",{onSubmit:k,className:"p-4 space-y-4",children:[x&&n.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded text-sm",children:x}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",value:o,onChange:w=>u(w.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Beta Launch",autoFocus:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:d,onChange:w=>f(w.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"What does this milestone represent?"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),n.jsx("input",{type:"date",value:h,onChange:w=>m(w.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:j.isPending||S.isPending,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:j.isPending||S.isPending?"Saving...":"Save"})]})]})]})}):null}function I8({isOpen:e,onClose:r,onConfirm:s,milestoneName:i,isDeleting:o}){return e?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Milestone"}),n.jsxs("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to delete ",n.jsx("strong",{children:i}),"? Tasks linked to this milestone will be unlinked but not deleted."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),n.jsx("button",{onClick:s,disabled:o,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50",children:o?"Deleting...":"Delete"})]})]})}):null}function U8(){const{projectId:e}=Jn(),r=Ct(),s=parseInt(e??"0",10),[i,o]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(null),[m,x]=v.useState(null),y=q.useUtils(),{data:b,isLoading:j,error:S}=q.project.get.useQuery({projectId:s},{enabled:s>0}),{data:k,isLoading:w}=q.milestone.list.useQuery({projectId:s,includeCompleted:i},{enabled:s>0}),C=q.milestone.delete.useMutation({onSuccess:()=>{y.milestone.list.invalidate(),x(null)}}),A=D=>{const P=k?.find(K=>K.id===D);P&&(h({id:P.id,name:P.name,description:P.description,dateDue:P.dateDue}),d(!0))},R=D=>{const P=k?.find(K=>K.id===D);P&&x({id:P.id,name:P.name})},O=D=>{A(D)};if(j||w)return n.jsx(Qe,{children:n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(O8,{})})});if(S)return n.jsx(Qe,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center h-96 gap-4",children:[n.jsx(_8,{}),n.jsx("p",{className:"text-gray-600",children:"Failed to load project"}),n.jsx("button",{onClick:()=>r("/projects"),className:"text-blue-500 hover:underline",children:"Back to projects"})]})});const T=k?.filter(D=>!D.isCompleted)??[],L=k?.filter(D=>D.isCompleted)??[],E=T.filter(D=>D.dueStatus==="overdue");return n.jsxs(Qe,{children:[n.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>r(`/project/${s}`),className:"p-2 hover:bg-gray-100 rounded-lg",title:"Back to board",children:n.jsx(L8,{})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(ab,{className:"h-6 w-6 text-blue-500"}),"Milestones"]}),n.jsx("p",{className:"text-gray-500",children:b?.name})]})]}),n.jsxs("button",{onClick:()=>{h(null),d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:[n.jsx(rb,{className:"h-4 w-4"}),"New Milestone"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:T.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active"})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:L.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:E.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Overdue"})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[T.length>0?Math.round(T.reduce((D,P)=>D+P.progress,0)/T.length):0,"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Avg Progress"})]})]}),n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i,onChange:D=>o(D.target.checked),className:"rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),"Show completed milestones"]})}),k&&k.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(D=>n.jsx(D8,{milestone:D,onEdit:A,onDelete:R,onClick:O},D.id))}):n.jsxs("div",{className:"bg-white rounded-lg border border-dashed border-gray-300 p-12 text-center",children:[n.jsx(ab,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No milestones yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Create milestones to track progress toward important goals."}),n.jsxs("button",{onClick:()=>{h(null),d(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:[n.jsx(rb,{className:"h-4 w-4"}),"Create Milestone"]})]})]}),n.jsx(P8,{isOpen:u,onClose:()=>{d(!1),h(null)},projectId:s,milestone:f}),n.jsx(I8,{isOpen:!!m,onClose:()=>x(null),onConfirm:()=>{m&&C.mutate({milestoneId:m.id})},milestoneName:m?.name??"",isDeleting:C.isPending})]})}const B8={0:{label:"Low",color:"bg-gray-400"},1:{label:"Medium",color:"bg-blue-500"},2:{label:"High",color:"bg-orange-500"},3:{label:"Urgent",color:"bg-red-500"}};function sb(e){return e<1?`${Math.round(e*60)}m`:e<24?`${Math.round(e*10)/10}h`:`${Math.round(e/24)}d`}function H8({stats:e,isLoading:r}){return r?n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsx(st,{className:"w-6 h-6 animate-spin text-blue-500"})})}):e?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1",children:[n.jsx(FM,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium uppercase",children:"Total Tasks"})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.totalTasks})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1",children:[n.jsx(SM,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium uppercase",children:"Open"})]}),n.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:e.openTasks})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1",children:[n.jsx(gj,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium uppercase",children:"Closed"})]}),n.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:e.closedTasks})]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1",children:n.jsx("span",{className:"text-xs font-medium uppercase",children:"Completion Rate"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[e.completionRate,"%"]}),e.trend!==0&&n.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium ${e.trend>0?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:[e.trend>0?n.jsx(bj,{className:"w-3 h-3"}):n.jsx(u6,{className:"w-3 h-3"}),Math.abs(e.trend)]})]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.recentCompletions," completed this week"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"By Priority"}),n.jsx("div",{className:"space-y-2",children:[3,2,1,0].map(s=>{const o=e.tasksByPriority.find(f=>f.priority===s)?.count??0,u=B8[s],d=e.totalTasks>0?o/e.totalTasks*100:0;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${u.color}`}),n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 w-14",children:u.label}),n.jsx("div",{className:"flex-1 h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full ${u.color}`,style:{width:`${d}%`}})}),n.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 w-8 text-right",children:o})]},s)})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"By Column (Open)"}),n.jsx("div",{className:"space-y-2",children:e.tasksByColumn.slice(0,5).map(s=>{const i=e.openTasks>0?s.count/e.openTasks*100:0;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 w-20 truncate",children:s.columnName}),n.jsx("div",{className:"flex-1 h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500",style:{width:`${i}%`}})}),n.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 w-8 text-right",children:s.count})]},s.columnId)})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Time Tracking"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ni,{className:"w-3 h-3"}),"Estimated"]}),n.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:sb(e.timeEstimated)})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ni,{className:"w-3 h-3"}),"Spent"]}),n.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:sb(e.timeSpent)})]})]}),e.timeEstimated>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Progress"}),n.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[Math.round(e.timeSpent/e.timeEstimated*100),"%"]})]}),n.jsx("div",{className:"h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full ${e.timeSpent>e.timeEstimated?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(100,e.timeSpent/e.timeEstimated*100)}%`}})})]})]})]})]})]}):n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center",children:"No data available"})})}function $8(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}function Q8({data:e,isLoading:r}){const s=v.useMemo(()=>{if(!e?.dataPoints||e.dataPoints.length===0)return null;const i=Math.max(...e.dataPoints.map(o=>o.tasksCompleted),1);return{points:e.dataPoints,maxValue:i,avgVelocity:e.avgVelocity,totalCompleted:e.totalCompleted}},[e]);return r?n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx(st,{className:"w-6 h-6 animate-spin text-blue-500"})}):s?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-6 mb-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Avg Velocity:"}),n.jsxs("span",{className:"ml-1.5 font-medium text-gray-900 dark:text-white",children:[s.avgVelocity," tasks/week"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total:"}),n.jsxs("span",{className:"ml-1.5 font-medium text-gray-900 dark:text-white",children:[s.totalCompleted," completed"]})]})]}),n.jsxs("div",{className:"relative h-48",children:[n.jsx("div",{className:"absolute inset-0 flex flex-col justify-between pb-6",children:[0,1,2,3,4].map(i=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-xs text-gray-400 w-6 text-right mr-2",children:Math.round(s.maxValue/4*(4-i))}),n.jsx("div",{className:"flex-1 border-t border-gray-100 dark:border-gray-700"})]},i))}),n.jsx("div",{className:"absolute inset-0 flex items-end gap-1 pl-8 pb-6",children:s.points.map((i,o)=>{const u=i.tasksCompleted/s.maxValue*100,d=i.tasksCompleted>=s.avgVelocity;return n.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[n.jsxs("div",{className:"w-full relative",style:{height:"100%"},children:[n.jsx("div",{className:`absolute bottom-0 left-1 right-1 rounded-t transition-all ${d?"bg-green-500 group-hover:bg-green-400":"bg-blue-500 group-hover:bg-blue-400"}`,style:{height:`${u}%`,minHeight:i.tasksCompleted>0?"4px":"0"}}),n.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:n.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded px-2 py-1 whitespace-nowrap",children:[i.tasksCompleted," tasks",i.pointsCompleted>0&&` (${i.pointsCompleted} pts)`]})})]}),o%2===0&&n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate max-w-full",children:$8(i.weekStart)})]},i.weekStart)})}),s.avgVelocity>0&&n.jsx("div",{className:"absolute left-8 right-0 border-t-2 border-dashed border-orange-400",style:{bottom:`calc(${s.avgVelocity/s.maxValue*100}% + 24px)`},children:n.jsx("span",{className:"absolute right-0 -top-4 text-xs text-orange-500 font-medium",children:"avg"})})]}),n.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),n.jsx("span",{children:"Above average"})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-3 h-3 rounded bg-blue-500"}),n.jsx("span",{children:"Below average"})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("div",{className:"w-6 h-0 border-t-2 border-dashed border-orange-400"}),n.jsx("span",{children:"Average"})]})]})]}):n.jsxs("div",{className:"flex items-center justify-center h-48 text-gray-500 dark:text-gray-400",children:[n.jsx(qm,{className:"w-5 h-5 mr-2"}),"No velocity data available"]})}function zh(e){return e<1?`${Math.round(e*60)}m`:e<24?`${Math.round(e*10)/10}h`:`${Math.round(e/24*10)/10}d`}function q8({data:e,isLoading:r}){const s=v.useMemo(()=>{if(!e?.cycleTimeByColumn||e.cycleTimeByColumn.length===0)return null;const i=Math.max(...e.cycleTimeByColumn.map(o=>o.avgHours),1);return{columns:e.cycleTimeByColumn,maxHours:i,bottleneck:e.bottleneck,avgTotalCycleHours:e.avgTotalCycleHours,avgTotalCycleDays:e.avgTotalCycleDays,completedTasksAnalyzed:e.completedTasksAnalyzed}},[e]);return r?n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx(st,{className:"w-6 h-6 animate-spin text-blue-500"})}):!s||s.columns.every(i=>i.taskCount===0)?n.jsxs("div",{className:"flex items-center justify-center h-48 text-gray-500 dark:text-gray-400",children:[n.jsx(qm,{className:"w-5 h-5 mr-2"}),"Not enough data to calculate cycle time"]}):n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-6 mb-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Avg Total Cycle:"}),n.jsx("span",{className:"ml-1.5 font-medium text-gray-900 dark:text-white",children:zh(s.avgTotalCycleHours)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tasks Analyzed:"}),n.jsx("span",{className:"ml-1.5 font-medium text-gray-900 dark:text-white",children:s.completedTasksAnalyzed})]})]}),s.bottleneck&&s.bottleneck.avgHours>24&&n.jsxs("div",{className:"flex items-center gap-2 mb-4 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:[n.jsx(nv,{className:"w-4 h-4 text-orange-500"}),n.jsxs("span",{className:"text-sm text-orange-700 dark:text-orange-400",children:[n.jsx("strong",{children:"Bottleneck:"})," ",s.bottleneck.columnName," has the longest average time (",zh(s.bottleneck.avgHours),")"]})]}),n.jsx("div",{className:"space-y-3",children:s.columns.map(i=>{const o=i.avgHours/s.maxHours*100,u=s.bottleneck?.columnId===i.columnId;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[i.columnName,u&&n.jsx(nv,{className:"w-3 h-3 text-orange-500"})]}),n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:zh(i.avgHours)})]}),n.jsxs("div",{className:"h-6 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden relative",children:[n.jsx("div",{className:`h-full rounded-full transition-all ${u?"bg-orange-500":"bg-blue-500"}`,style:{width:`${Math.max(o,i.taskCount>0?2:0)}%`}}),i.taskCount>0&&n.jsxs("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500 dark:text-gray-400",children:[i.taskCount," tasks"]})]})]},i.columnId)})}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Task Flow"}),n.jsx("div",{className:"flex items-center gap-1",children:s.columns.map((i,o)=>n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsx("div",{className:`flex-1 h-2 rounded ${s.bottleneck?.columnId===i.columnId?"bg-orange-500":"bg-blue-500"}`,style:{opacity:.3+i.avgHours/s.maxHours*.7}}),o<s.columns.length-1&&n.jsx("div",{className:"w-2 h-0 border-t-2 border-gray-300 dark:border-gray-600"})]},i.columnId))}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[n.jsx("span",{children:"Start"}),n.jsx("span",{children:"Done"})]})]})]})}const F8={0:"bg-gray-400",1:"bg-blue-500",2:"bg-orange-500",3:"bg-red-500"};function ib(e){return e<1?`${Math.round(e*60)}m`:e<24?`${Math.round(e*10)/10}h`:`${Math.round(e/24)}d`}function V8({data:e,isLoading:r}){if(r)return n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx(st,{className:"w-6 h-6 animate-spin text-blue-500"})});if(!e||e.teamMembers.length===0)return n.jsxs("div",{className:"flex items-center justify-center h-48 text-gray-500 dark:text-gray-400",children:[n.jsx(qm,{className:"w-5 h-5 mr-2"}),"No team members with assigned tasks"]});const s=Math.max(...e.teamMembers.map(i=>i.totalTasks),1);return n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-6 mb-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Team Size:"}),n.jsxs("span",{className:"ml-1.5 font-medium text-gray-900 dark:text-white",children:[e.totalTeamMembers," members"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Avg Tasks:"}),n.jsxs("span",{className:"ml-1.5 font-medium text-gray-900 dark:text-white",children:[e.avgTasksPerPerson," per person"]})]}),e.unassignedTasks>0&&n.jsxs("div",{className:"px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900/30 rounded text-xs font-medium text-yellow-700 dark:text-yellow-400",children:[e.unassignedTasks," unassigned"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.teamMembers.map(i=>{const o=i.totalTasks/s*100,u=i.totalTasks>e.avgTasksPerPerson*1.5,d=i.overdueCount>0;return n.jsxs("div",{className:`p-4 rounded-lg border ${u?"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/10":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.avatarUrl?n.jsx("img",{src:i.avatarUrl,alt:i.name,className:"w-10 h-10 rounded-full"}):n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:n.jsx(p6,{className:"w-5 h-5 text-gray-500"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:i.name}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:["@",i.username]})]}),u&&n.jsx(Cl,{className:"w-4 h-4 text-red-500 flex-shrink-0"})]}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.totalTasks}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"tasks"})]}),n.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mb-3",children:n.jsx("div",{className:`h-full rounded-full ${u?"bg-red-500":"bg-blue-500"}`,style:{width:`${o}%`}})}),n.jsx("div",{className:"flex items-center gap-1 mb-2",children:[3,2,1,0].map(f=>{const h=i.byPriority.find(m=>m.priority===f)?.count??0;return h===0?null:n.jsx("div",{className:`px-1.5 py-0.5 rounded text-xs text-white font-medium ${F8[f]}`,children:h},f)})}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{children:["Est: ",ib(i.timeEstimated)]}),n.jsxs("span",{children:["Spent: ",ib(i.timeSpent)]}),d&&n.jsxs("span",{className:"text-red-500 font-medium",children:[i.overdueCount," overdue"]})]})]},i.userId)}),e.unassignedTasks>0&&n.jsxs("div",{className:"p-4 rounded-lg border border-dashed border-yellow-400 dark:border-yellow-600 bg-yellow-50 dark:bg-yellow-900/10",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-100 dark:bg-yellow-800 flex items-center justify-center",children:n.jsx(Cl,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Unassigned"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No assignee"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:e.unassignedTasks}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"tasks"})]})]})]})]})}function G8(e){if(e==="all")return{};const r=new Date,s=r.toISOString();let i;switch(e){case"7d":i=new Date(r.getTime()-10080*60*1e3);break;case"30d":i=new Date(r.getTime()-720*60*60*1e3);break;case"90d":i=new Date(r.getTime()-2160*60*60*1e3);break;default:return{}}return{dateFrom:i.toISOString(),dateTo:s}}function Y8(){const{projectId:e}=Jn(),r=parseInt(e??"0",10),[s,i]=v.useState("all"),o=G8(s),{data:u,isLoading:d}=q.project.get.useQuery({projectId:r},{enabled:r>0}),{data:f,isLoading:h}=q.analytics.getProjectStats.useQuery({projectId:r,...o},{enabled:r>0}),{data:m,isLoading:x}=q.analytics.getVelocity.useQuery({projectId:r,weeks:8},{enabled:r>0}),{data:y,isLoading:b}=q.analytics.getCycleTime.useQuery({projectId:r},{enabled:r>0}),{data:j,isLoading:S}=q.analytics.getTeamWorkload.useQuery({projectId:r},{enabled:r>0}),k=d||h,w=()=>{if(!f||!m||!y||!j)return;const C={project:u?.name,exportDate:new Date().toISOString(),stats:f,velocity:m,cycleTime:y,workload:j},A=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),R=URL.createObjectURL(A),O=document.createElement("a");O.href=R,O.download=`${u?.name??"project"}-analytics-${new Date().toISOString().split("T")[0]}.json`,O.click(),URL.revokeObjectURL(R)};return k?n.jsx(Qe,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(st,{className:"w-8 h-8 animate-spin text-blue-500"})})}):u?n.jsx(Qe,{children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(dt,{to:`/project/${r}`,className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx($m,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pM,{className:"w-6 h-6 text-blue-500"}),n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Analytics"})]}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u.name})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-1",children:[n.jsx(Qm,{className:"w-4 h-4 text-gray-400 ml-2"}),["all","7d","30d","90d"].map(C=>n.jsx("button",{onClick:()=>i(C),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${s===C?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:C==="all"?"All Time":C},C))]}),n.jsxs("button",{onClick:w,disabled:!f,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:[n.jsx(AM,{className:"w-4 h-4"}),"Export"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(H8,{stats:f,isLoading:h})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(bj,{className:"w-5 h-5 text-green-500"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Velocity"})]}),n.jsx(Q8,{data:m,isLoading:x})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ni,{className:"w-5 h-5 text-orange-500"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cycle Time"})]}),n.jsx(q8,{data:y,isLoading:b})]}),n.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(jj,{className:"w-5 h-5 text-purple-500"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Team Workload"})]}),n.jsx(V8,{data:j,isLoading:S})]})]})]})}):n.jsx(Qe,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 gap-4",children:[n.jsx(Cl,{className:"w-12 h-12 text-red-500"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Project not found"}),n.jsx(dt,{to:"/projects",className:"text-blue-500 hover:text-blue-600 dark:text-blue-400",children:"Return to projects"})]})})}function K8({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function lb({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function W8({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}const X8=[{value:"title",label:"Title",required:!0},{value:"description",label:"Description"},{value:"priority",label:"Priority"},{value:"column",label:"Column/Status"},{value:"swimlane",label:"Swimlane"},{value:"dateDue",label:"Due Date"},{value:"dateStarted",label:"Start Date"},{value:"tags",label:"Tags/Labels"},{value:"assignees",label:"Assignees"},{value:"category",label:"Category"},{value:"timeEstimated",label:"Time Estimate"},{value:"score",label:"Story Points/Score"},{value:"reference",label:"Reference/ID"},{value:"_skip",label:"(Skip this field)"}];function Z8({preview:e,onConfirm:r,onCancel:s,isImporting:i=!1}){const[o,u]=v.useState([...e.fieldMappings,...e.suggestedMappings]),[d,f]=v.useState(!1),h=d?e.rows:e.rows.slice(0,10),m=(b,j)=>{u(S=>S.find(w=>w.sourceField===b)?S.map(w=>w.sourceField===b?{...w,targetField:j}:w):[...S,{sourceField:b,targetField:j}])},x=()=>{const b=o.filter(j=>j.targetField!=="_skip");r(b)},y=b=>o.find(j=>j.sourceField===b)?.targetField;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(de,{children:[n.jsx(ve,{children:n.jsxs(be,{className:"flex items-center gap-2",children:["Import Preview",e.detectedSource&&e.detectedSource!=="generic"&&n.jsxs("span",{className:"text-sm font-normal text-blue-600 dark:text-blue-400",children:["(Detected: ",e.sourceInfo?.name??e.detectedSource,")"]})]})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Total Rows"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.summary.totalRows})]}),n.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[n.jsx("p",{className:"text-green-600 dark:text-green-400",children:"Valid"}),n.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:e.summary.validRows})]}),n.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[n.jsx("p",{className:"text-yellow-600 dark:text-yellow-400",children:"Warnings"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-700 dark:text-yellow-300",children:e.summary.warningRows})]}),n.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[n.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Errors"}),n.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:e.summary.errorRows})]})]})})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{children:"Field Mappings"})}),n.jsx(pe,{children:n.jsx("div",{className:"space-y-3",children:e.headers.map(b=>{const j=y(b),S=e.unmappedFields.includes(b),k=e.suggestedMappings.some(w=>w.sourceField===b);return n.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg ${S&&!j?"bg-yellow-50 dark:bg-yellow-900/20":"bg-gray-50 dark:bg-gray-800"}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:b}),k&&!j&&n.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Suggested mapping available"})]}),n.jsx("span",{className:"text-gray-400",children:""}),n.jsxs("select",{value:j??"_skip",onChange:w=>m(b,w.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[n.jsx("option",{value:"_skip",children:"(Skip this field)"}),X8.filter(w=>w.value!=="_skip").map(w=>n.jsxs("option",{value:w.value,children:[w.label,w.required&&" *"]},w.value))]})]},b)})})})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsxs(be,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Data Preview"}),e.rows.length>10&&n.jsx(re,{variant:"outline",size:"sm",onClick:()=>f(!d),children:d?"Show Less":`Show All (${e.rows.length} rows)`})]})}),n.jsx(pe,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b dark:border-gray-700",children:[n.jsx("th",{className:"px-3 py-2 text-left text-gray-500 dark:text-gray-400",children:"#"}),n.jsx("th",{className:"px-3 py-2 text-left text-gray-500 dark:text-gray-400",children:"Status"}),n.jsx("th",{className:"px-3 py-2 text-left text-gray-500 dark:text-gray-400",children:"Title"}),n.jsx("th",{className:"px-3 py-2 text-left text-gray-500 dark:text-gray-400",children:"Column"}),n.jsx("th",{className:"px-3 py-2 text-left text-gray-500 dark:text-gray-400",children:"Priority"}),n.jsx("th",{className:"px-3 py-2 text-left text-gray-500 dark:text-gray-400",children:"Issues"})]})}),n.jsx("tbody",{children:h.map(b=>n.jsxs("tr",{className:`border-b dark:border-gray-700 ${b.errors.length>0?"bg-red-50 dark:bg-red-900/10":b.warnings.length>0?"bg-yellow-50 dark:bg-yellow-900/10":""}`,children:[n.jsx("td",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:b.rowNumber}),n.jsx("td",{className:"px-3 py-2",children:b.willImport?n.jsx(K8,{className:"h-4 w-4 text-green-500"}):n.jsx(lb,{className:"h-4 w-4 text-red-500"})}),n.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 dark:text-white",children:String(b.mapped.title??b.original.title??"-")}),n.jsx("td",{className:"px-3 py-2 text-gray-600 dark:text-gray-300",children:String(b.mapped.column??"-")}),n.jsx("td",{className:"px-3 py-2 text-gray-600 dark:text-gray-300",children:typeof b.mapped.priority=="number"?["Low","Medium","High","Urgent"][b.mapped.priority]??String(b.mapped.priority):"-"}),n.jsxs("td",{className:"px-3 py-2",children:[b.errors.length>0&&n.jsxs("div",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[n.jsx(lb,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs",children:b.errors[0]})]}),b.warnings.length>0&&b.errors.length===0&&n.jsxs("div",{className:"flex items-center gap-1 text-yellow-600 dark:text-yellow-400",children:[n.jsx(W8,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs",children:b.warnings[0]})]})]})]},b.rowNumber))})]})})})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t dark:border-gray-700",children:[n.jsx(re,{variant:"outline",onClick:s,disabled:i,children:"Cancel"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Ready to import ",e.summary.validRows," tasks"]}),n.jsx(re,{onClick:x,disabled:i||e.summary.validRows===0,children:i?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-white"}),"Importing..."]}):`Import ${e.summary.validRows} Tasks`})]})]})]})}function ob({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}function Ph({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}function cb({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}function J8({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function e_({className:e="h-5 w-5"}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}const ub=[{id:"trello",name:"Trello",description:"Import from Trello CSV export",icon:"",color:"blue"},{id:"asana",name:"Asana",description:"Import from Asana CSV export",icon:"",color:"pink"},{id:"jira",name:"Jira",description:"Import from Jira CSV export",icon:"",color:"blue"},{id:"todoist",name:"Todoist",description:"Import from Todoist CSV",icon:"",color:"red"},{id:"notion",name:"Notion",description:"Import from Notion database export",icon:"",color:"gray"},{id:"monday",name:"Monday.com",description:"Import from Monday.com export",icon:"",color:"red"},{id:"clickup",name:"ClickUp",description:"Import from ClickUp export",icon:"",color:"purple"},{id:"kanboard",name:"Kanboard",description:"Import from Kanboard/GENX-Planner",icon:"",color:"green"},{id:"generic",name:"Generic CSV",description:"Import from any CSV file",icon:"",color:"gray"}];function t_(){const{projectId:e}=Jn(),r=parseInt(e??"0",10),s=v.useRef(null),[i,o]=v.useState("import"),[u,d]=v.useState(null),[f,h]=v.useState(null),[m,x]=v.useState(null),[y,b]=v.useState(null),[j,S]=v.useState(null),[k,w]=v.useState(null),[C,A]=v.useState(!1),R=q.project.get.useQuery({projectId:r},{enabled:r>0}),O=q.export.formats.useQuery(void 0,{enabled:i==="export"}),T=q.import.preview.useMutation(),L=q.import.execute.useMutation(),E=q.export.tasks.useQuery({projectId:r,format:"csv"},{enabled:!1}),D=v.useCallback(Q=>{w(null),x(Q.name);const I=new FileReader;I.onload=ne=>{const ce=ne.target?.result;h(ce)},I.onerror=()=>{w("Failed to read file")},I.readAsText(Q)},[]),P=v.useCallback(Q=>{const I=Q.target.files?.[0];I&&D(I)},[D]),K=v.useCallback(Q=>{Q.preventDefault(),Q.stopPropagation(),A(!0)},[]),Y=v.useCallback(Q=>{Q.preventDefault(),Q.stopPropagation(),A(!1)},[]),ae=v.useCallback(Q=>{Q.preventDefault(),Q.stopPropagation(),A(!1);const I=Q.dataTransfer.files[0];I&&D(I)},[D]),ie=v.useCallback(async()=>{if(!(!f||!u)){w(null);try{const Q=m?.endsWith(".json")?"json":"csv",I=await T.mutateAsync({projectId:r,content:f,fileType:Q,source:u});b(I)}catch(Q){w(Q instanceof Error?Q.message:"Failed to generate preview")}}},[f,u,r,m,T]),le=v.useCallback(async Q=>{if(!(!f||!u)){w(null);try{const I=m?.endsWith(".json")?"json":"csv",ne=await L.mutateAsync({projectId:r,content:f,fileType:I,source:u,fieldMappings:Q.map(ce=>({sourceField:ce.sourceField,targetField:ce.targetField,required:ce.required}))});S(ne),b(null)}catch(I){w(I instanceof Error?I.message:"Import failed")}}},[f,u,r,m,L]),ue=v.useCallback(async Q=>{try{const I=await fetch(`/api/export/${r}?format=${Q}`);if(!I.ok)throw new Error("Export failed");const ne=await I.blob(),ce=URL.createObjectURL(ne),_=document.createElement("a");_.href=ce,_.download=`${R.data?.name??"export"}.${Q==="trello"?"csv":Q}`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(ce)}catch{const I=await E.refetch();if(I.data){const ne=new Blob([I.data.content],{type:I.data.mimeType}),ce=URL.createObjectURL(ne),_=document.createElement("a");_.href=ce,_.download=I.data.filename,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(ce)}}},[r,R.data?.name,E]),H=v.useCallback(()=>{d(null),h(null),x(null),b(null),S(null),w(null),s.current&&(s.current.value="")},[]);return R.isLoading?n.jsx(Qe,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-gray-300 border-t-blue-600"})})}):n.jsx(Qe,{children:n.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs(dt,{to:`/projects/${r}/settings`,className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 mb-4",children:[n.jsx(e_,{className:"h-4 w-4 mr-1"}),"Back to Settings"]}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Import & Export"}),n.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:"Import tasks from other tools or export your project data. No lock-in - your data is always yours."})]}),n.jsxs(nw,{value:i,onValueChange:Q=>o(Q),children:[n.jsxs(s0,{className:"mb-6",children:[n.jsxs(Js,{value:"import",className:"flex items-center gap-2",children:[n.jsx(ob,{className:"h-4 w-4"}),"Import"]}),n.jsxs(Js,{value:"export",className:"flex items-center gap-2",children:[n.jsx(Ph,{className:"h-4 w-4"}),"Export"]})]}),n.jsx(ei,{value:"import",children:j?n.jsx(de,{children:n.jsxs(pe,{className:"py-12 text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:n.jsx(J8,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Import Complete"}),n.jsxs("div",{className:"text-gray-600 dark:text-gray-300 space-y-1 mb-6",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium text-green-600",children:j.imported})," tasks imported"]}),j.skipped>0&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium text-yellow-600",children:j.skipped})," tasks skipped (duplicates)"]}),j.failed>0&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium text-red-600",children:j.failed})," tasks failed"]})]}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx(re,{variant:"outline",onClick:H,children:"Import More"}),n.jsx(dt,{to:`/projects/${r}/board`,children:n.jsx(re,{children:"View Board"})})]})]})}):y?n.jsx(Z8,{preview:y,onConfirm:le,onCancel:H,isImporting:L.isPending}):u&&f?n.jsx(de,{children:n.jsxs(pe,{className:"py-8",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx(cb,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:m}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Math.round(f.length/1024)," KB"]})]}),k&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:k}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx(re,{variant:"outline",onClick:H,children:"Cancel"}),n.jsx(re,{onClick:ie,disabled:T.isPending,children:T.isPending?"Analyzing...":"Preview Import"})]})]})}):u?n.jsxs(de,{children:[n.jsx(ve,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(be,{children:["Import from ",ub.find(Q=>Q.id===u)?.name]}),n.jsx(Ie,{children:"Upload your CSV or JSON export file"})]}),n.jsx(re,{variant:"outline",size:"sm",onClick:H,children:"Change Source"})]})}),n.jsxs(pe,{children:[n.jsxs("div",{onClick:()=>s.current?.click(),onDragOver:K,onDragLeave:Y,onDrop:ae,className:`
                      relative border-2 border-dashed rounded-lg p-12 text-center cursor-pointer
                      transition-colors duration-200
                      ${C?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}
                    `,children:[n.jsx("input",{ref:s,type:"file",accept:".csv,.json",onChange:P,className:"hidden"}),n.jsx(ob,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsxs("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:"Click to upload"})," or drag and drop"]}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"CSV or JSON files"})]}),k&&n.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:k})]})]}):n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Select Import Source"}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:ub.map(Q=>n.jsx(de,{className:"cursor-pointer hover:ring-2 hover:ring-blue-500 transition-all",onClick:()=>d(Q.id),children:n.jsxs(pe,{className:"py-6 text-center",children:[n.jsx("span",{className:"text-3xl",children:Q.icon}),n.jsx("h3",{className:"mt-2 font-medium text-gray-900 dark:text-white",children:Q.name}),n.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:Q.description})]})},Q.id))})]})}),n.jsx(ei,{value:"export",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Export Project Data"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Download your project data in various formats. Your data is always yours."}),n.jsx("div",{className:"grid grid-cols-3 gap-4 mt-6",children:O.data?.map(Q=>n.jsx(de,{className:"overflow-hidden",children:n.jsxs(pe,{className:"py-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:n.jsx(cb,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:Q.name}),n.jsx("p",{className:"text-xs text-gray-500",children:Q.extension})]})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:Q.description}),n.jsxs(re,{variant:"outline",className:"w-full",onClick:()=>ue(Q.id),children:[n.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Download ",Q.name]})]})},Q.id))}),n.jsxs(de,{className:"mt-8",children:[n.jsxs(ve,{children:[n.jsx(be,{children:"Full Project Export"}),n.jsx(Ie,{children:"Export complete project including columns, swimlanes, tags, and all tasks"})]}),n.jsx(pe,{children:n.jsxs(re,{onClick:()=>ue("json"),children:[n.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Export Full Project (JSON)"]})})]})]})})]})]})})}const n_=[{value:null,label:"Never expires"},{value:30,label:"30 days"},{value:90,label:"90 days"},{value:365,label:"1 year"}],r_=[{name:"Tasks",permissions:[{id:"tasks:read",label:"Read tasks",description:"View tasks and their details"},{id:"tasks:write",label:"Write tasks",description:"Create, update, delete tasks"}]},{name:"Projects",permissions:[{id:"projects:read",label:"Read projects",description:"View projects and settings"},{id:"projects:write",label:"Write projects",description:"Update project settings"}]},{name:"Comments",permissions:[{id:"comments:read",label:"Read comments",description:"View task comments"},{id:"comments:write",label:"Write comments",description:"Create, update, delete comments"}]},{name:"Webhooks",permissions:[{id:"webhooks:read",label:"Read webhooks",description:"View webhook configurations"},{id:"webhooks:write",label:"Write webhooks",description:"Manage webhook settings"}]}];function a_(){const e=Ct(),[r,s]=v.useState(!1),[i,o]=v.useState({name:"",permissions:["tasks:read","projects:read"],expiresIn:null,rateLimit:100}),[u,d]=v.useState(null),[f,h]=v.useState(null),[m,x]=v.useState(null),{data:y,isLoading:b,refetch:j}=q.apiKey.list.useQuery(),S=q.apiKey.create.useMutation({onSuccess:T=>{d(T.key),j()}}),k=q.apiKey.revoke.useMutation({onSuccess:()=>j()}),w=async()=>{let T;if(i.expiresIn){const L=new Date;L.setDate(L.getDate()+i.expiresIn),T=L.toISOString()}await S.mutateAsync({name:i.name,permissions:i.permissions,expiresAt:T,rateLimit:i.rateLimit})},C=async(T,L)=>{await navigator.clipboard.writeText(T),h(L),setTimeout(()=>h(null),2e3)},A=()=>{s(!1),d(null),o({name:"",permissions:["tasks:read","projects:read"],expiresIn:null,rateLimit:100})},R=T=>{o(L=>({...L,permissions:L.permissions.includes(T)?L.permissions.filter(E=>E!==T):[...L.permissions,T]}))},O=T=>T?new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Never";return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx($m,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tv,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"}),n.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"API Keys"})]})]}),n.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[n.jsx(Ka,{className:"w-4 h-4"}),"Create API Key"]})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx(s6,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100",children:"API Access"}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"API keys allow external applications to access Kanbu on your behalf. Keep your keys secret and only grant necessary permissions."}),n.jsxs("a",{href:"https://docs.kanbu.be/api",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:underline mt-2",children:["View API Documentation",n.jsx(LM,{className:"w-3 h-3"})]})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Your API Keys"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage your personal API keys"})]}),b?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(st,{className:"w-6 h-6 animate-spin text-gray-400"})}):!y||y.length===0?n.jsxs("div",{className:"text-center py-12 px-4",children:[n.jsx(tv,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No API keys yet"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create an API key to start integrating with Kanbu"}),n.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[n.jsx(Ka,{className:"w-4 h-4"}),"Create your first API key"]})]}):n.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:y.map(T=>n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:T.name}),!T.isActive&&n.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded",children:"Revoked"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded",children:[T.keyPrefix,"..."]}),n.jsxs("span",{children:["Created ",O(T.createdAt)]}),n.jsxs("span",{children:["Expires: ",O(T.expiresAt)]}),T.lastUsedAt&&n.jsxs("span",{children:["Last used: ",O(T.lastUsedAt)]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsxs("button",{onClick:()=>x(m===T.id?null:T.id),className:"text-sm text-blue-500 hover:text-blue-600 flex items-center gap-1",children:[m===T.id?n.jsx(xj,{className:"w-4 h-4"}):n.jsx(yj,{className:"w-4 h-4"}),m===T.id?"Hide":"Show"," permissions (",T.permissions.length,")"]}),m===T.id&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:T.permissions.map(L=>n.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded",children:L},L))})]})]}),T.isActive&&n.jsx("button",{onClick:()=>k.mutate({keyId:T.id}),disabled:k.isPending,className:"p-2 text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Revoke API key",children:k.isPending?n.jsx(st,{className:"w-5 h-5 animate-spin"}):n.jsx(Eu,{className:"w-5 h-5"})})]})},T.id))})]})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u?"API Key Created":"Create API Key"})}),n.jsx("div",{className:"p-6",children:u?n.jsxs("div",{children:[n.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx(Cl,{className:"w-5 h-5 text-yellow-500 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"This is the only time you'll see this key. Copy it now and store it securely."})]})}),n.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 rounded-lg p-3",children:[n.jsx("code",{className:"flex-1 text-sm font-mono break-all text-gray-900 dark:text-white",children:u}),n.jsx("button",{onClick:()=>C(u,"new"),className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:f==="new"?n.jsx(Ya,{className:"w-5 h-5 text-green-500"}):n.jsx(pj,{className:"w-5 h-5"})})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Key Name"}),n.jsx("input",{type:"text",value:i.name,onChange:T=>o(L=>({...L,name:T.target.value})),placeholder:"e.g., CI/CD Pipeline",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Permissions"}),n.jsx("div",{className:"space-y-4",children:r_.map(T=>n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase mb-2",children:T.name}),n.jsx("div",{className:"space-y-2",children:T.permissions.map(L=>n.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:i.permissions.includes(L.id),onChange:()=>R(L.id),className:"mt-1 rounded border-gray-300 dark:border-gray-600 text-blue-500 focus:ring-blue-500"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.label}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:L.description})]})]},L.id))})]},T.name))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Expiration"}),n.jsx("select",{value:i.expiresIn??"",onChange:T=>o(L=>({...L,expiresIn:T.target.value?Number(T.target.value):null})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:n_.map(T=>n.jsx("option",{value:T.value??"",children:T.label},T.label))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rate Limit (requests/minute)"}),n.jsx("input",{type:"number",value:i.rateLimit,onChange:T=>o(L=>({...L,rateLimit:Number(T.target.value)})),min:1,max:1e3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})}),n.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[n.jsx("button",{onClick:A,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:u?"Done":"Cancel"}),!u&&n.jsxs("button",{onClick:w,disabled:!i.name||i.permissions.length===0||S.isPending,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[S.isPending&&n.jsx(st,{className:"w-4 h-4 animate-spin"}),"Create Key"]})]})]})})]})}const db=[{name:"Tasks",events:[{id:"task.created",label:"Task Created"},{id:"task.updated",label:"Task Updated"},{id:"task.deleted",label:"Task Deleted"},{id:"task.moved",label:"Task Moved"},{id:"task.completed",label:"Task Completed"},{id:"task.reopened",label:"Task Reopened"},{id:"task.assigned",label:"Task Assigned"}]},{name:"Comments",events:[{id:"comment.created",label:"Comment Created"},{id:"comment.updated",label:"Comment Updated"},{id:"comment.deleted",label:"Comment Deleted"}]},{name:"Subtasks",events:[{id:"subtask.created",label:"Subtask Created"},{id:"subtask.completed",label:"Subtask Completed"}]},{name:"Project",events:[{id:"project.updated",label:"Project Updated"},{id:"column.created",label:"Column Created"},{id:"column.updated",label:"Column Updated"}]},{name:"Sprints & Milestones",events:[{id:"sprint.started",label:"Sprint Started"},{id:"sprint.completed",label:"Sprint Completed"},{id:"milestone.completed",label:"Milestone Completed"}]}];function s_(){const e=Ct(),{projectId:r}=Jn(),s=r?parseInt(r,10):0,[i,o]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState({name:"",url:"",events:[],isActive:!0}),[m,x]=v.useState(null),[y,b]=v.useState(null),[j,S]=v.useState(null),[k,w]=v.useState({}),{data:C,isLoading:A,refetch:R}=q.webhook.list.useQuery({projectId:s}),O=q.webhook.create.useMutation({onSuccess:()=>{Y(),R()}}),T=q.webhook.update.useMutation({onSuccess:()=>{Y(),R()}}),L=q.webhook.delete.useMutation({onSuccess:()=>R()}),E=q.webhook.regenerateSecret.useMutation({onSuccess:(I,ne)=>{I.secret&&w(ce=>({...ce,[ne.webhookId]:I.secret})),R()}}),D=q.webhook.test.useMutation(),P=()=>{d(null),h({name:"",url:"",events:[],isActive:!0}),o(!0)},K=I=>{d(I.id),h({name:I.name,url:I.url,events:I.events,isActive:I.isActive}),o(!0)},Y=()=>{o(!1),d(null),h({name:"",url:"",events:[],isActive:!0})},ae=async()=>{u?await T.mutateAsync({webhookId:u,...f}):await O.mutateAsync({projectId:s,...f})},ie=async(I,ne)=>{await navigator.clipboard.writeText(I),x(ne),setTimeout(()=>x(null),2e3)},le=I=>{h(ne=>({...ne,events:ne.events.includes(I)?ne.events.filter(ce=>ce!==I):[...ne.events,I]}))},ue=()=>{const I=db.flatMap(ne=>ne.events.map(ce=>ce.id));h(ne=>({...ne,events:I}))},H=()=>{h(I=>({...I,events:[]}))},Q=I=>I?new Date(I).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never";return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx($m,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(rv,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"}),n.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Webhooks"})]})]}),n.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[n.jsx(Ka,{className:"w-4 h-4"}),"Add Webhook"]})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx(uM,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Real-time Notifications"}),n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Webhooks send HTTP POST requests to your endpoints when events occur. Each request includes an HMAC-SHA256 signature for verification."})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Configured Webhooks"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage webhook endpoints for this project"})]}),A?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(st,{className:"w-6 h-6 animate-spin text-gray-400"})}):!C||C.length===0?n.jsxs("div",{className:"text-center py-12 px-4",children:[n.jsx(rv,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No webhooks configured"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Set up a webhook to receive real-time notifications"}),n.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[n.jsx(Ka,{className:"w-4 h-4"}),"Add your first webhook"]})]}):n.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:C.map(I=>n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:I.name}),I.isActive?n.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded",children:"Active"}):n.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded",children:"Inactive"}),I.failureCount>0&&n.jsxs("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 rounded flex items-center gap-1",children:[n.jsx(Cl,{className:"w-3 h-3"}),I.failureCount," failures"]})]}),n.jsx("div",{className:"mt-2",children:n.jsx("p",{className:"text-sm font-mono text-gray-600 dark:text-gray-400 truncate max-w-md",children:I.url})}),n.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ni,{className:"w-4 h-4"}),"Last success: ",Q(I.lastSuccess)]}),n.jsxs("span",{children:["Events: ",I.events.length]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsxs("button",{onClick:()=>b(y===I.id?null:I.id),className:"text-sm text-blue-500 hover:text-blue-600 flex items-center gap-1",children:[y===I.id?n.jsx(xj,{className:"w-4 h-4"}):n.jsx(yj,{className:"w-4 h-4"}),y===I.id?"Hide":"Manage"," secret"]}),y===I.id&&n.jsxs("div",{className:"mt-2 flex items-center gap-2 bg-gray-100 dark:bg-gray-700 rounded-lg p-2 max-w-md",children:[k[I.id]?n.jsxs(n.Fragment,{children:[n.jsx("code",{className:"flex-1 text-xs font-mono break-all text-gray-900 dark:text-white",children:k[I.id]}),n.jsx("button",{onClick:()=>ie(k[I.id]??"",`secret-${I.id}`),className:"p-1 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:m===`secret-${I.id}`?n.jsx(Ya,{className:"w-4 h-4 text-green-500"}):n.jsx(pj,{className:"w-4 h-4"})})]}):n.jsx("span",{className:"flex-1 text-xs text-gray-500 dark:text-gray-400 italic",children:"Secret is hidden. Regenerate to view."}),n.jsx("button",{onClick:()=>E.mutate({webhookId:I.id}),disabled:E.isPending,className:"p-1 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",title:"Regenerate secret",children:n.jsx(JM,{className:`w-4 h-4 ${E.isPending?"animate-spin":""}`})})]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[I.events.slice(0,5).map(ne=>n.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:ne},ne)),I.events.length>5&&n.jsxs("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:["+",I.events.length-5," more"]})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>D.mutate({webhookId:I.id}),disabled:D.isPending,className:"p-2 text-blue-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Send test webhook",children:D.isPending?n.jsx(st,{className:"w-5 h-5 animate-spin"}):n.jsx(Fm,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>K(I),className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit webhook",children:n.jsx(YM,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>L.mutate({webhookId:I.id}),disabled:L.isPending,className:"p-2 text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete webhook",children:L.isPending?n.jsx(st,{className:"w-5 h-5 animate-spin"}):n.jsx(Eu,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("button",{onClick:()=>S(j===I.id?null:I.id),className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 flex items-center gap-1",children:[j===I.id?"Hide":"Show"," recent deliveries"]}),j===I.id&&n.jsx(i_,{webhookId:I.id})]})]},I.id))})]})]}),i&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u?"Edit Webhook":"Add Webhook"})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:f.name,onChange:I=>h(ne=>({...ne,name:I.target.value})),placeholder:"e.g., Slack Integration",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Endpoint URL"}),n.jsx("input",{type:"url",value:f.url,onChange:I=>h(ne=>({...ne,url:I.target.value})),placeholder:"https://example.com/webhook",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enable or disable webhook delivery"})]}),n.jsx("button",{onClick:()=>h(I=>({...I,isActive:!I.isActive})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${f.isActive?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${f.isActive?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Events"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:ue,className:"text-xs text-blue-500 hover:text-blue-600",children:"Select all"}),n.jsx("button",{onClick:H,className:"text-xs text-gray-500 hover:text-gray-600",children:"Clear"})]})]}),n.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:db.map(I=>n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase mb-2",children:I.name}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:I.events.map(ne=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.events.includes(ne.id),onChange:()=>le(ne.id),className:"rounded border-gray-300 dark:border-gray-600 text-blue-500 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:ne.label})]},ne.id))})]},I.name))})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[n.jsx("button",{onClick:Y,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),n.jsxs("button",{onClick:ae,disabled:!f.name||!f.url||f.events.length===0||O.isPending||T.isPending,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(O.isPending||T.isPending)&&n.jsx(st,{className:"w-4 h-4 animate-spin"}),u?"Save Changes":"Add Webhook"]})]})]})})]})}function i_({webhookId:e}){const{data:r,isLoading:s}=q.webhook.getDeliveries.useQuery({webhookId:e,limit:10}),i=r;return s?n.jsx("div",{className:"mt-3 flex items-center justify-center py-4",children:n.jsx(st,{className:"w-4 h-4 animate-spin text-gray-400"})}):!i||i.length===0?n.jsx("div",{className:"mt-3 text-sm text-gray-500 dark:text-gray-400",children:"No deliveries yet"}):n.jsx("div",{className:"mt-3 space-y-2",children:i.map(o=>n.jsxs("div",{className:"flex items-center gap-3 text-sm p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[o.success?n.jsx(gj,{className:"w-4 h-4 text-green-500"}):n.jsx(kM,{className:"w-4 h-4 text-red-500"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:o.event}),n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:o.statusCode||"N/A"}),n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:o.duration?`${o.duration}ms`:"-"}),n.jsx("span",{className:"text-gray-500 dark:text-gray-400 ml-auto",children:new Date(o.deliveredAt).toLocaleString()})]},o.id))})}function l_(){const{projectId:e}=Jn(),r=parseInt(e??"0",10),s=q.useUtils(),[i,o]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(null),[m,x]=v.useState(null),[y,b]=v.useState({title:"",description:"",taskLimit:0}),[j,S]=v.useState({name:"",description:""}),k=q.project.get.useQuery({projectId:r},{enabled:r>0}),w=q.column.list.useQuery({projectId:r},{enabled:r>0}),C=q.swimlane.list.useQuery({projectId:r},{enabled:r>0}),A=q.column.create.useMutation({onSuccess:()=>{K(),s.column.list.invalidate({projectId:r})}}),R=q.column.update.useMutation({onSuccess:()=>{K(),s.column.list.invalidate({projectId:r})}}),O=q.column.delete.useMutation({onSuccess:()=>{s.column.list.invalidate({projectId:r})}}),T=q.column.reorder.useMutation({onSuccess:()=>{s.column.list.invalidate({projectId:r})}}),L=q.swimlane.create.useMutation({onSuccess:()=>{Y(),s.swimlane.list.invalidate({projectId:r})}}),E=q.swimlane.update.useMutation({onSuccess:()=>{Y(),s.swimlane.list.invalidate({projectId:r})}}),D=q.swimlane.delete.useMutation({onSuccess:()=>{s.swimlane.list.invalidate({projectId:r})}}),P=q.swimlane.toggleActive.useMutation({onSuccess:()=>{s.swimlane.list.invalidate({projectId:r})}}),K=()=>{b({title:"",description:"",taskLimit:0}),o(!1),h(null)},Y=()=>{S({name:"",description:""}),d(!1),x(null)},ae=B=>{B.preventDefault(),y.title.trim()&&(f?R.mutate({columnId:f,title:y.title,description:y.description||void 0,taskLimit:y.taskLimit}):A.mutate({projectId:r,title:y.title,description:y.description||void 0,taskLimit:y.taskLimit}))},ie=B=>{B.preventDefault(),j.name.trim()&&(m?E.mutate({swimlaneId:m,name:j.name,description:j.description||void 0}):L.mutate({projectId:r,name:j.name,description:j.description||void 0}))},le=B=>{b({title:B.title,description:B.description??"",taskLimit:B.taskLimit}),h(B.id),o(!0)},ue=B=>{S({name:B.name,description:B.description??""}),x(B.id),d(!0)},H=(B,X)=>{const ee=w.data??[],se=ee.findIndex(ye=>ye.id===B),fe=X==="up"?se:se+2;fe<1||fe>ee.length||T.mutate({projectId:r,columnId:B,newPosition:fe})},Q=(B,X)=>{if(X>0){alert(`Cannot delete column: it contains ${X} task(s). Move or delete tasks first.`);return}confirm("Are you sure you want to delete this column?")&&O.mutate({columnId:B})},I=(B,X)=>{if(X>0){alert(`Cannot delete swimlane: it contains ${X} task(s). Move or delete tasks first.`);return}confirm("Are you sure you want to delete this swimlane?")&&D.mutate({swimlaneId:B})};if(k.isLoading)return n.jsx(Qe,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})});if(k.error)return n.jsx(Qe,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-destructive",children:k.error.message}),n.jsx(dt,{to:"/",className:"text-primary hover:underline mt-4 inline-block",children:"Go back"})]})});const ne=k.data,ce=w.data??[],_=C.data??[];return n.jsx(Qe,{children:n.jsxs("div",{className:"container mx-auto py-6 px-4 max-w-4xl",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("nav",{className:"text-sm text-muted-foreground mb-2",children:[n.jsx(dt,{to:`/project/${r}`,className:"hover:text-primary",children:ne?.name})," / ",n.jsx("span",{children:"Board Settings"})]}),n.jsx("h1",{className:"text-2xl font-bold",children:"Board Settings"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage columns, swimlanes, and WIP limits"})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs(de,{children:[n.jsx(ve,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"Columns"}),n.jsx(Ie,{children:"Board columns represent workflow stages"})]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>{K(),o(!0)},children:[n.jsx(fb,{className:"h-4 w-4 mr-1"}),"Add Column"]})]})}),n.jsxs(pe,{children:[i&&n.jsxs("form",{onSubmit:ae,className:"mb-6 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-medium mb-3",children:f?"Edit Column":"New Column"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Title"}),n.jsx(Ue,{value:y.title,onChange:B=>b({...y,title:B.target.value}),placeholder:"e.g., In Progress",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Description (optional)"}),n.jsx(Ue,{value:y.description,onChange:B=>b({...y,description:B.target.value}),placeholder:"Column description"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"WIP Limit (0 = no limit)"}),n.jsx(Ue,{type:"number",min:"0",value:y.taskLimit,onChange:B=>b({...y,taskLimit:parseInt(B.target.value)||0})})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(re,{type:"submit",size:"sm",children:f?"Update":"Create"}),n.jsx(re,{type:"button",variant:"outline",size:"sm",onClick:K,children:"Cancel"})]})]})]}),n.jsx("div",{className:"space-y-2",children:ce.length===0?n.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No columns yet"}):ce.map((B,X)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsx("button",{onClick:()=>H(B.id,"up"),disabled:X===0,className:"p-0.5 hover:bg-muted rounded disabled:opacity-30",children:n.jsx(o_,{className:"h-3 w-3"})}),n.jsx("button",{onClick:()=>H(B.id,"down"),disabled:X===ce.length-1,className:"p-0.5 hover:bg-muted rounded disabled:opacity-30",children:n.jsx(c_,{className:"h-3 w-3"})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:B.title}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:[B.taskCount," tasks"]}),B.taskLimit>0&&n.jsxs("span",{className:Se("px-1.5 py-0.5 rounded",B.isOverLimit?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"),children:["WIP: ",B.taskLimit]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>le(B),children:"Edit"}),n.jsx(re,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>Q(B.id,B.taskCount),children:"Delete"})]})]},B.id))})]})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{children:"Swimlanes"}),n.jsx(Ie,{children:"Horizontal lanes for categorizing tasks"})]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>{Y(),d(!0)},children:[n.jsx(fb,{className:"h-4 w-4 mr-1"}),"Add Swimlane"]})]})}),n.jsxs(pe,{children:[u&&n.jsxs("form",{onSubmit:ie,className:"mb-6 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-medium mb-3",children:m?"Edit Swimlane":"New Swimlane"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Name"}),n.jsx(Ue,{value:j.name,onChange:B=>S({...j,name:B.target.value}),placeholder:"e.g., Feature Work",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Description (optional)"}),n.jsx(Ue,{value:j.description,onChange:B=>S({...j,description:B.target.value}),placeholder:"Swimlane description"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(re,{type:"submit",size:"sm",children:m?"Update":"Create"}),n.jsx(re,{type:"button",variant:"outline",size:"sm",onClick:Y,children:"Cancel"})]})]})]}),n.jsx("div",{className:"space-y-2",children:_.length===0?n.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No swimlanes yet"}):_.map(B=>n.jsxs("div",{className:Se("flex items-center justify-between p-3 border rounded-lg",!B.isActive&&"opacity-60"),children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:B.name}),!B.isActive&&n.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-yellow-100 dark:bg-yellow-900 rounded",children:"Hidden"})]}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[B.taskCount," tasks"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>P.mutate({swimlaneId:B.id}),children:B.isActive?"Hide":"Show"}),n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>ue(B),children:"Edit"}),n.jsx(re,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>I(B.id,B.taskCount),children:"Delete"})]})]},B.id))})]})]})]})]})})}function fb({className:e}){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[n.jsx("path",{d:"M5 12h14"}),n.jsx("path",{d:"M12 5v14"})]})}function o_({className:e}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:n.jsx("path",{d:"m18 15-6-6-6 6"})})}function c_({className:e}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:n.jsx("path",{d:"m6 9 6 6 6-6"})})}function u_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}function d_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}function f_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}function h_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}function m_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}function g_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}function p_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}function x_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}function y_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}function v_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}function b_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function j_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}function w_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}function k_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})})}function N_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}function S_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.121 15.536c-1.171 1.952-3.07 1.952-4.242 0-1.172-1.953-1.172-5.119 0-7.072 1.171-1.952 3.07-1.952 4.242 0M8 10.5h4m-4 3h4m9-1.5a9 9 0 11-18 0 9 9 0 0118 0z"})})}const C_=[{title:"Information",items:[{label:"Summary",path:"/profile",icon:u_},{label:"Time tracking",path:"/profile/timetracking",icon:d_},{label:"Last logins",path:"/profile/logins",icon:f_},{label:"Persistent connections",path:"/profile/sessions",icon:h_},{label:"Password reset history",path:"/profile/password-history",icon:m_},{label:"Metadata",path:"/profile/metadata",icon:g_}]},{title:"Actions",items:[{label:"Edit profile",path:"/profile/edit",icon:p_},{label:"Avatar",path:"/profile/avatar",icon:x_},{label:"Change password",path:"/profile/password",icon:y_},{label:"Two factor auth",path:"/profile/2fa",icon:v_},{label:"Public access",path:"/profile/public",icon:b_},{label:"Notifications",path:"/profile/notifications",icon:j_},{label:"External accounts",path:"/profile/external",icon:w_},{label:"Integrations",path:"/profile/integrations",icon:k_},{label:"API tokens",path:"/profile/api",icon:N_},{label:"Hourly rate",path:"/profile/hourly-rate",icon:S_}]}];function E_({collapsed:e=!1}){const r=Zn(),s=i=>r.pathname===i;return n.jsxs("aside",{className:Se("flex flex-col border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 transition-all",e?"w-16":"w-56"),children:[!e&&n.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Profile Settings"})}),n.jsx("nav",{className:"flex-1 overflow-y-auto py-2",children:C_.map((i,o)=>n.jsxs("div",{className:"mb-2",children:[!e&&n.jsx("div",{className:"px-4 py-2",children:n.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i.title})}),n.jsx("ul",{className:"space-y-0.5 px-2",children:i.items.map(u=>{const d=u.icon,f=s(u.path);return n.jsx("li",{children:n.jsxs(dt,{to:u.path,className:Se("flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",f?"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),title:e?u.label:void 0,children:[n.jsx(d,{className:"h-5 w-5 flex-shrink-0"}),!e&&n.jsx("span",{children:u.label})]})},u.path)})})]},o))})]})}function Ae({children:e,title:r,description:s}){return n.jsx(ri,{children:n.jsxs("div",{className:"flex h-[calc(100vh-3.5rem)] -my-6 overflow-hidden",children:[n.jsx(E_,{}),n.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"max-w-4xl",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r}),s&&n.jsx("p",{className:"text-muted-foreground mt-1",children:s})]}),e]})})]})})}function Pt({label:e,value:r,className:s}){return n.jsxs("div",{className:`flex justify-between py-2 border-b border-gray-100 dark:border-gray-800 last:border-0 ${s||""}`,children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:e}),n.jsx("span",{className:"text-sm font-medium",children:r})]})}function Ys({active:e,label:r}){return n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${e?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}`,children:r||(e?"Active":"Inactive")})}function M_(){const e=q.useUtils(),{data:r,isLoading:s}=q.user.getProfile.useQuery(),i=q.user.verifyEmail.useMutation({onSuccess:()=>{e.user.getProfile.invalidate()}});if(s)return n.jsx(Ae,{title:"Profile Summary",description:"Overview of your account",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})})});if(!r)return n.jsx(Ae,{title:"Profile Summary",description:"Overview of your account",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Profile not found"})})});const o={1:"All tasks",2:"Assigned to me",3:"Created by me",4:"Assigned or created"};return n.jsx(Ae,{title:"Profile Summary",description:"Overview of your account",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"Basic Information"})}),n.jsxs(pe,{children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.avatarUrl?n.jsx("img",{src:r.avatarUrl,alt:r.name,className:"w-16 h-16 rounded-full"}):n.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-500 flex items-center justify-center text-white text-xl font-bold",children:r.name?.charAt(0)?.toUpperCase()||r.username.charAt(0).toUpperCase()}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-lg",children:r.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",r.username]})]})]}),n.jsx(Pt,{label:"Email",value:r.email}),n.jsx(Pt,{label:"Username",value:`@${r.username}`}),n.jsx(Pt,{label:"Display Name",value:r.name}),n.jsx(Pt,{label:"Account Status",value:n.jsx(Ys,{active:r.isActive})}),n.jsx(Pt,{label:"Email Verified",value:r.emailVerified?n.jsx(Ys,{active:!0,label:"Verified"}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ys,{active:!1,label:"Not verified"}),n.jsx(re,{size:"sm",variant:"outline",onClick:()=>i.mutate(),disabled:i.isPending,className:"h-6 text-xs",children:i.isPending?"Verifying...":"Verify"})]})}),n.jsx(Pt,{label:"Member Since",value:new Date(r.createdAt).toLocaleDateString()})]})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"Security"})}),n.jsxs(pe,{children:[n.jsx(Pt,{label:"Two-Factor Auth",value:n.jsx(Ys,{active:r.twofactorActivated,label:r.twofactorActivated?"Enabled":"Disabled"})}),n.jsx(Pt,{label:"Last Login",value:r.lastLoginAt?new Date(r.lastLoginAt).toLocaleString():"Never"}),n.jsx(Pt,{label:"Failed Login Attempts",value:r.failedLoginCount}),n.jsx(Pt,{label:"Account Locked",value:r.lockedUntil?`Until ${new Date(r.lockedUntil).toLocaleString()}`:"No"}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-800",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Connected Accounts"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs ${r.googleId?"bg-red-100 text-red-800":"bg-gray-100 text-gray-400"}`,children:["Google ",r.googleId?"(connected)":""]}),n.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs ${r.githubId?"bg-gray-800 text-white":"bg-gray-100 text-gray-400"}`,children:["GitHub ",r.githubId?"(connected)":""]}),n.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs ${r.gitlabId?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-400"}`,children:["GitLab ",r.gitlabId?"(connected)":""]})]})]})]})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"Preferences"})}),n.jsxs(pe,{children:[n.jsx(Pt,{label:"Theme",value:r.theme||"system"}),n.jsx(Pt,{label:"Timezone",value:r.timezone}),n.jsx(Pt,{label:"Language",value:r.language}),n.jsx(Pt,{label:"Notifications",value:n.jsx(Ys,{active:r.notificationsEnabled,label:r.notificationsEnabled?"On":"Off"})}),n.jsx(Pt,{label:"Notification Filter",value:o[r.notificationFilter]||"Unknown"}),r.hourlyRate&&n.jsx(Pt,{label:"Hourly Rate",value:`${r.hourlyRate} EUR`})]})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"Public Access"})}),n.jsx(pe,{children:r.publicToken?n.jsxs(n.Fragment,{children:[n.jsx(Pt,{label:"Status",value:n.jsx(Ys,{active:!0,label:"Enabled"})}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Feed URLs"}),n.jsxs("div",{className:"text-xs text-muted-foreground bg-gray-50 dark:bg-gray-800 p-2 rounded font-mono break-all",children:["RSS: /api/feed/user/",r.publicToken.slice(0,8),"..."]}),n.jsxs("div",{className:"text-xs text-muted-foreground bg-gray-50 dark:bg-gray-800 p-2 rounded font-mono break-all",children:["iCal: /api/ical/user/",r.publicToken.slice(0,8),"..."]})]})]}):n.jsxs("div",{className:"text-center py-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Public access is disabled."}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enable it in Public Access settings to get RSS and iCal feeds."})]})})]}),n.jsxs(de,{className:"md:col-span-2",children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"Account Statistics"})}),n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold",children:r.workspaceCount}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Workspaces"})]}),n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold",children:r.emailVerified?"1":"0"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Verified Emails"})]}),n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold",children:r.twofactorActivated?"1":"0"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"2FA Methods"})]}),n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold",children:[r.googleId,r.githubId,r.gitlabId].filter(Boolean).length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Connected Accounts"})]})]})})]})]})})}function dl(e){if(e===0)return"0h";if(e<1)return`${Math.round(e*60)}m`;const r=Math.floor(e),s=Math.round((e-r)*60);return s>0?`${r}h ${s}m`:`${r}h`}function R_(e){return(typeof e=="string"?new Date(e):e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function T_(){const{data:e,isLoading:r}=q.user.getTimeTracking.useQuery({});if(r)return n.jsx(Ae,{title:"Time Tracking",description:"Overview of your logged hours",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading time tracking data..."})})});if(!e)return n.jsx(Ae,{title:"Time Tracking",description:"Overview of your logged hours",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"No time tracking data found"})})});const s=e.totalEstimated>0?Math.round(e.totalSpent/e.totalEstimated*100):0;return n.jsx(Ae,{title:"Time Tracking",description:"Overview of your logged hours",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(de,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:dl(e.totalSpent)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Total Time Spent"})]})})}),n.jsx(de,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-600 dark:text-gray-400",children:dl(e.totalEstimated)}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Total Estimated"})]})})}),n.jsx(de,{children:n.jsx(pe,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:`text-3xl font-bold ${s<=100?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`,children:[s,"%"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Efficiency"})]})})})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"Time by Project"})}),n.jsx(pe,{children:e.byProject.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No time logged yet"}):n.jsx("div",{className:"space-y-4",children:e.byProject.map(i=>{const o=e.totalSpent>0?Math.round(i.timeSpent/e.totalSpent*100):0;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-sm font-medium",children:i.projectName}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[dl(i.timeSpent)," / ",dl(i.timeEstimated)]})]}),n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 dark:bg-blue-500 h-2 rounded-full transition-all",style:{width:`${o}%`}})})]},i.projectId)})})})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"Recent Time Entries"})}),n.jsx(pe,{children:e.recentEntries.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No recent time entries"}):n.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:e.recentEntries.map(i=>n.jsxs("div",{className:"py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:i.type==="subtask"?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-muted-foreground",children:[i.taskTitle,"  "]}),i.title]}):i.title}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.projectName,"  ",R_(i.updatedAt)]})]}),n.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${i.isActive?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}`,children:i.isActive?"In Progress":"Done"}),n.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:dl(i.timeSpent)})]})]},`${i.type}-${i.id}`))})})]})]})})}function A_(e){return(typeof e=="string"?new Date(e):e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function D_(e){const r=e.toLowerCase();return r.includes("mobile")||r.includes("android")||r.includes("iphone")?"mobile":r.includes("tablet")||r.includes("ipad")?"tablet":"desktop"}function O_(e){const r=e.toLowerCase();return r.includes("firefox")?"Firefox":r.includes("edg")?"Edge":r.includes("chrome")?"Chrome":r.includes("safari")?"Safari":r.includes("opera")?"Opera":"Unknown Browser"}function __(e){const r=e.toLowerCase();return r.includes("windows")?"Windows":r.includes("mac")?"macOS":r.includes("linux")?"Linux":r.includes("android")?"Android":r.includes("iphone")||r.includes("ipad")?"iOS":"Unknown OS"}function L_(e){switch(e){case"password":return"Password";case"remember_me":return"Remember Me";case"oauth":return"OAuth";default:return e}}function hb({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}function z_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}function P_({className:e}){return n.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}function I_(){const{data:e,isLoading:r}=q.user.getLastLogins.useQuery({});if(r)return n.jsx(Ae,{title:"Last Logins",description:"Your recent login history",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading login history..."})})});if(!e)return n.jsx(Ae,{title:"Last Logins",description:"Your recent login history",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Could not load login history"})})});const s={desktop:hb,mobile:z_,tablet:P_};return n.jsx(Ae,{title:"Last Logins",description:"Your recent login history",children:n.jsxs(de,{children:[n.jsx(ve,{children:n.jsxs(be,{className:"text-lg flex items-center justify-between",children:[n.jsx("span",{children:"Login History"}),n.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[e.total," total logins"]})]})}),n.jsxs(pe,{children:[e.logins.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No login history available"}):n.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:e.logins.map(i=>{const o=D_(i.userAgent),u=s[o]??hb;return n.jsxs("div",{className:"py-4 flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:n.jsx(u,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{className:"font-medium",children:O_(i.userAgent)}),n.jsx("span",{className:"text-muted-foreground",children:"on"}),n.jsx("span",{className:"font-medium",children:__(i.userAgent)}),n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${i.authType==="oauth"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":i.authType==="remember_me"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}`,children:L_(i.authType)})]}),n.jsxs("div",{className:"mt-1 flex items-center gap-3 text-sm text-muted-foreground",children:[n.jsx("span",{children:A_(i.createdAt)}),n.jsx("span",{children:""}),n.jsx("span",{className:"font-mono text-xs",children:i.ip})]})]})]},i.id)})}),e.hasMore&&n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",e.logins.length," of ",e.total," logins"]})})]})]})})}function mb(e){return(typeof e=="string"?new Date(e):e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function gb(e){const r=typeof e=="string"?new Date(e):e,s=new Date,i=r.getTime()-s.getTime();if(i<=0)return"Expired";const o=Math.floor(i/(1e3*60*60*24)),u=Math.floor(i%(1e3*60*60*24)/(1e3*60*60));return o>0?`${o}d ${u}h remaining`:u>0?`${u}h remaining`:"Less than 1h remaining"}function U_(e){if(!e)return"Unknown Browser";const r=e.toLowerCase();return r.includes("firefox")?"Firefox":r.includes("edg")?"Edge":r.includes("chrome")?"Chrome":r.includes("safari")?"Safari":r.includes("opera")?"Opera":"Unknown Browser"}function B_(e){if(!e)return"Unknown OS";const r=e.toLowerCase();return r.includes("windows")?"Windows":r.includes("mac")?"macOS":r.includes("linux")?"Linux":r.includes("android")?"Android":r.includes("iphone")||r.includes("ipad")?"iOS":"Unknown OS"}function H_(){const[e,r]=v.useState(null),s=q.useUtils(),{data:i,isLoading:o}=q.user.getSessions.useQuery(),{data:u,isLoading:d}=q.user.getRememberTokens.useQuery(),f=q.user.revokeSession.useMutation({onSuccess:()=>{s.user.getSessions.invalidate(),r(null)}}),h=q.user.revokeRememberToken.useMutation({onSuccess:()=>{s.user.getRememberTokens.invalidate(),r(null)}}),m=q.user.revokeAllSessions.useMutation({onSuccess:()=>{s.user.getSessions.invalidate()}});return o||d?n.jsx(Ae,{title:"Persistent Connections",description:"Manage your active sessions",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading sessions..."})})}):n.jsx(Ae,{title:"Persistent Connections",description:"Manage your active sessions",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(de,{children:[n.jsx(ve,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(be,{className:"text-lg",children:"Active Sessions"}),n.jsx(Ie,{children:"Sessions allow you to stay logged in across browser restarts"})]}),i&&i.length>0&&n.jsx(re,{variant:"outline",size:"sm",onClick:()=>m.mutate(),disabled:m.isPending,children:m.isPending?"Revoking...":"Revoke All"})]})}),n.jsx(pe,{children:!i||i.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No active sessions"}):n.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:i.map(y=>n.jsxs("div",{className:"py-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:U_(y.userAgent)}),n.jsx("span",{className:"text-muted-foreground",children:"on"}),n.jsx("span",{className:"font-medium",children:B_(y.userAgent)})]}),n.jsxs("div",{className:"mt-1 flex items-center gap-3 text-sm text-muted-foreground",children:[n.jsx("span",{children:mb(y.createdAt)}),n.jsx("span",{children:""}),n.jsx("span",{className:"font-mono text-xs",children:y.ipAddress||"Unknown IP"}),n.jsx("span",{children:""}),n.jsx("span",{className:"text-green-600 dark:text-green-400",children:gb(y.expiresAt)})]})]}),n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{r(y.id),f.mutate({sessionId:y.id})},disabled:e===y.id,children:e===y.id?"Revoking...":"Revoke"})]},y.id))})})]}),n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg",children:"Remember Me Tokens"}),n.jsx(Ie,{children:'Tokens for "Remember Me" functionality on login'})]}),n.jsx(pe,{children:!u||u.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No remember tokens active"}):n.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:u.map(y=>n.jsxs("div",{className:"py-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-mono text-sm",children:y.tokenPreview}),n.jsxs("div",{className:"mt-1 flex items-center gap-3 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Created ",mb(y.createdAt)]}),n.jsx("span",{children:""}),n.jsx("span",{className:"text-green-600 dark:text-green-400",children:gb(y.expiresAt)})]})]}),n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{r(y.id),h.mutate({tokenId:y.id})},disabled:e===y.id,children:e===y.id?"Revoking...":"Revoke"})]},y.id))})})]})]})})}function Ih(e){return(typeof e=="string"?new Date(e):e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function $_(e){return(typeof e=="string"?new Date(e):e).getTime()<Date.now()}function Q_(e){const r=e.toLowerCase();return r.includes("firefox")?"Firefox":r.includes("edg")?"Edge":r.includes("chrome")?"Chrome":r.includes("safari")?"Safari":r.includes("opera")?"Opera":"Unknown Browser"}function q_(){const{data:e,isLoading:r}=q.user.getPasswordResets.useQuery({});return r?n.jsx(Ae,{title:"Password Reset History",description:"History of password reset requests",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading password history..."})})}):e?n.jsx(Ae,{title:"Password Reset History",description:"History of password reset requests",children:n.jsxs(de,{children:[n.jsx(ve,{children:n.jsxs(be,{className:"text-lg flex items-center justify-between",children:[n.jsx("span",{children:"Reset Requests"}),n.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[e.total," total requests"]})]})}),n.jsxs(pe,{children:[e.resets.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No password reset requests found"}):n.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:e.resets.map(s=>{const i=$_(s.expiresAt),o=s.isUsed?"used":i?"expired":"pending";return n.jsxs("div",{className:"py-4 flex items-start gap-4",children:[n.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${o==="used"?"bg-green-100 dark:bg-green-900/30":o==="expired"?"bg-gray-100 dark:bg-gray-800":"bg-yellow-100 dark:bg-yellow-900/30"}`,children:o==="used"?n.jsx("svg",{className:"h-5 w-5 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o==="expired"?n.jsx("svg",{className:"h-5 w-5 text-gray-500 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{className:"font-medium",children:Q_(s.userAgent)}),n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${o==="used"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":o==="expired"?"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:o==="used"?"Used":o==="expired"?"Expired":"Pending"})]}),n.jsxs("div",{className:"mt-1 flex items-center gap-3 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Requested ",Ih(s.createdAt)]}),n.jsx("span",{children:""}),n.jsx("span",{className:"font-mono text-xs",children:s.ip})]}),n.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:s.isUsed?"Password was successfully changed":i?`Expired on ${Ih(s.expiresAt)}`:`Expires ${Ih(s.expiresAt)}`})]})]},s.id)})}),e.hasMore&&n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",e.resets.length," of ",e.total," requests"]})})]})]})}):n.jsx(Ae,{title:"Password Reset History",description:"History of password reset requests",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Could not load password history"})})})}function F_(e){return(typeof e=="string"?new Date(e):e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function V_(){const[e,r]=v.useState(""),[s,i]=v.useState(""),[o,u]=v.useState(null),[d,f]=v.useState(""),h=q.useUtils(),{data:m,isLoading:x}=q.user.getMetadata.useQuery(),y=q.user.setMetadata.useMutation({onSuccess:()=>{h.user.getMetadata.invalidate(),r(""),i(""),u(null),f("")}}),b=q.user.deleteMetadata.useMutation({onSuccess:()=>{h.user.getMetadata.invalidate()}}),j=()=>{e.trim()&&s.trim()&&y.mutate({key:e.trim(),value:s.trim()})},S=w=>{d.trim()&&y.mutate({key:w,value:d.trim()})},k=(w,C)=>{u(w),f(C)};return x?n.jsx(Ae,{title:"Metadata",description:"Custom key-value data for your profile",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading metadata..."})})}):n.jsx(Ae,{title:"Metadata",description:"Custom key-value data for your profile",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg",children:"Add Metadata"}),n.jsx(Ie,{children:"Store custom key-value pairs for your profile"})]}),n.jsx(pe,{children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx(Ue,{placeholder:"Key",value:e,onChange:w=>r(w.target.value),className:"max-w-[200px]"}),n.jsx(Ue,{placeholder:"Value",value:s,onChange:w=>i(w.target.value),className:"flex-1"}),n.jsx(re,{onClick:j,disabled:!e.trim()||!s.trim()||y.isPending,children:y.isPending?"Adding...":"Add"})]})})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsxs(be,{className:"text-lg flex items-center justify-between",children:[n.jsx("span",{children:"Your Metadata"}),n.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[m?.length??0," items"]})]})}),n.jsx(pe,{children:!m||m.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No metadata stored yet"}):n.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:m.map(w=>n.jsx("div",{className:"py-4",children:o===w.key?n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("span",{className:"font-mono text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded min-w-[120px]",children:w.key}),n.jsx(Ue,{value:d,onChange:C=>f(C.target.value),className:"flex-1",autoFocus:!0}),n.jsx(re,{size:"sm",onClick:()=>S(w.key),disabled:y.isPending,children:"Save"}),n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>u(null),children:"Cancel"})]}):n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"font-mono text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:w.key})}),n.jsx("p",{className:"mt-2 text-sm break-words",children:w.value}),n.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Added ",F_(w.createdAt)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>k(w.key,w.value),children:"Edit"}),n.jsx(re,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>b.mutate({key:w.key}),disabled:b.isPending,children:"Delete"})]})]})},w.id))})})]})]})})}function xn({className:e,children:r,...s}){return n.jsx("label",{className:Se("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...s,children:r})}function G_(){const[e,r]=v.useState(""),[s,i]=v.useState(""),[o,u]=v.useState(""),[d,f]=v.useState("system"),[h,m]=v.useState(!1),x=q.useUtils(),{data:y,isLoading:b}=q.user.getProfile.useQuery(),j=q.user.updateProfile.useMutation({onSuccess:()=>{x.user.getProfile.invalidate(),m(!1)}});v.useEffect(()=>{y&&(r(y.name??""),i(y.timezone??""),u(y.language??""),f(y.theme??"system"))},[y]),v.useEffect(()=>{if(y){const k=e!==(y.name??"")||s!==(y.timezone??"")||o!==(y.language??"")||d!==(y.theme??"system");m(k)}},[e,s,o,d,y]);const S=k=>{k.preventDefault(),j.mutate({name:e||void 0,timezone:s||void 0,language:o||void 0,theme:d})};return b?n.jsx(Ae,{title:"Edit Profile",description:"Update your profile information",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})})}):y?n.jsx(Ae,{title:"Edit Profile",description:"Update your profile information",children:n.jsxs("form",{onSubmit:S,className:"space-y-6",children:[n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg",children:"Basic Information"}),n.jsx(Ie,{children:"Your display name and personal details"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"email",children:"Email"}),n.jsx(Ue,{id:"email",type:"email",value:y.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed here"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"username",children:"Username"}),n.jsx(Ue,{id:"username",value:y.username,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Username cannot be changed"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"name",children:"Display Name"}),n.jsx(Ue,{id:"name",value:e,onChange:k=>r(k.target.value),placeholder:"Your name"})]})]})]}),n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg",children:"Preferences"}),n.jsx(Ie,{children:"Customize your experience"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"theme",children:"Theme"}),n.jsxs("select",{id:"theme",value:d,onChange:k=>f(k.target.value),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",children:[n.jsx("option",{value:"system",children:"System Default"}),n.jsx("option",{value:"light",children:"Light"}),n.jsx("option",{value:"dark",children:"Dark"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"timezone",children:"Timezone"}),n.jsx(Ue,{id:"timezone",value:s,onChange:k=>i(k.target.value),placeholder:"e.g., Europe/Amsterdam"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"language",children:"Language"}),n.jsx(Ue,{id:"language",value:o,onChange:k=>u(k.target.value),placeholder:"e.g., en, nl"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>{y&&(r(y.name??""),i(y.timezone??""),u(y.language??""),f(y.theme??"system"))},disabled:!h,children:"Reset"}),n.jsx(re,{type:"submit",disabled:!h||j.isPending,children:j.isPending?"Saving...":"Save Changes"})]}),j.isSuccess&&n.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 text-center",children:"Profile updated successfully!"}),j.isError&&n.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:"Failed to update profile. Please try again."})]})}):n.jsx(Ae,{title:"Edit Profile",description:"Update your profile information",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Could not load profile"})})})}const Y_=5*1024*1024,pb=["image/jpeg","image/png","image/gif","image/webp"];function K_(){const[e,r]=v.useState(null),[s,i]=v.useState(null),[o,u]=v.useState(null),d=v.useRef(null),f=q.useUtils(),{data:h,isLoading:m}=q.user.getProfile.useQuery(),x=q.user.uploadAvatar.useMutation({onSuccess:()=>{f.user.getProfile.invalidate(),r(null),u(null),i(null)},onError:A=>{i(A.message)}}),y=q.user.removeAvatar.useMutation({onSuccess:()=>{f.user.getProfile.invalidate()}}),b=A=>{const R=A.target.files?.[0];if(!R)return;if(i(null),!pb.includes(R.type)){i("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}if(R.size>Y_){i("File size must be less than 5MB");return}const O=new FileReader;O.onload=T=>{const L=T.target?.result,E=L.split(",")[1];E&&(r(L),u({base64:E,mimeType:R.type}))},O.readAsDataURL(R)},j=()=>{o&&x.mutate({base64:o.base64,mimeType:o.mimeType})},S=()=>{y.mutate(),r(null),u(null)},k=()=>{r(null),u(null),i(null),d.current&&(d.current.value="")};if(m)return n.jsx(Ae,{title:"Avatar",description:"Manage your profile picture",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})});const w=h?.avatarUrl,C=e||w;return n.jsx(Ae,{title:"Avatar",description:"Manage your profile picture",children:n.jsx("div",{className:"max-w-xl",children:n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg",children:"Profile Picture"}),n.jsx(Ie,{children:"Upload an image to use as your avatar. Supported formats: JPEG, PNG, GIF, WebP. Max size: 5MB."})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[C?n.jsx("img",{src:C,alt:"Avatar preview",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200 dark:border-gray-700"}):n.jsx("div",{className:"w-32 h-32 rounded-full bg-blue-500 flex items-center justify-center text-white text-4xl font-bold border-4 border-gray-200 dark:border-gray-700",children:h?.name?.charAt(0)?.toUpperCase()||h?.username?.charAt(0)?.toUpperCase()||"?"}),e&&n.jsx("span",{className:"text-sm text-muted-foreground",children:"Preview - not saved yet"})]}),s&&n.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-md",children:s}),n.jsx("input",{ref:d,type:"file",accept:pb.join(","),onChange:b,className:"hidden"}),n.jsx("div",{className:"flex flex-col gap-3",children:e?n.jsxs(n.Fragment,{children:[n.jsx(re,{onClick:j,disabled:x.isPending,className:"w-full",children:x.isPending?"Uploading...":"Save Avatar"}),n.jsx(re,{variant:"outline",onClick:k,disabled:x.isPending,className:"w-full",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsx(re,{onClick:()=>d.current?.click(),className:"w-full",children:w?"Change Avatar":"Upload Avatar"}),w&&n.jsx(re,{variant:"outline",onClick:S,disabled:y.isPending,className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:y.isPending?"Removing...":"Remove Avatar"})]})}),x.isSuccess&&n.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 text-center",children:"Avatar uploaded successfully!"})]})]})})})}var W_=Object.defineProperty,cu=Object.getOwnPropertySymbols,aw=Object.prototype.hasOwnProperty,sw=Object.prototype.propertyIsEnumerable,xb=(e,r,s)=>r in e?W_(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,mm=(e,r)=>{for(var s in r||(r={}))aw.call(r,s)&&xb(e,s,r[s]);if(cu)for(var s of cu(r))sw.call(r,s)&&xb(e,s,r[s]);return e},gm=(e,r)=>{var s={};for(var i in e)aw.call(e,i)&&r.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&cu)for(var i of cu(e))r.indexOf(i)<0&&sw.call(e,i)&&(s[i]=e[i]);return s};var Xa;(e=>{const r=class _e{constructor(h,m,x,y){if(this.version=h,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],h<_e.MIN_VERSION||h>_e.MAX_VERSION)throw new RangeError("Version value out of range");if(y<-1||y>7)throw new RangeError("Mask value out of range");this.size=h*4+17;let b=[];for(let S=0;S<this.size;S++)b.push(!1);for(let S=0;S<this.size;S++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const j=this.addEccAndInterleave(x);if(this.drawCodewords(j),y==-1){let S=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const w=this.getPenaltyScore();w<S&&(y=k,S=w),this.applyMask(k)}}o(0<=y&&y<=7),this.mask=y,this.applyMask(y),this.drawFormatBits(y),this.isFunction=[]}static encodeText(h,m){const x=e.QrSegment.makeSegments(h);return _e.encodeSegments(x,m)}static encodeBinary(h,m){const x=e.QrSegment.makeBytes(h);return _e.encodeSegments([x],m)}static encodeSegments(h,m,x=1,y=40,b=-1,j=!0){if(!(_e.MIN_VERSION<=x&&x<=y&&y<=_e.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let S,k;for(S=x;;S++){const R=_e.getNumDataCodewords(S,m)*8,O=d.getTotalBits(h,S);if(O<=R){k=O;break}if(S>=y)throw new RangeError("Data too long")}for(const R of[_e.Ecc.MEDIUM,_e.Ecc.QUARTILE,_e.Ecc.HIGH])j&&k<=_e.getNumDataCodewords(S,R)*8&&(m=R);let w=[];for(const R of h){s(R.mode.modeBits,4,w),s(R.numChars,R.mode.numCharCountBits(S),w);for(const O of R.getData())w.push(O)}o(w.length==k);const C=_e.getNumDataCodewords(S,m)*8;o(w.length<=C),s(0,Math.min(4,C-w.length),w),s(0,(8-w.length%8)%8,w),o(w.length%8==0);for(let R=236;w.length<C;R^=253)s(R,8,w);let A=[];for(;A.length*8<w.length;)A.push(0);return w.forEach((R,O)=>A[O>>>3]|=R<<7-(O&7)),new _e(S,m,A,b)}getModule(h,m){return 0<=h&&h<this.size&&0<=m&&m<this.size&&this.modules[m][h]}getModules(){return this.modules}drawFunctionPatterns(){for(let x=0;x<this.size;x++)this.setFunctionModule(6,x,x%2==0),this.setFunctionModule(x,6,x%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const h=this.getAlignmentPatternPositions(),m=h.length;for(let x=0;x<m;x++)for(let y=0;y<m;y++)x==0&&y==0||x==0&&y==m-1||x==m-1&&y==0||this.drawAlignmentPattern(h[x],h[y]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(h){const m=this.errorCorrectionLevel.formatBits<<3|h;let x=m;for(let b=0;b<10;b++)x=x<<1^(x>>>9)*1335;const y=(m<<10|x)^21522;o(y>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,i(y,b));this.setFunctionModule(8,7,i(y,6)),this.setFunctionModule(8,8,i(y,7)),this.setFunctionModule(7,8,i(y,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,i(y,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,i(y,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,i(y,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let h=this.version;for(let x=0;x<12;x++)h=h<<1^(h>>>11)*7973;const m=this.version<<12|h;o(m>>>18==0);for(let x=0;x<18;x++){const y=i(m,x),b=this.size-11+x%3,j=Math.floor(x/3);this.setFunctionModule(b,j,y),this.setFunctionModule(j,b,y)}}drawFinderPattern(h,m){for(let x=-4;x<=4;x++)for(let y=-4;y<=4;y++){const b=Math.max(Math.abs(y),Math.abs(x)),j=h+y,S=m+x;0<=j&&j<this.size&&0<=S&&S<this.size&&this.setFunctionModule(j,S,b!=2&&b!=4)}}drawAlignmentPattern(h,m){for(let x=-2;x<=2;x++)for(let y=-2;y<=2;y++)this.setFunctionModule(h+y,m+x,Math.max(Math.abs(y),Math.abs(x))!=1)}setFunctionModule(h,m,x){this.modules[m][h]=x,this.isFunction[m][h]=!0}addEccAndInterleave(h){const m=this.version,x=this.errorCorrectionLevel;if(h.length!=_e.getNumDataCodewords(m,x))throw new RangeError("Invalid argument");const y=_e.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][m],b=_e.ECC_CODEWORDS_PER_BLOCK[x.ordinal][m],j=Math.floor(_e.getNumRawDataModules(m)/8),S=y-j%y,k=Math.floor(j/y);let w=[];const C=_e.reedSolomonComputeDivisor(b);for(let R=0,O=0;R<y;R++){let T=h.slice(O,O+k-b+(R<S?0:1));O+=T.length;const L=_e.reedSolomonComputeRemainder(T,C);R<S&&T.push(0),w.push(T.concat(L))}let A=[];for(let R=0;R<w[0].length;R++)w.forEach((O,T)=>{(R!=k-b||T>=S)&&A.push(O[R])});return o(A.length==j),A}drawCodewords(h){if(h.length!=Math.floor(_e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let x=this.size-1;x>=1;x-=2){x==6&&(x=5);for(let y=0;y<this.size;y++)for(let b=0;b<2;b++){const j=x-b,k=(x+1&2)==0?this.size-1-y:y;!this.isFunction[k][j]&&m<h.length*8&&(this.modules[k][j]=i(h[m>>>3],7-(m&7)),m++)}}o(m==h.length*8)}applyMask(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let x=0;x<this.size;x++){let y;switch(h){case 0:y=(x+m)%2==0;break;case 1:y=m%2==0;break;case 2:y=x%3==0;break;case 3:y=(x+m)%3==0;break;case 4:y=(Math.floor(x/3)+Math.floor(m/2))%2==0;break;case 5:y=x*m%2+x*m%3==0;break;case 6:y=(x*m%2+x*m%3)%2==0;break;case 7:y=((x+m)%2+x*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][x]&&y&&(this.modules[m][x]=!this.modules[m][x])}}getPenaltyScore(){let h=0;for(let b=0;b<this.size;b++){let j=!1,S=0,k=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[b][w]==j?(S++,S==5?h+=_e.PENALTY_N1:S>5&&h++):(this.finderPenaltyAddHistory(S,k),j||(h+=this.finderPenaltyCountPatterns(k)*_e.PENALTY_N3),j=this.modules[b][w],S=1);h+=this.finderPenaltyTerminateAndCount(j,S,k)*_e.PENALTY_N3}for(let b=0;b<this.size;b++){let j=!1,S=0,k=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][b]==j?(S++,S==5?h+=_e.PENALTY_N1:S>5&&h++):(this.finderPenaltyAddHistory(S,k),j||(h+=this.finderPenaltyCountPatterns(k)*_e.PENALTY_N3),j=this.modules[w][b],S=1);h+=this.finderPenaltyTerminateAndCount(j,S,k)*_e.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let j=0;j<this.size-1;j++){const S=this.modules[b][j];S==this.modules[b][j+1]&&S==this.modules[b+1][j]&&S==this.modules[b+1][j+1]&&(h+=_e.PENALTY_N2)}let m=0;for(const b of this.modules)m=b.reduce((j,S)=>j+(S?1:0),m);const x=this.size*this.size,y=Math.ceil(Math.abs(m*20-x*10)/x)-1;return o(0<=y&&y<=9),h+=y*_e.PENALTY_N4,o(0<=h&&h<=2568888),h}getAlignmentPatternPositions(){if(this.version==1)return[];{const h=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(h*2-2))*2;let x=[6];for(let y=this.size-7;x.length<h;y-=m)x.splice(1,0,y);return x}}static getNumRawDataModules(h){if(h<_e.MIN_VERSION||h>_e.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*h+128)*h+64;if(h>=2){const x=Math.floor(h/7)+2;m-=(25*x-10)*x-55,h>=7&&(m-=36)}return o(208<=m&&m<=29648),m}static getNumDataCodewords(h,m){return Math.floor(_e.getNumRawDataModules(h)/8)-_e.ECC_CODEWORDS_PER_BLOCK[m.ordinal][h]*_e.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][h]}static reedSolomonComputeDivisor(h){if(h<1||h>255)throw new RangeError("Degree out of range");let m=[];for(let y=0;y<h-1;y++)m.push(0);m.push(1);let x=1;for(let y=0;y<h;y++){for(let b=0;b<m.length;b++)m[b]=_e.reedSolomonMultiply(m[b],x),b+1<m.length&&(m[b]^=m[b+1]);x=_e.reedSolomonMultiply(x,2)}return m}static reedSolomonComputeRemainder(h,m){let x=m.map(y=>0);for(const y of h){const b=y^x.shift();x.push(0),m.forEach((j,S)=>x[S]^=_e.reedSolomonMultiply(j,b))}return x}static reedSolomonMultiply(h,m){if(h>>>8||m>>>8)throw new RangeError("Byte out of range");let x=0;for(let y=7;y>=0;y--)x=x<<1^(x>>>7)*285,x^=(m>>>y&1)*h;return o(x>>>8==0),x}finderPenaltyCountPatterns(h){const m=h[1];o(m<=this.size*3);const x=m>0&&h[2]==m&&h[3]==m*3&&h[4]==m&&h[5]==m;return(x&&h[0]>=m*4&&h[6]>=m?1:0)+(x&&h[6]>=m*4&&h[0]>=m?1:0)}finderPenaltyTerminateAndCount(h,m,x){return h&&(this.finderPenaltyAddHistory(m,x),m=0),m+=this.size,this.finderPenaltyAddHistory(m,x),this.finderPenaltyCountPatterns(x)}finderPenaltyAddHistory(h,m){m[0]==0&&(h+=this.size),m.pop(),m.unshift(h)}};r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function s(f,h,m){if(h<0||h>31||f>>>h)throw new RangeError("Value out of range");for(let x=h-1;x>=0;x--)m.push(f>>>x&1)}function i(f,h){return(f>>>h&1)!=0}function o(f){if(!f)throw new Error("Assertion error")}const u=class ct{constructor(h,m,x){if(this.mode=h,this.numChars=m,this.bitData=x,m<0)throw new RangeError("Invalid argument");this.bitData=x.slice()}static makeBytes(h){let m=[];for(const x of h)s(x,8,m);return new ct(ct.Mode.BYTE,h.length,m)}static makeNumeric(h){if(!ct.isNumeric(h))throw new RangeError("String contains non-numeric characters");let m=[];for(let x=0;x<h.length;){const y=Math.min(h.length-x,3);s(parseInt(h.substring(x,x+y),10),y*3+1,m),x+=y}return new ct(ct.Mode.NUMERIC,h.length,m)}static makeAlphanumeric(h){if(!ct.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],x;for(x=0;x+2<=h.length;x+=2){let y=ct.ALPHANUMERIC_CHARSET.indexOf(h.charAt(x))*45;y+=ct.ALPHANUMERIC_CHARSET.indexOf(h.charAt(x+1)),s(y,11,m)}return x<h.length&&s(ct.ALPHANUMERIC_CHARSET.indexOf(h.charAt(x)),6,m),new ct(ct.Mode.ALPHANUMERIC,h.length,m)}static makeSegments(h){return h==""?[]:ct.isNumeric(h)?[ct.makeNumeric(h)]:ct.isAlphanumeric(h)?[ct.makeAlphanumeric(h)]:[ct.makeBytes(ct.toUtf8ByteArray(h))]}static makeEci(h){let m=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<128)s(h,8,m);else if(h<16384)s(2,2,m),s(h,14,m);else if(h<1e6)s(6,3,m),s(h,21,m);else throw new RangeError("ECI assignment value out of range");return new ct(ct.Mode.ECI,0,m)}static isNumeric(h){return ct.NUMERIC_REGEX.test(h)}static isAlphanumeric(h){return ct.ALPHANUMERIC_REGEX.test(h)}getData(){return this.bitData.slice()}static getTotalBits(h,m){let x=0;for(const y of h){const b=y.mode.numCharCountBits(m);if(y.numChars>=1<<b)return 1/0;x+=4+b+y.bitData.length}return x}static toUtf8ByteArray(h){h=encodeURI(h);let m=[];for(let x=0;x<h.length;x++)h.charAt(x)!="%"?m.push(h.charCodeAt(x)):(m.push(parseInt(h.substring(x+1,x+3),16)),x+=2);return m}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=u;e.QrSegment=u})(Xa||(Xa={}));(e=>{(r=>{const s=class{constructor(o,u){this.ordinal=o,this.formatBits=u}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),r.Ecc=s})(e.QrCode||(e.QrCode={}))})(Xa||(Xa={}));(e=>{(r=>{const s=class{constructor(o,u){this.modeBits=o,this.numBitsCharCount=u}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),r.Mode=s})(e.QrSegment||(e.QrSegment={}))})(Xa||(Xa={}));var Ws=Xa;var X_={L:Ws.QrCode.Ecc.LOW,M:Ws.QrCode.Ecc.MEDIUM,Q:Ws.QrCode.Ecc.QUARTILE,H:Ws.QrCode.Ecc.HIGH},iw=128,lw="L",ow="#FFFFFF",cw="#000000",uw=!1,dw=1,Z_=4,J_=0,eL=.1;function fw(e,r=0){const s=[];return e.forEach(function(i,o){let u=null;i.forEach(function(d,f){if(!d&&u!==null){s.push(`M${u+r} ${o+r}h${f-u}v1H${u+r}z`),u=null;return}if(f===i.length-1){if(!d)return;u===null?s.push(`M${f+r},${o+r} h1v1H${f+r}z`):s.push(`M${u+r},${o+r} h${f+1-u}v1H${u+r}z`);return}d&&u===null&&(u=f)})}),s.join("")}function hw(e,r){return e.slice().map((s,i)=>i<r.y||i>=r.y+r.h?s:s.map((o,u)=>u<r.x||u>=r.x+r.w?o:!1))}function tL(e,r,s,i){if(i==null)return null;const o=e.length+s*2,u=Math.floor(r*eL),d=o/r,f=(i.width||u)*d,h=(i.height||u)*d,m=i.x==null?e.length/2-f/2:i.x*d,x=i.y==null?e.length/2-h/2:i.y*d,y=i.opacity==null?1:i.opacity;let b=null;if(i.excavate){let S=Math.floor(m),k=Math.floor(x),w=Math.ceil(f+m-S),C=Math.ceil(h+x-k);b={x:S,y:k,w,h:C}}const j=i.crossOrigin;return{x:m,y:x,h,w:f,excavation:b,opacity:y,crossOrigin:j}}function nL(e,r){return r!=null?Math.max(Math.floor(r),0):e?Z_:J_}function mw({value:e,level:r,minVersion:s,includeMargin:i,marginSize:o,imageSettings:u,size:d,boostLevel:f}){let h=ke.useMemo(()=>{const S=(Array.isArray(e)?e:[e]).reduce((k,w)=>(k.push(...Ws.QrSegment.makeSegments(w)),k),[]);return Ws.QrCode.encodeSegments(S,X_[r],s,void 0,void 0,f)},[e,r,s,f]);const{cells:m,margin:x,numCells:y,calculatedImageSettings:b}=ke.useMemo(()=>{let j=h.getModules();const S=nL(i,o),k=j.length+S*2,w=tL(j,d,S,u);return{cells:j,margin:S,numCells:k,calculatedImageSettings:w}},[h,d,u,i,o]);return{qrcode:h,margin:x,cells:m,numCells:y,calculatedImageSettings:b}}var rL=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),aL=ke.forwardRef(function(r,s){const i=r,{value:o,size:u=iw,level:d=lw,bgColor:f=ow,fgColor:h=cw,includeMargin:m=uw,minVersion:x=dw,boostLevel:y,marginSize:b,imageSettings:j}=i,k=gm(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:w}=k,C=gm(k,["style"]),A=j?.src,R=ke.useRef(null),O=ke.useRef(null),T=ke.useCallback(le=>{R.current=le,typeof s=="function"?s(le):s&&(s.current=le)},[s]),[L,E]=ke.useState(!1),{margin:D,cells:P,numCells:K,calculatedImageSettings:Y}=mw({value:o,level:d,minVersion:x,boostLevel:y,includeMargin:m,marginSize:b,imageSettings:j,size:u});ke.useEffect(()=>{if(R.current!=null){const le=R.current,ue=le.getContext("2d");if(!ue)return;let H=P;const Q=O.current,I=Y!=null&&Q!==null&&Q.complete&&Q.naturalHeight!==0&&Q.naturalWidth!==0;I&&Y.excavation!=null&&(H=hw(P,Y.excavation));const ne=window.devicePixelRatio||1;le.height=le.width=u*ne;const ce=u/K*ne;ue.scale(ce,ce),ue.fillStyle=f,ue.fillRect(0,0,K,K),ue.fillStyle=h,rL?ue.fill(new Path2D(fw(H,D))):P.forEach(function(_,B){_.forEach(function(X,ee){X&&ue.fillRect(ee+D,B+D,1,1)})}),Y&&(ue.globalAlpha=Y.opacity),I&&ue.drawImage(Q,Y.x+D,Y.y+D,Y.w,Y.h)}}),ke.useEffect(()=>{E(!1)},[A]);const ae=mm({height:u,width:u},w);let ie=null;return A!=null&&(ie=ke.createElement("img",{src:A,key:A,style:{display:"none"},onLoad:()=>{E(!0)},ref:O,crossOrigin:Y?.crossOrigin})),ke.createElement(ke.Fragment,null,ke.createElement("canvas",mm({style:ae,height:u,width:u,ref:T,role:"img"},C)),ie)});aL.displayName="QRCodeCanvas";var gw=ke.forwardRef(function(r,s){const i=r,{value:o,size:u=iw,level:d=lw,bgColor:f=ow,fgColor:h=cw,includeMargin:m=uw,minVersion:x=dw,boostLevel:y,title:b,marginSize:j,imageSettings:S}=i,k=gm(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:w,cells:C,numCells:A,calculatedImageSettings:R}=mw({value:o,level:d,minVersion:x,boostLevel:y,includeMargin:m,marginSize:j,imageSettings:S,size:u});let O=C,T=null;S!=null&&R!=null&&(R.excavation!=null&&(O=hw(C,R.excavation)),T=ke.createElement("image",{href:S.src,height:R.h,width:R.w,x:R.x+w,y:R.y+w,preserveAspectRatio:"none",opacity:R.opacity,crossOrigin:R.crossOrigin}));const L=fw(O,w);return ke.createElement("svg",mm({height:u,width:u,viewBox:`0 0 ${A} ${A}`,ref:s,role:"img"},k),!!b&&ke.createElement("title",null,b),ke.createElement("path",{fill:f,d:`M0,0 h${A}v${A}H0z`,shapeRendering:"crispEdges"}),ke.createElement("path",{fill:h,d:L,shapeRendering:"crispEdges"}),T)});gw.displayName="QRCodeSVG";function sL(){const[e,r]=v.useState(null),[s,i]=v.useState(""),[o,u]=v.useState(null),[d,f]=v.useState(""),[h,m]=v.useState(!1),x=q.useUtils(),{data:y,isLoading:b}=q.user.get2FAStatus.useQuery(),j=q.user.setup2FA.useMutation({onSuccess:A=>{r(A)}}),S=q.user.verify2FA.useMutation({onSuccess:A=>{u(A.backupCodes),r(null),i(""),x.user.get2FAStatus.invalidate()}}),k=q.user.disable2FA.useMutation({onSuccess:()=>{m(!1),f(""),x.user.get2FAStatus.invalidate()}}),w=()=>{s.length===6&&S.mutate({token:s})},C=()=>{d&&k.mutate({password:d})};return b?n.jsx(Ae,{title:"Two-Factor Authentication",description:"Secure your account with 2FA",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})}):o?n.jsx(Ae,{title:"Two-Factor Authentication",description:"Secure your account with 2FA",children:n.jsxs(de,{className:"max-w-xl",children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg text-green-600 dark:text-green-400",children:"2FA Enabled Successfully!"}),n.jsx(Ie,{children:"Save these backup codes in a safe place. You can use them to access your account if you lose your authenticator device."})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:n.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map((A,R)=>n.jsx("code",{className:"font-mono text-sm p-2 bg-white dark:bg-gray-900 rounded border",children:A},R))})}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Each code can only be used once. Keep them safe!"}),n.jsx(re,{onClick:()=>u(null),className:"w-full",children:"Done"})]})]})}):e?n.jsx(Ae,{title:"Two-Factor Authentication",description:"Secure your account with 2FA",children:n.jsxs(de,{className:"max-w-xl",children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg",children:"Setup Two-Factor Authentication"}),n.jsx(Ie,{children:"Scan the QR code with your authenticator app (Google Authenticator, Authy, etc.)"})]}),n.jsxs(pe,{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:n.jsx(gw,{value:e.qrCodeUri,size:200})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Can't scan? Enter this code manually:"}),n.jsx("code",{className:"block p-3 bg-gray-50 dark:bg-gray-800 rounded font-mono text-sm break-all",children:e.secret})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Enter the 6-digit code from your app:"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(Ue,{value:s,onChange:A=>i(A.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"font-mono text-center text-lg tracking-widest",maxLength:6}),n.jsx(re,{onClick:w,disabled:s.length!==6||S.isPending,children:S.isPending?"Verifying...":"Verify"})]}),S.isError&&n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:S.error.message})]}),n.jsx(re,{variant:"outline",onClick:()=>r(null),className:"w-full",children:"Cancel"})]})]})}):n.jsx(Ae,{title:"Two-Factor Authentication",description:"Secure your account with 2FA",children:n.jsxs(de,{className:"max-w-xl",children:[n.jsxs(ve,{children:[n.jsxs(be,{className:"text-lg flex items-center gap-2",children:["Two-Factor Authentication",n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${y?.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}`,children:y?.enabled?"Enabled":"Disabled"})]}),n.jsx(Ie,{children:y?.enabled?"Your account is protected with two-factor authentication.":"Add an extra layer of security to your account by enabling two-factor authentication."})]}),n.jsx(pe,{className:"space-y-4",children:y?.enabled?n.jsx(n.Fragment,{children:h?n.jsxs("div",{className:"space-y-3 p-4 border border-red-200 dark:border-red-800 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Enter your password to disable 2FA:"}),n.jsx(Ue,{type:"password",value:d,onChange:A=>f(A.target.value),placeholder:"Your password"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(re,{variant:"outline",onClick:()=>{m(!1),f("")},className:"flex-1",children:"Cancel"}),n.jsx(re,{onClick:C,disabled:!d||k.isPending,className:"flex-1 bg-red-600 hover:bg-red-700",children:k.isPending?"Disabling...":"Disable 2FA"})]}),k.isError&&n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:k.error.message})]}):n.jsx(re,{variant:"outline",onClick:()=>m(!0),className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Disable Two-Factor Authentication"})}):n.jsx(re,{onClick:()=>j.mutate(),disabled:j.isPending,className:"w-full",children:j.isPending?"Setting up...":"Enable Two-Factor Authentication"})})]})})}function iL(){const[e,r]=v.useState(null),s=q.useUtils(),{data:i,isLoading:o}=q.user.getPublicAccess.useQuery(),u=q.user.enablePublicAccess.useMutation({onSuccess:()=>{s.user.getPublicAccess.invalidate()}}),d=q.user.disablePublicAccess.useMutation({onSuccess:()=>{s.user.getPublicAccess.invalidate()}}),f=q.user.regeneratePublicToken.useMutation({onSuccess:()=>{s.user.getPublicAccess.invalidate()}}),h=async(x,y)=>{await navigator.clipboard.writeText(x),r(y),setTimeout(()=>r(null),2e3)};if(o)return n.jsx(Ae,{title:"Public Access",description:"Manage public RSS and iCal feeds",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})});const m=window.location.origin;return n.jsx(Ae,{title:"Public Access",description:"Manage public RSS and iCal feeds",children:n.jsxs("div",{className:"space-y-6 max-w-2xl",children:[n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsxs(be,{className:"text-lg flex items-center gap-2",children:["Public Access",n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${i?.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}`,children:i?.enabled?"Enabled":"Disabled"})]}),n.jsx(Ie,{children:i?.enabled?"Your public feeds are accessible via the URLs below.":"Enable public access to get RSS and iCal feed URLs for your tasks."})]}),n.jsx(pe,{className:"space-y-4",children:i?.enabled?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Your Public Token"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("code",{className:"flex-1 p-3 bg-gray-50 dark:bg-gray-800 rounded font-mono text-xs break-all",children:i.token}),n.jsx(re,{variant:"outline",size:"sm",onClick:()=>h(i.token,"token"),children:e==="token"?"Copied!":"Copy"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm font-medium",children:"Feed URLs"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs text-muted-foreground",children:"RSS Feed (Tasks)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("code",{className:"flex-1 p-2 bg-gray-50 dark:bg-gray-800 rounded font-mono text-xs break-all",children:[m,"/api/feed/user/",i.token]}),n.jsx(re,{variant:"outline",size:"sm",onClick:()=>h(`${m}/api/feed/user/${i.token}`,"rss"),children:e==="rss"?"Copied!":"Copy"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs text-muted-foreground",children:"iCal Feed (Calendar)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("code",{className:"flex-1 p-2 bg-gray-50 dark:bg-gray-800 rounded font-mono text-xs break-all",children:[m,"/api/ical/user/",i.token]}),n.jsx(re,{variant:"outline",size:"sm",onClick:()=>h(`${m}/api/ical/user/${i.token}`,"ical"),children:e==="ical"?"Copied!":"Copy"})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[n.jsx(re,{variant:"outline",onClick:()=>f.mutate(),disabled:f.isPending,className:"flex-1",children:f.isPending?"Regenerating...":"Regenerate Token"}),n.jsx(re,{variant:"outline",onClick:()=>d.mutate(),disabled:d.isPending,className:"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:d.isPending?"Disabling...":"Disable Access"})]})]}):n.jsx(re,{onClick:()=>u.mutate(),disabled:u.isPending,className:"w-full",children:u.isPending?"Enabling...":"Enable Public Access"})})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"About Public Access"})}),n.jsxs(pe,{className:"space-y-3 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"RSS Feed:"})," Subscribe to your tasks in any RSS reader to stay updated on task changes."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"iCal Feed:"})," Subscribe in your calendar app (Google Calendar, Outlook, Apple Calendar) to see task due dates."]}),n.jsxs("p",{className:"text-yellow-600 dark:text-yellow-400",children:[n.jsx("strong",{children:"Security Note:"})," Anyone with your public token can access your task information. Regenerate your token if you suspect it has been compromised."]})]})]})]})})}function yb({checked:e,onChange:r,disabled:s}){return n.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>r(!e),disabled:s,className:`
        relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent
        transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2
        ${e?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}
        ${s?"opacity-50 cursor-not-allowed":""}
      `,children:n.jsx("span",{className:`
          pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0
          transition duration-200 ease-in-out
          ${e?"translate-x-5":"translate-x-0"}
        `})})}function lL(){const e=q.useUtils(),{data:r,isLoading:s}=q.notification.getSettings.useQuery(),i=q.notification.updateSettings.useMutation({onSuccess:()=>{e.notification.getSettings.invalidate()}}),o=q.notification.updateTypeSetting.useMutation({onSuccess:()=>{e.notification.getSettings.invalidate()}});if(s)return n.jsx(Ae,{title:"Notifications",description:"Manage your notification preferences",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})});const u=[{value:1,label:"All tasks",description:"Receive notifications for all tasks in your projects"},{value:2,label:"Assigned to me",description:"Only tasks assigned to you"},{value:3,label:"Created by me",description:"Only tasks you created"},{value:4,label:"Assigned or created by me",description:"Tasks you created or are assigned to (recommended)"}],d={email:{label:"Email",description:"Receive email notifications for important updates"},web:{label:"Web",description:"In-app notifications in the notification center"},push:{label:"Push",description:"Browser push notifications (requires permission)"}};return n.jsx(Ae,{title:"Notifications",description:"Manage your notification preferences",children:n.jsxs("div",{className:"space-y-6 max-w-2xl",children:[n.jsx(de,{children:n.jsxs(ve,{children:[n.jsxs(be,{className:"text-lg flex items-center justify-between",children:[n.jsx("span",{children:"Notifications"}),n.jsx(yb,{checked:r?.enabled??!0,onChange:f=>i.mutate({notificationsEnabled:f}),disabled:i.isPending})]}),n.jsx(Ie,{children:r?.enabled?"You will receive notifications based on your preferences below.":"All notifications are currently disabled."})]})}),n.jsxs(de,{className:r?.enabled?"":"opacity-50 pointer-events-none",children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg",children:"Task Filter"}),n.jsx(Ie,{children:"Choose which tasks should trigger notifications"})]}),n.jsx(pe,{className:"space-y-3",children:u.map(f=>n.jsxs("label",{className:`
                  flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors
                  ${r?.filter===f.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}
                `,children:[n.jsx("input",{type:"radio",name:"notificationFilter",value:f.value,checked:r?.filter===f.value,onChange:()=>i.mutate({notificationFilter:f.value}),className:"mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:f.label}),n.jsx("p",{className:"text-sm text-muted-foreground",children:f.description})]})]},f.value))})]}),n.jsxs(de,{className:r?.enabled?"":"opacity-50 pointer-events-none",children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg",children:"Delivery Methods"}),n.jsx(Ie,{children:"Choose how you want to receive notifications"})]}),n.jsx(pe,{className:"space-y-4",children:r?.types.map(f=>{const h=d[f.type]??{label:f.type,description:""};return n.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-0 dark:border-gray-700",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:h.label}),n.jsx("p",{className:"text-sm text-muted-foreground",children:h.description})]}),n.jsx(yb,{checked:f.enabled,onChange:m=>o.mutate({notificationType:f.type,isEnabled:m}),disabled:o.isPending})]},f.type)})})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"About Notifications"})}),n.jsxs(pe,{className:"space-y-3 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Task events:"})," Task assignments, due date changes, comments, and status updates."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Project events:"})," Project invitations, member changes, and milestone updates."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"System events:"})," Account security alerts and important announcements."]})]})]})]})})}const Uh={google:{name:"Google",icon:n.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),color:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50",description:"Sign in with your Google account"},github:{name:"GitHub",icon:n.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),color:"bg-gray-900 text-white hover:bg-gray-800",description:"Sign in with your GitHub account"},gitlab:{name:"GitLab",icon:n.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z",fill:"#E24329"})}),color:"bg-orange-600 text-white hover:bg-orange-700",description:"Sign in with your GitLab account"}};function oL(){const[e,r]=v.useState(null),[s,i]=v.useState(null),o=q.useUtils(),{data:u,isLoading:d}=q.user.getConnectedAccounts.useQuery(),f=q.user.unlinkAccount.useMutation({onSuccess:()=>{o.user.getConnectedAccounts.invalidate(),i(null),r(null)},onError:()=>{r(null)}}),h=y=>{r(y),f.mutate({provider:y})},m=y=>{alert(`OAuth linking for ${Uh[y].name} requires server-side OAuth configuration. This feature will be available once OAuth credentials are configured.`)};if(d)return n.jsx(Ae,{title:"External Accounts",description:"Manage connected OAuth accounts",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})});const x=u?[u.google.connected,u.github.connected,u.gitlab.connected].filter(Boolean).length:0;return n.jsx(Ae,{title:"External Accounts",description:"Manage connected OAuth accounts",children:n.jsxs("div",{className:"space-y-6 max-w-2xl",children:[n.jsx(de,{children:n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg",children:"Connected Accounts"}),n.jsx(Ie,{children:x===0?"No external accounts connected. Link an account for easier sign-in.":`${x} account${x>1?"s":""} connected`})]})}),n.jsx("div",{className:"space-y-4",children:Object.keys(Uh).map(y=>{const b=Uh[y],j=u?.[y],S=j?.connected??!1;return n.jsx(de,{children:n.jsxs(pe,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-lg ${S?"bg-green-50 dark:bg-green-900/20":"bg-gray-100 dark:bg-gray-800"}`,children:b.icon}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[b.name,S&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:"Connected"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S?`ID: ${j?.id?.slice(0,12)}...`:b.description})]})]}),n.jsx("div",{children:S?s===y?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(re,{variant:"outline",size:"sm",onClick:()=>i(null),children:"Cancel"}),n.jsx(re,{size:"sm",onClick:()=>h(y),disabled:e===y,className:"bg-red-600 hover:bg-red-700 text-white",children:e===y?"Unlinking...":"Confirm"})]}):n.jsx(re,{variant:"outline",size:"sm",onClick:()=>i(y),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Unlink"}):n.jsxs(re,{size:"sm",onClick:()=>m(y),className:b.color,children:["Link ",b.name]})})]}),f.isError&&e===y&&n.jsx("p",{className:"mt-3 text-sm text-red-600 dark:text-red-400",children:f.error.message})]})},y)})}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"About External Accounts"})}),n.jsxs(pe,{className:"space-y-3 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Single Sign-On:"})," Connect your accounts to sign in faster without remembering another password."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Security:"})," Kanbu only requests basic profile information. We never access your repositories, emails, or other data."]}),n.jsxs("p",{className:"text-yellow-600 dark:text-yellow-400",children:[n.jsx("strong",{children:"Note:"})," You must have at least one authentication method (password or external account) to access your account."]})]})]})]})})}const cL=[{id:"webhooks",name:"Webhooks",description:"Send HTTP callbacks when events occur in your projects",icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),status:"coming_soon"},{id:"slack",name:"Slack",description:"Get notifications and updates directly in your Slack workspace",icon:n.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})}),status:"coming_soon"},{id:"discord",name:"Discord",description:"Post task updates to your Discord server channels",icon:n.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"})}),status:"coming_soon"},{id:"mcp",name:"MCP Servers",description:"Connect Model Context Protocol servers for AI-powered automation",icon:n.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),status:"coming_soon"}];function uL(){return n.jsx(Ae,{title:"Integrations",description:"Connect external services to your account",children:n.jsxs("div",{className:"space-y-6 max-w-2xl",children:[n.jsx(de,{children:n.jsxs(ve,{children:[n.jsxs(be,{className:"text-lg flex items-center gap-2",children:["Integrations",n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:"Coming Soon"})]}),n.jsx(Ie,{children:"Connect external services to automate your workflow and receive notifications where you work."})]})}),n.jsx("div",{className:"space-y-4",children:cL.map(e=>n.jsx(de,{className:"opacity-60",children:n.jsx(pe,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400",children:e.icon}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[e.name,e.status==="coming_soon"&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"(Coming Soon)"}),e.status==="beta"&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",children:"Beta"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]}),n.jsx("div",{children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:"Not Available"})})]})})},e.id))}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"About Integrations"})}),n.jsxs(pe,{className:"space-y-3 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Webhooks:"})," Automatically trigger external services when tasks are created, updated, or completed."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Chat Apps:"})," Receive real-time notifications in Slack, Discord, or Microsoft Teams."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"MCP Servers:"})," Connect AI assistants via the Model Context Protocol for intelligent automation."]}),n.jsx("p",{className:"text-blue-600 dark:text-blue-400",children:"These features are currently in development. Check back soon for updates!"})]})]})]})})}function vb(e){return(typeof e=="string"?new Date(e):e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function dL(e){return e?(typeof e=="string"?new Date(e):e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never"}function fL(){const[e,r]=v.useState(!1),[s,i]=v.useState(""),[o,u]=v.useState([]),[d,f]=v.useState("never"),[h,m]=v.useState(null),[x,y]=v.useState(null),[b,j]=v.useState(!1),S=q.useUtils(),{data:k,isLoading:w}=q.apiKey.list.useQuery(),{data:C}=q.apiKey.getPermissions.useQuery(),A=q.apiKey.create.useMutation({onSuccess:E=>{m(E.key),r(!1),i(""),u([]),f("never"),S.apiKey.list.invalidate()}}),R=q.apiKey.revoke.useMutation({onSuccess:()=>{S.apiKey.list.invalidate(),y(null)}}),O=()=>{let E;if(d!=="never"){const D=parseInt(d),P=new Date;P.setDate(P.getDate()+D),E=P.toISOString()}A.mutate({name:s,permissions:o,expiresAt:E})},T=async E=>{await navigator.clipboard.writeText(E),j(!0),setTimeout(()=>j(!1),2e3)},L=E=>{u(D=>D.includes(E)?D.filter(P=>P!==E):[...D,E])};return w?n.jsx(Ae,{title:"API Tokens",description:"Manage your personal access tokens",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})}):h?n.jsx(Ae,{title:"API Tokens",description:"Manage your personal access tokens",children:n.jsxs(de,{className:"max-w-2xl",children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg text-green-600 dark:text-green-400",children:"API Token Created Successfully!"}),n.jsx(Ie,{children:"Copy your new API token now. You won't be able to see it again!"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[n.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-3",children:"Make sure to copy your API token now. For security reasons, it won't be shown again."}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("code",{className:"flex-1 p-3 bg-white dark:bg-gray-900 rounded font-mono text-sm break-all border",children:h}),n.jsx(re,{onClick:()=>T(h),variant:"outline",children:b?"Copied!":"Copy"})]})]}),n.jsx(re,{onClick:()=>m(null),className:"w-full",children:"Done"})]})]})}):n.jsx(Ae,{title:"API Tokens",description:"Manage your personal access tokens",children:n.jsxs("div",{className:"space-y-6 max-w-2xl",children:[n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsxs(be,{className:"text-lg flex items-center justify-between",children:[n.jsx("span",{children:"API Tokens"}),!e&&n.jsx(re,{size:"sm",onClick:()=>r(!0),children:"Create Token"})]}),n.jsx(Ie,{children:"Create personal access tokens to authenticate API requests."})]}),e&&n.jsxs(pe,{className:"space-y-4 border-t pt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"keyName",children:"Token Name"}),n.jsx(Ue,{id:"keyName",value:s,onChange:E=>i(E.target.value),placeholder:"e.g., CI/CD Pipeline"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{children:"Permissions"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:C?.map(E=>n.jsxs("label",{className:`
                        flex items-center gap-2 p-2 rounded border cursor-pointer text-sm
                        ${o.includes(E.value)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}
                      `,children:[n.jsx("input",{type:"checkbox",checked:o.includes(E.value),onChange:()=>L(E.value)}),n.jsx("span",{children:E.label})]},E.value))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"expires",children:"Expiration"}),n.jsxs("select",{id:"expires",value:d,onChange:E=>f(E.target.value),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",children:[n.jsx("option",{value:"never",children:"No expiration"}),n.jsx("option",{value:"7",children:"7 days"}),n.jsx("option",{value:"30",children:"30 days"}),n.jsx("option",{value:"90",children:"90 days"}),n.jsx("option",{value:"365",children:"1 year"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(re,{variant:"outline",onClick:()=>{r(!1),i(""),u([])},className:"flex-1",children:"Cancel"}),n.jsx(re,{onClick:O,disabled:!s.trim()||A.isPending,className:"flex-1",children:A.isPending?"Creating...":"Create Token"})]})]})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsxs(be,{className:"text-lg flex items-center justify-between",children:[n.jsx("span",{children:"Your Tokens"}),n.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[k?.length??0," tokens"]})]})}),n.jsx(pe,{children:!k||k.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No API tokens created yet"}):n.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:k.map(E=>n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium",children:E.name}),!E.isActive&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400",children:"Inactive"}),E.isExpired&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",children:"Expired"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[n.jsxs("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:[E.keyPrefix,"..."]}),"  ","Created ",vb(E.createdAt)]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last used: ",dL(E.lastUsedAt),E.expiresAt&&n.jsxs(n.Fragment,{children:["  ","Expires: ",vb(E.expiresAt)]})]}),E.permissions.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:E.permissions.map(D=>n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:D},D))})]}),n.jsx("div",{children:x===E.id?n.jsxs("div",{className:"flex gap-2",children:[n.jsx(re,{size:"sm",variant:"outline",onClick:()=>y(null),children:"Cancel"}),n.jsx(re,{size:"sm",onClick:()=>R.mutate({keyId:E.id}),disabled:R.isPending,className:"bg-red-600 hover:bg-red-700 text-white",children:"Confirm"})]}):n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>y(E.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Revoke"})})]})},E.id))})})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"About API Tokens"})}),n.jsxs(pe,{className:"space-y-3 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Authentication:"})," Use tokens in the Authorization header: ",n.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"Authorization: Bearer kb_..."})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Permissions:"})," Each token can have specific permissions to limit access."]}),n.jsxs("p",{className:"text-yellow-600 dark:text-yellow-400",children:[n.jsx("strong",{children:"Security:"})," Treat your API tokens like passwords. Never share them or commit them to version control."]})]})]})]})})}function hL(){const[e,r]=v.useState(""),[s,i]=v.useState(!1),o=q.useUtils(),{data:u,isLoading:d}=q.user.getHourlyRate.useQuery(),f=q.user.updateHourlyRate.useMutation({onSuccess:()=>{o.user.getHourlyRate.invalidate(),i(!1)}});v.useEffect(()=>{u?.hourlyRate!==void 0&&r(u.hourlyRate!==null?String(u.hourlyRate):"")},[u]),v.useEffect(()=>{if(u!==void 0){const x=u.hourlyRate!==null?String(u.hourlyRate):"";i(e!==x)}},[e,u]);const h=x=>{x.preventDefault();const y=e.trim()===""?null:parseFloat(e);f.mutate({hourlyRate:y})},m=x=>{(x===""||/^\d*\.?\d{0,2}$/.test(x))&&r(x)};return d?n.jsx(Ae,{title:"Hourly Rate",description:"Set your hourly rate for cost calculations",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})}):n.jsx(Ae,{title:"Hourly Rate",description:"Set your hourly rate for cost calculations",children:n.jsxs("div",{className:"space-y-6 max-w-xl",children:[n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg",children:"Your Hourly Rate"}),n.jsx(Ie,{children:"This rate is used to calculate costs based on time tracked on tasks."})]}),n.jsx(pe,{children:n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"hourlyRate",children:"Hourly Rate (EUR)"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),n.jsx(Ue,{id:"hourlyRate",type:"text",inputMode:"decimal",value:e,onChange:x=>m(x.target.value),placeholder:"0.00",className:"pl-8 text-right font-mono"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty if you don't want to track costs"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>{const x=u?.hourlyRate!==null?String(u?.hourlyRate??""):"";r(x)},disabled:!s,className:"flex-1",children:"Reset"}),n.jsx(re,{type:"submit",disabled:!s||f.isPending,className:"flex-1",children:f.isPending?"Saving...":"Save"})]}),f.isSuccess&&n.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 text-center",children:"Hourly rate updated successfully!"}),f.isError&&n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:"Failed to update hourly rate. Please try again."})]})})]}),e&&parseFloat(e)>0&&n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"Cost Calculation Preview"})}),n.jsx(pe,{children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"1 hour of work:"}),n.jsxs("span",{className:"font-mono",children:[" ",parseFloat(e).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"8 hours (1 day):"}),n.jsxs("span",{className:"font-mono",children:[" ",(parseFloat(e)*8).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"40 hours (1 week):"}),n.jsxs("span",{className:"font-mono",children:[" ",(parseFloat(e)*40).toFixed(2)]})]})]})})]}),n.jsxs(de,{children:[n.jsx(ve,{children:n.jsx(be,{className:"text-lg",children:"About Hourly Rates"})}),n.jsxs(pe,{className:"space-y-3 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Time Tracking:"})," Your hourly rate is multiplied by time spent on tasks to calculate costs."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Budget Reports:"})," Project budgets and reports use individual hourly rates for accurate cost estimation."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Privacy:"})," Your hourly rate is only visible to you and workspace administrators."]})]})]})]})})}function mL(){const[e,r]=v.useState(""),[s,i]=v.useState(""),[o,u]=v.useState(""),[d,f]=v.useState(""),h=q.user.changePassword.useMutation({onSuccess:()=>{r(""),i(""),u(""),f("")},onError:y=>{f(y.message)}}),m=y=>{if(y.preventDefault(),f(""),s!==o){f("New passwords do not match");return}if(s.length<8){f("New password must be at least 8 characters");return}h.mutate({currentPassword:e,newPassword:s})},x=e.length>0&&s.length>=8&&o.length>0;return n.jsx(Ae,{title:"Change Password",description:"Update your account password",children:n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs(de,{children:[n.jsxs(ve,{children:[n.jsx(be,{className:"text-lg",children:"Password"}),n.jsx(Ie,{children:"Enter your current password and choose a new one"})]}),n.jsxs(pe,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"currentPassword",children:"Current Password"}),n.jsx(Ue,{id:"currentPassword",type:"password",value:e,onChange:y=>r(y.target.value),placeholder:"Enter your current password",autoComplete:"current-password"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"newPassword",children:"New Password"}),n.jsx(Ue,{id:"newPassword",type:"password",value:s,onChange:y=>i(y.target.value),placeholder:"Enter new password (min. 8 characters)",autoComplete:"new-password"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xn,{htmlFor:"confirmPassword",children:"Confirm New Password"}),n.jsx(Ue,{id:"confirmPassword",type:"password",value:o,onChange:y=>u(y.target.value),placeholder:"Confirm your new password",autoComplete:"new-password"})]})]})]}),d&&n.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-md",children:d}),h.isSuccess&&n.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-md",children:"Password changed successfully!"}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>{r(""),i(""),u(""),f("")},children:"Clear"}),n.jsx(re,{type:"submit",disabled:!x||h.isPending,children:h.isPending?"Changing...":"Change Password"})]})]})})}function We({children:e}){const r=In(l2),s=Zn();return r?n.jsx(n.Fragment,{children:e}):n.jsx(Pm,{to:"/login",state:{from:s},replace:!0})}function bb({children:e}){return In(l2)?n.jsx(Pm,{to:"/",replace:!0}):n.jsx(n.Fragment,{children:e})}function gL(){return n.jsx(V5,{children:n.jsxs(w5,{children:[n.jsx($e,{path:"/login",element:n.jsx(bb,{children:n.jsx(U6,{})})}),n.jsx($e,{path:"/register",element:n.jsx(bb,{children:n.jsx(H6,{})})}),n.jsx($e,{path:"/",element:n.jsx(We,{children:n.jsx(S6,{})})}),n.jsx($e,{path:"/projects",element:n.jsx(We,{children:n.jsx(G6,{})})}),n.jsx($e,{path:"/workspace/settings",element:n.jsx(We,{children:n.jsx($6,{})})}),n.jsx($e,{path:"/profile",element:n.jsx(We,{children:n.jsx(M_,{})})}),n.jsx($e,{path:"/profile/timetracking",element:n.jsx(We,{children:n.jsx(T_,{})})}),n.jsx($e,{path:"/profile/logins",element:n.jsx(We,{children:n.jsx(I_,{})})}),n.jsx($e,{path:"/profile/sessions",element:n.jsx(We,{children:n.jsx(H_,{})})}),n.jsx($e,{path:"/profile/password-history",element:n.jsx(We,{children:n.jsx(q_,{})})}),n.jsx($e,{path:"/profile/metadata",element:n.jsx(We,{children:n.jsx(V_,{})})}),n.jsx($e,{path:"/profile/edit",element:n.jsx(We,{children:n.jsx(G_,{})})}),n.jsx($e,{path:"/profile/avatar",element:n.jsx(We,{children:n.jsx(K_,{})})}),n.jsx($e,{path:"/profile/2fa",element:n.jsx(We,{children:n.jsx(sL,{})})}),n.jsx($e,{path:"/profile/public",element:n.jsx(We,{children:n.jsx(iL,{})})}),n.jsx($e,{path:"/profile/notifications",element:n.jsx(We,{children:n.jsx(lL,{})})}),n.jsx($e,{path:"/profile/external",element:n.jsx(We,{children:n.jsx(oL,{})})}),n.jsx($e,{path:"/profile/integrations",element:n.jsx(We,{children:n.jsx(uL,{})})}),n.jsx($e,{path:"/profile/api",element:n.jsx(We,{children:n.jsx(fL,{})})}),n.jsx($e,{path:"/profile/hourly-rate",element:n.jsx(We,{children:n.jsx(hL,{})})}),n.jsx($e,{path:"/profile/password",element:n.jsx(We,{children:n.jsx(mL,{})})}),n.jsx($e,{path:"/project/:projectId/board",element:n.jsx(We,{children:n.jsx(LO,{})})}),n.jsx($e,{path:"/project/:projectId/list",element:n.jsx(We,{children:n.jsx(JO,{})})}),n.jsx($e,{path:"/project/:projectId/calendar",element:n.jsx(We,{children:n.jsx(h8,{})})}),n.jsx($e,{path:"/project/:projectId/timeline",element:n.jsx(We,{children:n.jsx(w8,{})})}),n.jsx($e,{path:"/project/:projectId/milestones",element:n.jsx(We,{children:n.jsx(U8,{})})}),n.jsx($e,{path:"/project/:projectId/analytics",element:n.jsx(We,{children:n.jsx(Y8,{})})}),n.jsx($e,{path:"/project/:projectId/import-export",element:n.jsx(We,{children:n.jsx(t_,{})})}),n.jsx($e,{path:"/project/:projectId/webhooks",element:n.jsx(We,{children:n.jsx(s_,{})})}),n.jsx($e,{path:"/settings/api",element:n.jsx(We,{children:n.jsx(a_,{})})}),n.jsx($e,{path:"/project/:projectId/settings",element:n.jsx(We,{children:n.jsx(l_,{})})}),n.jsx($e,{path:"*",element:n.jsx(Pm,{to:"/",replace:!0})})]})})}PN.createRoot(document.getElementById("root")).render(n.jsx(ke.StrictMode,{children:n.jsx(eS,{store:eC,children:n.jsx(q.Provider,{client:S3,queryClient:$y,children:n.jsx(DS,{client:$y,children:n.jsx(gL,{})})})})}));
//# sourceMappingURL=index-Ce9Vx-tx.js.map
